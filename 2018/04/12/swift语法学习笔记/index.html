<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="Swiftè¯­æ³•ç¬”è®°"/>




  <meta name="keywords" content="Swift," />




  <link rel="alternate" href="/atom.xml" title="Fynn's Blog" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1.2" />



<link rel="canonical" href="https://fynn90.github.io/2018/04/12/swiftè¯­æ³•å­¦ä¹ ç¬”è®°/"/>


<meta name="description" content="å¥½å¥‡å¿ƒé©±ä½¿ï¼Œæœ€è¿‘åœ¨å­¦ä¹ Swiftè¿™é—¨è¯­è¨€ã€‚ç¬¬ä¸€æ¬¡æ¥è§¦äº†è§£æ¦‚å†µæ—¶è§‰å¾—å®ƒåƒJavascript,Pythonç­‰è„šæœ¬è¯­è¨€ï¼Œéšç€æ·±å…¥å­¦ä¹ è®©æˆ‘é¢†ç•¥åˆ°äº†å¼ºç±»å‹è¯­è¨€çš„ä¸¥è°¨æ…å¯†ã€‚  æ­¤ç¯‡æ–‡ç« è®°å½•åœ¨é˜…è¯»Swiftå®˜æ–¹æ•™ç¨‹ä¸­æ–‡ç‰ˆä¸­çš„é‡ç‚¹æ‘˜è¦ç¬”è®°ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Swiftè¯­æ³•ç¬”è®°">
<meta property="og:url" content="https://fynn90.github.io/2018/04/12/swift%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Fynn&#39;s Blog">
<meta property="og:description" content="å¥½å¥‡å¿ƒé©±ä½¿ï¼Œæœ€è¿‘åœ¨å­¦ä¹ Swiftè¿™é—¨è¯­è¨€ã€‚ç¬¬ä¸€æ¬¡æ¥è§¦äº†è§£æ¦‚å†µæ—¶è§‰å¾—å®ƒåƒJavascript,Pythonç­‰è„šæœ¬è¯­è¨€ï¼Œéšç€æ·±å…¥å­¦ä¹ è®©æˆ‘é¢†ç•¥åˆ°äº†å¼ºç±»å‹è¯­è¨€çš„ä¸¥è°¨æ…å¯†ã€‚  æ­¤ç¯‡æ–‡ç« è®°å½•åœ¨é˜…è¯»Swiftå®˜æ–¹æ•™ç¨‹ä¸­æ–‡ç‰ˆä¸­çš„é‡ç‚¹æ‘˜è¦ç¬”è®°ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://softnshare.files.wordpress.com/2016/02/swift-og.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/stringSubstring_2x.png">
<meta property="og:image" content="https://i.loli.net/2019/02/12/5c62744cd60b9.png">
<meta property="og:image" content="https://i.loli.net/2019/02/12/5c62749f973e1.png">
<meta property="og:image" content="https://i.loli.net/2019/02/12/5c62751f8944d.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/initializerDelegation01_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/initializersExample01_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/initializersExample02_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/twoPhaseInitialization01_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/twoPhaseInitialization02_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/referenceCycle01_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/referenceCycle02_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/referenceCycle03_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/weakReference01_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/weakReference02_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/unownedReference01_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/unownedReference02_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/memory_increment_2x.png">
<meta property="og:image" content="https://docs.swift.org/swift-book/_images/memory_share_health_oscar_2x.png">
<meta property="article:published_time" content="2018-04-12T13:15:00.000Z">
<meta property="article:modified_time" content="2019-05-17T11:56:25.904Z">
<meta property="article:author" content="Fynn">
<meta property="article:tag" content="Swift">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://softnshare.files.wordpress.com/2016/02/swift-og.png">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1.2" />



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />





<script>
  var CONFIG = {
    search: false,
    searchPath: "/search.xml",
    fancybox: true,
    toc: true,
  }
</script>




  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?607980a031d3edcefed502ce80e77ffb";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-115728733-1', 'auto');
        ga('send', 'pageview');
  </script>



    <title> Swiftè¯­æ³•ç¬”è®° Â· Fynn's Blog </title>
  <meta name="generator" content="Hexo 5.4.0"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Fynn's Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            Tags
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Fynn's Blog</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              é¦–é¡µ
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              å½’æ¡£
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              æ ‡ç­¾
            
          </a>
        </li>
      
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Swiftè¯­æ³•ç¬”è®°
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018å¹´4æœˆ12æ—¥
        </span>
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">æ–‡ç« ç›®å½•</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">åŸºç¡€è¯­æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%92%8C%E5%B8%B8%E9%87%8F"><span class="toc-text">å˜é‡å’Œå¸¸é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">æ•°æ®ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%80%BC"><span class="toc-text">æ•°å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E6%95%B0"><span class="toc-text">æµ®ç‚¹æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">å­—ç¬¦ä¸²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">å¤šè¡Œå­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">éå†å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Unicode"><span class="toc-text">Unicode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B4%A2%E5%BC%95"><span class="toc-text">å­—ç¬¦ä¸²ç´¢å¼•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">å­å­—ç¬¦ä¸²</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%BB%84"><span class="toc-text">å…ƒç»„</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="toc-text">é›†åˆç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84Arrays"><span class="toc-text">æ•°ç»„Arrays</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%EF%BC%88Sets%EF%BC%89"><span class="toc-text">é›†åˆï¼ˆSetsï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8"><span class="toc-text">å­—å…¸</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-text">æšä¸¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E8%81%94%E5%80%BC"><span class="toc-text">å…³è”å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%A7%8B%E5%80%BC"><span class="toc-text">åŸå§‹å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E6%9E%9A%E4%B8%BE"><span class="toc-text">é€’å½’æšä¸¾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">è¿ç®—ç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E9%97%B4%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">åŒºé—´è¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E5%90%88%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">ç©ºåˆè¿ç®—ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%81"><span class="toc-text">æ§åˆ¶æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#switch"><span class="toc-text">switch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#guard"><span class="toc-text">guard</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85"><span class="toc-text">å‡½æ•°å’Œé—­åŒ…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-text">å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-text">é—­åŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%BE%E9%9A%8F%E9%97%AD%E5%8C%85"><span class="toc-text">å°¾éšé—­åŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%83%E9%80%B8%E9%97%AD%E5%8C%85"><span class="toc-text">é€ƒé€¸é—­åŒ…</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">ç±»å’Œç»“æ„ä½“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-amp-%E6%96%B9%E6%B3%95-amp-%E4%B8%8B%E6%A0%87"><span class="toc-text">å±æ€§&amp;æ–¹æ³•&amp;ä¸‹æ ‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-text">å±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%B1%9E%E6%80%A7%E5%92%8C%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-text">å­˜å‚¨å±æ€§å’Œè®¡ç®—å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%B6%E8%BF%9F%E5%AD%98%E5%82%A8%E5%B1%9E%E6%80%A7"><span class="toc-text">å»¶è¿Ÿå­˜å‚¨å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E8%A7%82%E5%AF%9F%E5%99%A8"><span class="toc-text">å±æ€§è§‚å¯Ÿå™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%B1%9E%E6%80%A7"><span class="toc-text">é™æ€å±æ€§</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-text">æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="toc-text">å®ä¾‹æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-text">é™æ€æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E6%A0%87"><span class="toc-text">ä¸‹æ ‡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-text">ç»§æ‰¿</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0"><span class="toc-text">æ„é€ </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-text">è‡ªå®šä¹‰æ„é€ å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%BC%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%9E%84%E9%80%A0%E4%BB%A3%E7%90%86"><span class="toc-text">å€¼ç±»å‹çš„æ„é€ ä»£ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#class%E7%9A%84%E6%9E%84%E9%80%A0%E5%99%A8%E7%B1%BB%E5%9E%8B"><span class="toc-text">classçš„æ„é€ å™¨ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E4%B8%A4%E6%AE%B5%E5%BC%8F%E6%9E%84%E9%80%A0"><span class="toc-text">ç±»çš„ä¸¤æ®µå¼æ„é€ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%99%A8%E9%87%8D%E5%86%99%E5%92%8C%E7%BB%A7%E6%89%BF"><span class="toc-text">çˆ¶ç±»çš„æ„é€ å™¨é‡å†™å’Œç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%A4%B1%E8%B4%A5%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-text">å¯å¤±è´¥æ„é€ å™¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%90%E6%9E%84%E5%99%A8"><span class="toc-text">ææ„å™¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95"><span class="toc-text">æ‰©å±•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-text">è®¡ç®—å±æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-text">æ„é€ å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-1"><span class="toc-text">æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E6%A0%87-1"><span class="toc-text">ä¸‹æ ‡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE"><span class="toc-text">åè®®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-1"><span class="toc-text">å±æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-2"><span class="toc-text">æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%99%A8-1"><span class="toc-text">æ„é€ å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E4%B8%BA%E7%B1%BB%E5%9E%8B"><span class="toc-text">ä½œä¸ºç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E5%8D%8F%E8%AE%AE%E4%B8%80%E8%87%B4%E6%80%A7"><span class="toc-text">æ£€æŸ¥åè®®ä¸€è‡´æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E5%8D%8F%E8%AE%AE"><span class="toc-text">æ‰©å±•åè®®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-text">åè®®çš„ç»§æ‰¿</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-text">æ³›å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB%E5%9E%8B"><span class="toc-text">æ³›å‹ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%BA%A6%E6%9D%9F"><span class="toc-text">æ³›å‹çº¦æŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E8%81%94%E7%B1%BB%E5%9E%8B"><span class="toc-text">å…³è”ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8Bwhere%E8%AF%AD%E5%8F%A5"><span class="toc-text">æ³›å‹whereè¯­å¥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0"><span class="toc-text">è‡ªåŠ¨å¼•ç”¨è®¡æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%BA%E5%BC%95%E7%94%A8"><span class="toc-text">å¼ºå¼•ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%B1%E5%BC%95%E7%94%A8%EF%BC%88weak%EF%BC%89%E5%92%8C-%E6%97%A0%E4%B8%BB%E5%BC%95%E7%94%A8%EF%BC%88unowned%EF%BC%89"><span class="toc-text">å¼±å¼•ç”¨ï¼ˆweakï¼‰å’Œ æ— ä¸»å¼•ç”¨ï¼ˆunownedï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%BC%BA%E5%BC%95%E7%94%A8"><span class="toc-text">é—­åŒ…çš„å¼ºå¼•ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-text">é”™è¯¯å¤„ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E5%AE%9A%E6%B8%85%E7%90%86%E6%93%8D%E4%BD%9C-defer"><span class="toc-text">æŒ‡å®šæ¸…ç†æ“ä½œ defer</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD%EF%BC%88is%EF%BC%89%E5%92%8C%E8%BD%AC%E6%8D%A2%EF%BC%88as%EF%BC%89"><span class="toc-text">ç±»å‹åˆ¤æ–­ï¼ˆisï¼‰å’Œè½¬æ¢ï¼ˆasï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Any-%E5%92%8C-AnyObject-%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">Any å’Œ AnyObject çš„ç±»å‹è½¬æ¢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%AE%89%E5%85%A8"><span class="toc-text">å†…å­˜å®‰å…¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#In-Out-%E5%8F%82%E6%95%B0%E7%9A%84%E8%AE%BF%E9%97%AE%E5%86%B2%E7%AA%81"><span class="toc-text">In-Out å‚æ•°çš„è®¿é—®å†²çª</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E9%87%8C-self-%E7%9A%84%E8%AE%BF%E9%97%AE%E5%86%B2%E7%AA%81"><span class="toc-text">æ–¹æ³•é‡Œ self çš„è®¿é—®å†²çª</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%9A%84%E8%AE%BF%E9%97%AE%E5%86%B2%E7%AA%81"><span class="toc-text">å±æ€§çš„è®¿é—®å†²çª</span></a></li></ol></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <p>å¥½å¥‡å¿ƒé©±ä½¿ï¼Œæœ€è¿‘åœ¨å­¦ä¹ Swiftè¿™é—¨è¯­è¨€ã€‚ç¬¬ä¸€æ¬¡æ¥è§¦äº†è§£æ¦‚å†µæ—¶è§‰å¾—å®ƒåƒJavascript,Pythonç­‰è„šæœ¬è¯­è¨€ï¼Œéšç€æ·±å…¥å­¦ä¹ è®©æˆ‘é¢†ç•¥åˆ°äº†å¼ºç±»å‹è¯­è¨€çš„ä¸¥è°¨æ…å¯†ã€‚</p>
<p><img src="https://softnshare.files.wordpress.com/2016/02/swift-og.png"></p>
<p>æ­¤ç¯‡æ–‡ç« è®°å½•åœ¨é˜…è¯»<a target="_blank" rel="noopener" href="http://www.swift51.com/swift4.0/chapter1/01_swift.html">Swiftå®˜æ–¹æ•™ç¨‹ä¸­æ–‡ç‰ˆ</a>ä¸­çš„é‡ç‚¹æ‘˜è¦ç¬”è®°ã€‚</p>
<span id="more"></span>

<h2 id="åŸºç¡€è¯­æ³•"><a href="#åŸºç¡€è¯­æ³•" class="headerlink" title="åŸºç¡€è¯­æ³•"></a>åŸºç¡€è¯­æ³•</h2><h3 id="å˜é‡å’Œå¸¸é‡"><a href="#å˜é‡å’Œå¸¸é‡" class="headerlink" title="å˜é‡å’Œå¸¸é‡"></a>å˜é‡å’Œå¸¸é‡</h3><p>Swiftä¸­ç”¨<code>let</code>å£°æ˜å¸¸é‡ï¼Œç”¨<code>var</code>å£°æ˜å˜é‡ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> maxNumber <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> currentNumber <span class="operator">=</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>å¸¸é‡è®¾ç½®åå°±ä¸å¯ä»¥ä¿®æ”¹ã€‚</p>
<h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><p>Swiftä¸­å¸¸ç”¨æ•°æ®ç±»å‹æœ‰ï¼š<code>Int</code>ã€<code>Float</code>ã€<code>Double</code>ã€<code>String</code>ã€<code>Bool</code>ã€<code>Tuples</code>ã€<code>Arrays</code>ã€<code>Sets</code>ã€<code>Dictionary</code></p>
<h3 id="æ•°å€¼"><a href="#æ•°å€¼" class="headerlink" title="æ•°å€¼"></a>æ•°å€¼</h3><p>Swiftä¸­<code>Int</code>æä¾›äº†8ï¼ˆInt8ã€UInt8ï¼‰ã€16(Int16ã€UInt16)ã€32(Int32ã€UInt32)ã€64(Int64ã€UInt64)ä½çš„æœ‰ç¬¦å·å’Œæ— ç¬¦å·(U)æ•´æ•°ç±»å‹ã€‚</p>
<p>æ•´æ•°å­—é¢é‡å¯ä»¥è¢«å†™ä½œï¼š</p>
<ul>
<li>ä¸€ä¸ªåè¿›åˆ¶æ•°ï¼Œæ²¡æœ‰å‰ç¼€</li>
<li>ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ï¼Œå‰ç¼€æ˜¯<strong>0b</strong></li>
<li>ä¸€ä¸ªå…«è¿›åˆ¶æ•°ï¼Œå‰ç¼€æ˜¯<strong>0o</strong></li>
<li>ä¸€ä¸ªåå…­è¿›åˆ¶æ•°ï¼Œå‰ç¼€æ˜¯<strong>0x</strong></li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> decimalInteger <span class="operator">=</span> <span class="number">17</span></span><br><span class="line"><span class="keyword">let</span> binaryInteger <span class="operator">=</span> <span class="number">0b10001</span>       <span class="comment">// äºŒè¿›åˆ¶çš„17</span></span><br><span class="line"><span class="keyword">let</span> octalInteger <span class="operator">=</span> <span class="number">0o21</span>           <span class="comment">// å…«è¿›åˆ¶çš„17</span></span><br><span class="line"><span class="keyword">let</span> hexadecimalInteger <span class="operator">=</span> <span class="number">0x11</span>     <span class="comment">// åå…­è¿›åˆ¶çš„17</span></span><br></pre></td></tr></table></figure>

<p>åœ¨å£°æ˜å˜é‡æ—¶ä½ å¯ä»¥å†™ä¸Šæ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä¸å†™ã€‚Swiftä¼šæ ¹æ®ä½ èµ‹å€¼æ¨æ–­è¯¥å˜é‡çš„ç±»å‹ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oneMillion: <span class="type">Int</span> <span class="operator">=</span> <span class="number">1_000_000</span> <span class="comment">// ä¸€ç™¾ä¸‡</span></span><br><span class="line"><span class="keyword">var</span> name: <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;Fynn&quot;</span></span><br><span class="line"><span class="keyword">var</span> age <span class="operator">=</span> <span class="number">28</span></span><br></pre></td></tr></table></figure>

<h3 id="æµ®ç‚¹æ•°"><a href="#æµ®ç‚¹æ•°" class="headerlink" title="æµ®ç‚¹æ•°"></a>æµ®ç‚¹æ•°</h3><p><code>Double</code>è¡¨ç¤º64ä½æµ®ç‚¹æ•°ï¼Œå®ƒçš„ç²¾ç¡®åº¦æ›´é«˜è‡³å°‘æœ‰15ä½æ•°å­—ã€‚<code>Float</code>è¡¨ç¤º32ä½æµ®ç‚¹æ•°ï¼Œåªæœ‰6ä½æ•°å­—ã€‚æ¨èæœ‰é™é€‰æ‹©<code>Double</code></p>
<p>æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢å¿…é¡»æ˜¾å¼æŒ‡å®šç±»å‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> three <span class="operator">=</span> <span class="number">3</span></span><br><span class="line"><span class="keyword">let</span> pointOneFourOneFiveNine <span class="operator">=</span> <span class="number">0.14159</span></span><br><span class="line"><span class="keyword">let</span> pi <span class="operator">=</span> <span class="type">Double</span>(three)<span class="operator">+</span>pointOneFourOneFiveNine</span><br></pre></td></tr></table></figure>

<h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><p>å­—ç¬¦ä¸²æ˜¯ä¸€ç»„æœ‰åºçš„<code>Character</code>ç±»å‹çš„å€¼çš„é›†åˆï¼Œé€šè¿‡<code>String</code>ç±»å‹æ¥è¡¨ç¤ºã€‚</p>
<h4 id="å¤šè¡Œå­—ç¬¦ä¸²"><a href="#å¤šè¡Œå­—ç¬¦ä¸²" class="headerlink" title="å¤šè¡Œå­—ç¬¦ä¸²"></a>å¤šè¡Œå­—ç¬¦ä¸²</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> quotation <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">The White Rabbit put on his spectacles.  &quot;Where shall I begin,</span></span><br><span class="line"><span class="string">please your Majesty?&quot; he asked.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;Begin at the beginning,&quot; the King said gravely, &quot;and go on</span></span><br><span class="line"><span class="string">till you come to the end; then stop.&quot;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>å¤šè¡Œå­—ç¬¦ä¸²æœ‰ä¸€å¯¹ä¸‰ä¸ªåŒå¼•å·åŒ…è£¹ç€çš„ã€‚å¼•å·å†…æ²¡æœ‰æ¢è¡Œç¬¦ï¼Œå¦‚æœä½ æƒ³åœ¨å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡ä¸­å‡ºç°æ¢è¡Œç¬¦çš„è¯ï¼Œå¯ä»¥åœ¨è¡Œå°¾å†™ä¸€ä¸ªåæ–œæ ()ä½œä¸ºç»­è¡Œç¬¦ã€‚</p>
<p>å­—ç¬¦ä¸²å­—é¢é‡å¯ä»¥åŒ…å«ä¸€ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼š</p>
<ul>
<li>è½¬ä¹‰å­—ç¬¦\0(ç©ºå­—ç¬¦)ã€\(åæ–œçº¿)ã€\t(æ°´å¹³åˆ¶è¡¨ç¬¦)ã€\n(æ¢è¡Œç¬¦)ã€\r(å›è½¦ç¬¦)ã€&quot;(åŒå¼•å·)ã€&#39;(å•å¼•å·)ã€‚</li>
<li>Unicode æ ‡é‡ï¼Œå†™æˆ\u{n}(uä¸ºå°å†™)ï¼Œå…¶ä¸­nä¸ºä»»æ„ä¸€åˆ°å…«ä½åå…­è¿›åˆ¶æ•°ä¸”å¯ç”¨çš„ Unicode ä½ç ã€‚</li>
</ul>
<h4 id="éå†å­—ç¬¦ä¸²"><a href="#éå†å­—ç¬¦ä¸²" class="headerlink" title="éå†å­—ç¬¦ä¸²"></a>éå†å­—ç¬¦ä¸²</h4><p>å¯ä»¥é€šè¿‡<code>for-in</code>å¾ªç¯æ¥éå†å­—ç¬¦ä¸²ï¼Œè·å–å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦çš„å€¼ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> character <span class="keyword">in</span> <span class="string">&quot;Mouse&quot;</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(character)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// M</span></span><br><span class="line"><span class="comment">// o</span></span><br><span class="line"><span class="comment">// u</span></span><br><span class="line"><span class="comment">// s</span></span><br><span class="line"><span class="comment">// e</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥é€šè¿‡<code>+=</code>å°†ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŠ ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>append()</code>æ–¹æ³•å°†ä¸€ä¸ªå­—ç¬¦ä¸²é™„åŠ åˆ°å¦ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡å°¾éƒ¨ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 <span class="operator">=</span> <span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="keyword">var</span> str2 <span class="operator">=</span> <span class="string">&quot;world&quot;</span></span><br><span class="line">str1 <span class="operator">+=</span> str1</span><br><span class="line">str1.append(<span class="string">&quot;!&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼š ä¸èƒ½å°†ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªå­—ç¬¦æ·»åŠ åˆ°ä¸€ä¸ªå·²ç»å­˜åœ¨çš„<strong>å­—ç¬¦</strong>å˜é‡ä¸Šã€‚å› ä¸ºå­—ç¬¦å˜é‡åªèƒ½åŒ…å«ä¸€ä¸ªå­—ç¬¦ã€‚</p>
<p>å¯ä»¥å‘å­—ç¬¦ä¸²ä¸­ä¼ å…¥å˜é‡ï¼Œè¯­æ³•æ˜¯ï¼š<code>\(variable)</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> multiplier <span class="operator">=</span> <span class="number">3</span></span><br><span class="line"><span class="keyword">let</span> message <span class="operator">=</span> <span class="string">&quot;<span class="subst">\(multiplier)</span> times 2.5 is <span class="subst">\(Double(multiplier) <span class="operator">*</span> <span class="number">2.5</span>)</span>&quot;</span></span><br><span class="line"><span class="comment">// message æ˜¯ &quot;3 times 2.5 is 7.5&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h4><p><em>Unicode</em>æ˜¯ä¸€ä¸ªå›½é™…æ ‡å‡†ï¼Œç”¨äºæ–‡æœ¬çš„ç¼–ç å’Œè¡¨ç¤ºã€‚å®ƒä½¿æ‚¨å¯ä»¥ç”¨æ ‡å‡†æ ¼å¼è¡¨ç¤ºæ¥è‡ªä»»æ„è¯­è¨€å‡ ä¹æ‰€æœ‰çš„å­—ç¬¦ï¼Œå¹¶èƒ½å¤Ÿå¯¹æ–‡æœ¬æ–‡ä»¶æˆ–ç½‘é¡µè¿™æ ·çš„å¤–éƒ¨èµ„æºä¸­çš„å­—ç¬¦è¿›è¡Œè¯»å†™æ“ä½œã€‚ Swift çš„<code>String</code>å’Œ<code>Character</code>ç±»å‹æ˜¯å®Œå…¨å…¼å®¹ Unicode æ ‡å‡†çš„ã€‚</p>
<p>Swift çš„Stringç±»å‹æ˜¯åŸºäº Unicode æ ‡é‡ å»ºç«‹çš„ã€‚ Unicode æ ‡é‡æ˜¯å¯¹åº”å­—ç¬¦æˆ–è€…ä¿®é¥°ç¬¦çš„å”¯ä¸€çš„21ä½æ•°å­—ï¼Œä¾‹å¦‚U+0061è¡¨ç¤ºå°å†™çš„æ‹‰ä¸å­—æ¯(LATIN SMALL LETTER A)(â€œaâ€)ï¼ŒU+1F425è¡¨ç¤ºå°é¸¡è¡¨æƒ…(FRONT-FACING BABY CHICK) (â€œğŸ¥â€)ã€‚</p>
<p>Swiftä¸­ä¸€ä¸ªUnicodeç ä½è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚</p>
<h4 id="å­—ç¬¦ä¸²ç´¢å¼•"><a href="#å­—ç¬¦ä¸²ç´¢å¼•" class="headerlink" title="å­—ç¬¦ä¸²ç´¢å¼•"></a><a target="_blank" rel="noopener" href="https://docs.swift.org/swift-book/LanguageGuide/StringsAndCharacters.html#ID494">å­—ç¬¦ä¸²ç´¢å¼•</a></h4><p>æ¯ä¸€ä¸ª<code>String</code>å€¼éƒ½æœ‰ä¸€ä¸ªå…³è”çš„ç´¢å¼•ï¼ˆindexï¼‰ç±»å‹ï¼Œå¦‚æœéœ€è¦è·å–ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŒ‡å®šä½ç½®çš„å­—ç¬¦éœ€è¦å…ˆè·å–åˆ°è¯¥å­—ç¬¦çš„indexç´¢å¼•å€¼ã€‚</p>
<p>è·å–indexç´¢å¼•å€¼æ–¹æ³•æœ‰ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str <span class="operator">=</span> <span class="string">&quot;Hello World!&quot;</span></span><br><span class="line"><span class="keyword">let</span> first <span class="operator">=</span> str.startIndex <span class="comment">// å­—ç¬¦ä¸²ç¬¬ä¸€å­—ç¬¦çš„ indexå€¼</span></span><br><span class="line">str[first] # <span class="string">&quot;H&quot;</span></span><br><span class="line"></span><br><span class="line">str.endIndex # å­—ç¬¦ä¸²æœ€åä¸€ä¸ªå­—ç¬¦</span><br><span class="line">str.index(before: str.endIndex) <span class="comment">// str.index(before:indexType) è·å–indexTypeä½ç½®å‰ä¸€ä¸ªå­—ç¬¦çš„index</span></span><br><span class="line">str.index(after: str.startIndex) <span class="comment">// str.index(after:indexType) è·å–indexTypeä½ç½®åä¸€ä¸ªå­—ç¬¦çš„index</span></span><br><span class="line">str.index(str.startIndex,offserBy:<span class="number">2</span>) <span class="comment">// str.index(indexType,offserBy:intType) è·å– indexTypeåç§»é‡intTypeå­—ç¬¦index</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong><code>str.endIndex</code>è·å–æ˜¯æœ€åä¸€ä¸ªå­—ç¬¦ä½ç½®åŠ ä¸€çš„å€¼ã€‚è¶Šç•Œè·å–å­—ç¬¦ä¼šå¼•å‘è¿è¡Œæ—¶é”™è¯¯ã€‚</p>
<p><code>string</code>åŒ…å«ä¸€ä¸ª<code>indices</code>å±æ€§å¯ä»¥è·å–è¯¥å­—ç¬¦ä¸²å…¨éƒ¨ç´¢å¼•çš„èŒƒå›´ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> animal <span class="operator">=</span> <span class="string">&quot;Mouse&quot;</span></span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> animal.indices &#123;</span><br><span class="line">   <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(animal[index])</span> &quot;</span>, terminator: <span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰“å°è¾“å‡º &quot;M o u s e&quot;</span></span><br></pre></td></tr></table></figure>

<p>å­—ç¬¦ä¸²ä¸­ä¸€ä¸ªå­—ç¬¦çš„æ’å…¥å’Œåˆ é™¤é€šè¿‡:<code>insert(_,at:)</code>å’Œ<code>remove(at:)</code>å®Œæˆã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> welcome <span class="operator">=</span> <span class="string">&quot;hello&quot;</span></span><br><span class="line">welcome.insert(<span class="string">&quot;!&quot;</span>, at: welcome.endIndex) <span class="comment">// æ’å…¥ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="comment">// welcome now equals &quot;hello!&quot;</span></span><br><span class="line"></span><br><span class="line">welcome.insert(contentsOf: <span class="string">&quot; there&quot;</span>, at: welcome.index(before: welcome.endIndex)) <span class="comment">// æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">// welcome now equals &quot;hello there!&quot;</span></span><br></pre></td></tr></table></figure>

<p>æ’å…¥å’Œåˆ é™¤ä¸€ä¸ªå­—ç¬¦ä¸²é€šè¿‡ï¼š<code>insert(contentsOf:at:)</code>å’Œ<code>removeSubrange(_:)</code>å®Œæˆã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">welcome.remove(at: welcome.index(before: welcome.endIndex)) <span class="comment">// åˆ é™¤ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="comment">// welcome now equals &quot;hello there&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> range <span class="operator">=</span> welcome.index(welcome.endIndex, offsetBy: <span class="operator">-</span><span class="number">6</span>)<span class="operator">..&lt;</span>welcome.endIndex</span><br><span class="line">welcome.removeSubrange(range) <span class="comment">// åˆ é™¤ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">// welcome now equals &quot;hello&quot;</span></span><br></pre></td></tr></table></figure>



<h4 id="å­å­—ç¬¦ä¸²"><a href="#å­å­—ç¬¦ä¸²" class="headerlink" title="å­å­—ç¬¦ä¸²"></a>å­å­—ç¬¦ä¸²</h4><p>ä»ä¸€ä¸ªå­—ç¬¦ä¸²è·å–ä¸€ä¸ªå­å­—ç¬¦ä¸²é€šè¿‡ï¼šä½¿ç”¨<code>string.index(of:str)</code>è·å–èµ·å§‹å’Œç»“æŸå­—ç¬¦index,ç„¶ååˆ©ç”¨åŒºé—´è·å–å­å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> greeting <span class="operator">=</span> <span class="string">&quot;Hello, world!&quot;</span></span><br><span class="line"><span class="keyword">let</span> index <span class="operator">=</span> greeting.index(of: <span class="string">&quot;,&quot;</span>) <span class="operator">??</span> greeting.endIndex <span class="comment">// è·å– &#x27;,&#x27;indexå€¼ï¼Œå¦‚æœæ²¡æœ‰åˆ™è·å–greetingå­—ç¬¦ä¸²é•¿åº¦indexå€¼</span></span><br><span class="line"><span class="keyword">let</span> beginning <span class="operator">=</span> greeting[<span class="operator">..&lt;</span>index] <span class="comment">// åˆ©ç”¨åŒºé—´è·å–å­å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">// beginning çš„å€¼ä¸º &quot;Hello&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠç»“æœè½¬åŒ–ä¸º String ä»¥ä¾¿é•¿æœŸå­˜å‚¨ã€‚ å­å­—ç¬¦ä¸²åªèƒ½ä¸´æ—¶ä½¿ç”¨ï¼Œå¦‚æœè¦é•¿æœŸä½¿ç”¨éœ€è½¬ä¸ºstring</span></span><br><span class="line"><span class="keyword">let</span> newString <span class="operator">=</span> <span class="type">String</span>(beginning)</span><br></pre></td></tr></table></figure>

<p>åœ¨Swiftä¸­å­å­—ç¬¦ä¸²æŒ‡å‘åŸå­—ç¬¦ä¸²æŸæ®µå­—ç¬¦ä¸²çš„å†…å­˜åœ°å€ã€‚è¿™æ˜¯Swiftæ€§èƒ½ä¼˜åŒ–çš„åœ°æ–¹ï¼Œè¿™æ ·é¿å…äº†åœ¨è·å–å­å­—ç¬¦ä¸²æ—¶éœ€è¦è¿›è¡Œå†…å­˜çš„æ‹·è´å’ŒèŠ‚çœäº†å†…å­˜ç©ºé—´ã€‚å¦‚æœä½ éœ€è¦é•¿æ—¶é—´ä½¿ç”¨å­å­—ç¬¦ä¸²ï¼Œä½ åº”è¯¥å°†å­å­—ç¬¦ä¸²è½¬åŒ–æˆç‹¬ç«‹çš„å­—ç¬¦ä¸²ï¼Œå› ä¸ºå¦‚æœå­å­—ç¬¦ä¸²ä¸€ç›´åœ¨ä½¿ç”¨åŸæ¥çš„å­—ç¬¦ä¸²ä¼šä¸€ç›´å­˜åœ¨ï¼Œè¿™æ ·ä¼šæœ‰ä¸å¿…è¦çš„å†…å­˜ç©ºé—´æµªè´¹ã€‚</p>
<p><img src="https://docs.swift.org/swift-book/_images/stringSubstring_2x.png"></p>
<h3 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a>å…ƒç»„</h3><p>å…ƒç»„ï¼ˆtuplesï¼‰æŠŠå¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªå¤åˆå€¼ã€‚å…ƒç»„å†…çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå…ƒç»„</span></span><br><span class="line"><span class="keyword">let</span> tp1 <span class="operator">=</span> (<span class="number">28</span>,<span class="number">180</span>) <span class="comment">//ï¼ˆint,intï¼‰ ç±»å‹ç›¸åŒçš„å…ƒç»„ </span></span><br><span class="line"><span class="comment">// é»˜è®¤å…ƒç»„å¯ä»¥é€šè¿‡ä»¥ 0 å¼€å¤´çš„ä¸‹æ ‡è¯»å–å…ƒç´ å€¼</span></span><br><span class="line"><span class="built_in">print</span>(tp1.<span class="number">0</span>) <span class="comment">// 28 </span></span><br><span class="line"><span class="built_in">print</span>(tp1.<span class="number">1</span>) <span class="comment">// 180</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> tp2 <span class="operator">=</span> (<span class="number">28</span>,<span class="string">&quot;Fynn&quot;</span>) <span class="comment">// (int,string)ç±»å‹ä¸åŒçš„å…ƒç»„</span></span><br><span class="line"><span class="keyword">let</span> (age,name) <span class="operator">=</span> tp2</span><br><span class="line"><span class="comment">// é€šè¿‡å†…å®¹åˆ†è§£ï¼Œå°†å…ƒç»„åˆ†è§£ä¸ºå¯¹åº”çš„å˜é‡æˆ–å¸¸é‡</span></span><br><span class="line"><span class="built_in">print</span>(age) <span class="comment">// 28</span></span><br><span class="line"><span class="built_in">print</span>(name) <span class="comment">// Fynn</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> tp3 <span class="operator">=</span> (age:<span class="number">28</span>,name:<span class="string">&quot;Fynn&quot;</span>) <span class="comment">// å®šä¹‰äº†å…ƒç´ åçš„ å…ƒç»„</span></span><br><span class="line"><span class="comment">// é€šè¿‡å…ƒç»„çš„å…ƒç´ å è·å–å¯¹åº”çš„å€¼</span></span><br><span class="line"><span class="built_in">print</span>(tp3.age)</span><br><span class="line"><span class="built_in">print</span>(tp3.name)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åœºæ™¯ï¼š</p>
<ol>
<li>å½“æ–¹æ³•è¿”å›å¤šä¸ªå€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å…ƒç»„ç±»å‹ã€‚</li>
<li>ä¸¤ä¸ªå€¼äº¤æ¢(a,b) = (b,a)</li>
<li>æ§åˆ¶æµä¸­è§£æèµ‹å€¼</li>
</ol>
<h2 id="é›†åˆç±»å‹"><a href="#é›†åˆç±»å‹" class="headerlink" title="é›†åˆç±»å‹"></a><a target="_blank" rel="noopener" href="http://www.swift51.com/swift4.0/chapter2/04_Collection_Types.html">é›†åˆç±»å‹</a></h2><p>Swiftæä¾›äº†<code>Arrays</code>ã€<code>Sets</code>ã€<code>Dictionaries</code>ä¸‰ç§åŸºæœ¬çš„é›†åˆç±»å‹ã€‚</p>
<p><img src="https://i.loli.net/2019/02/12/5c62744cd60b9.png"></p>
<ol>
<li>Arraysä¿å­˜æœ‰åºæ•°æ®çš„é›†åˆ</li>
<li>Setsä¿å­˜æ— åºæ— é‡å¤æ•°æ®çš„é›†åˆ</li>
<li>Dictionariesä¿å­˜æ— åºçš„é”®å€¼å¯¹çš„å€¼</li>
</ol>
<p>Swiftä¸­çš„é›†åˆç±»å‹å­˜å‚¨çš„æ•°æ®å€¼ç±»å‹å¿…é¡»æ˜ç¡®ï¼Œä¸èƒ½å°†ä¸åŒç±»å‹å€¼å­˜æ”¾ä¸€èµ·ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr <span class="operator">=</span> [<span class="type">Int</span>]() <span class="comment">// å£°æ˜ä¸€ä¸ªç©ºæ•°å€¼</span></span><br><span class="line">arr.append(<span class="number">1</span>) <span class="comment">// å‘ç©ºæ•°å€¼æ’å…¥ä¸€ä¸ªå€¼</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name <span class="operator">=</span> <span class="type">Set</span>&lt;<span class="type">String</span>&gt;() <span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºé›†åˆ</span></span><br><span class="line">name.insert(<span class="string">&quot;Fynn&quot;</span>) <span class="comment">// æ’å…¥ä¸€ä¸ªåå­—</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> nameAndAge <span class="operator">=</span> [<span class="type">String</span>: <span class="type">Int</span>]() <span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸</span></span><br><span class="line">nameAndAge[<span class="string">&quot;Fynn&quot;</span>] <span class="operator">=</span> <span class="number">28</span></span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„Arrays"><a href="#æ•°ç»„Arrays" class="headerlink" title="æ•°ç»„Arrays"></a>æ•°ç»„Arrays</h3><p>é€šè¿‡<code>Array(repeating:,count:)</code>å¯ä»¥åˆ›å»ºæŒ‡å®šå¤§å°çš„é»˜è®¤å€¼ç›¸åŒçš„æ•°ç»„ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tenAge <span class="operator">=</span> <span class="type">Array</span>(repeating:<span class="number">0</span>, count: <span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡<code>+</code>ç¬¦å·å¯ä»¥å°†ä¸¤ä¸ªç›¸åŒç±»å‹çš„æ•°ç»„ç›¸åŠ ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherAge <span class="operator">=</span> <span class="type">Array</span>(repeating: <span class="number">10</span>,count:<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newAge <span class="operator">=</span> tenAge<span class="operator">+</span>another</span><br><span class="line">newAge <span class="operator">+=</span> [<span class="number">2</span>,<span class="number">3</span>] <span class="comment">// ä½¿ç”¨ += ç›´æ¥åœ¨æ•°ç»„åé¢æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªç›¸åŒç±»å‹çš„æ•°æ®é¡¹</span></span><br><span class="line">newAge.append(<span class="number">5</span>) <span class="comment">// åˆ©ç”¨ append æ·»åŠ ç›¸åŒæ•°æ®é¡¹</span></span><br><span class="line"></span><br><span class="line">newAge.insert(<span class="number">5</span>,at:<span class="number">4</span>) <span class="comment">// åˆ©ç”¨ insert(_:,at:)å‘æŒ‡å®šç´¢å¼•å€¼ä¹‹å‰æ·»åŠ æ•°æ®é¡¹</span></span><br><span class="line"></span><br><span class="line">newAge.remove(at:<span class="number">5</span>) <span class="comment">// ç§»é™¤æŒ‡å®šä½ç½®çš„ æ•°æ®é¡¹</span></span><br><span class="line"></span><br><span class="line">newAge[<span class="number">2</span><span class="operator">...</span><span class="number">6</span>] <span class="operator">=</span> [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>] <span class="comment">// é€šè¿‡åŒºé—´ ä¿®æ”¹æ•°ç»„å€¼</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥é€šè¿‡<code>Array.count</code>è¯»å–æ•°ç»„çš„é•¿åº¦ï¼Œ<code>Array.isEmpty</code>æ£€æµ‹æ•°ç»„æ˜¯å¦ä¸ºç©ºã€‚</p>
<p><code>for-in</code>å¾ªç¯ä¸­é€šè¿‡è°ƒç”¨<code>enumerated()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªå…ƒç»„ï¼Œè¿™ä¸ªå…ƒç»„æœ‰è·å¾—æ•°æ®é¡¹å’Œå…¶å¯¹åº”çš„ç´¢å¼•å€¼ç»„æˆã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name <span class="operator">=</span> [<span class="string">&quot;Fynn&quot;</span>,<span class="string">&quot;Echo&quot;</span>,<span class="string">&quot;Mouse&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> (index, value) <span class="keyword">in</span> name.enumerated() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;index: <span class="subst">\(index)</span>,name: <span class="subst">\(value)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é›†åˆï¼ˆSetsï¼‰"><a href="#é›†åˆï¼ˆSetsï¼‰" class="headerlink" title="é›†åˆï¼ˆSetsï¼‰"></a>é›†åˆï¼ˆSetsï¼‰</h3><p>é›†åˆå­˜å‚¨ç€ç±»å‹ç›¸åŒæ²¡æœ‰é‡å¤ç€çš„æ— åºå€¼ã€‚è¿™äº›å€¼ç±»å‹ä¸€å®šæä¾›äº†ä¸€ç§å¯ä»¥è®¡ç®—å‡ºå…¶å“ˆå¸Œå€¼çš„æ–¹æ³•ã€‚Swiftä¸­çš„åŸºæœ¬ç±»å‹ï¼ˆString,Int,Double,Boolï¼‰é»˜è®¤éƒ½æœ‰å“ˆå¸Œå€¼ã€‚å­—å…¸çš„é”®ç±»å‹ä¹Ÿå¿…é¡»æ˜¯å¯ä»¥è®¡ç®—å‡ºå“ˆå¸Œå€¼çš„ã€‚</p>
<p>ä½ å¯ä»¥è‡ªå·±å®šä¹‰ç±»å‹ä½œä¸ºé›†åˆçš„å€¼æˆ–å­—å…¸çš„é”®ã€‚ä½†ç§ç±»å‹å¿…é¡»ç¬¦åˆ Swift æ ‡å‡†åº“ä¸­çš„Hashableåè®®ã€‚ç¬¦åˆHashableåè®®çš„ç±»å‹éœ€è¦æä¾›ä¸€ä¸ªç±»å‹ä¸ºIntçš„å¯è¯»å±æ€§hashValueã€‚</p>
<p>Hashableåè®®ç¬¦åˆEquatableåè®®ï¼ŒEquatebleåè®®è¦æ±‚å®ç°â€œ==â€è¿ç®—ç¬¦æ–¹æ³•ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰ä¸€ä¸ªç±»å‹</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Persion</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰©å±•å®ç° Equatable åè®®</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Persion</span>: <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">==</span> (<span class="params">lhs</span>: <span class="type">Persion</span>, <span class="params">rhs</span>: <span class="type">Persion</span>)</span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (lhs.name <span class="operator">==</span> rhs.name <span class="operator">&amp;&amp;</span> lhs.age <span class="operator">==</span> rhs.age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰©å±•å®ç° Hashable åè®®</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Persion</span>: <span class="title">Hashable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hashValue: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name.hashValue<span class="operator">^</span>age.hashValue</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®šä¹‰ä¸ª Persionç±»å‹å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> me <span class="operator">=</span> <span class="type">Persion</span>(name:<span class="string">&quot;Fynn&quot;</span>,age: <span class="number">28</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> family:<span class="type">Set</span> <span class="operator">=</span> [me]</span><br></pre></td></tr></table></figure>

<p>é›†åˆå¸¸ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name <span class="operator">=</span> <span class="type">Set</span>&lt;<span class="type">String</span>&gt;() <span class="comment">// å®šä¹‰ä¸€ä¸ªç©ºé›†åˆ</span></span><br><span class="line"><span class="keyword">var</span> email:<span class="type">Set</span> <span class="operator">=</span> (<span class="string">&quot;fynn.90@outlook.com&quot;</span>) <span class="comment">// å®šä¹‰ä¸€ä¸ª å¸¦æœ‰å€¼çš„é›†åˆ</span></span><br><span class="line"></span><br><span class="line">name.insert[<span class="string">&quot;Echo&quot;</span>] <span class="comment">// å‘é›†åˆæ’å…¥ä¸€ä¸ªå€¼</span></span><br><span class="line">name.count <span class="comment">// è·å–ä¸€ä¸ªé›†åˆå¤§å°</span></span><br><span class="line">name.isEmpty <span class="comment">// åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">name.remove(<span class="string">&quot;Echo&quot;</span>) <span class="comment">// ç§»é™¤ æŒ‡å®šå€¼</span></span><br><span class="line">name.contains(<span class="string">&quot;Echo&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>é›†åˆæ˜¯æ— åºçš„ï¼Œä½†è°ƒç”¨<code>sorted()</code>å¯ä»¥è·å–ä¸€ä¸ªä½¿ç”¨é¡ºåºæ“ä½œç¬¦<code>&lt;</code>æ’åºåçš„å¯è¿­ä»£å¯¹è±¡ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name: <span class="type">Set</span> <span class="operator">=</span> [<span class="string">&quot;Fynn&quot;</span>,<span class="string">&quot;Echo&quot;</span>,<span class="string">&quot;Mouse&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> name.sorted() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;name: <span class="subst">\(n)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Echo</span></span><br><span class="line"><span class="comment">// Fynn</span></span><br><span class="line"><span class="comment">// Mouse</span></span><br></pre></td></tr></table></figure>

<p>é›†åˆä¹‹é—´æ“ä½œï¼š</p>
<p><img src="https://i.loli.net/2019/02/12/5c62749f973e1.png"></p>
<ul>
<li>ä½¿ç”¨<code>intersection(_:)</code>æ–¹æ³•æ ¹æ®ä¸¤ä¸ªé›†åˆä¸­éƒ½åŒ…å«çš„å€¼åˆ›å»ºçš„ä¸€ä¸ªæ–°çš„é›†åˆã€‚</li>
<li>ä½¿ç”¨<code>symmetricDifference(_:)</code>æ–¹æ³•æ ¹æ®åœ¨ä¸€ä¸ªé›†åˆä¸­ä½†ä¸åœ¨ä¸¤ä¸ªé›†åˆä¸­çš„å€¼åˆ›å»ºä¸€ä¸ªæ–°çš„é›†åˆã€‚</li>
<li>ä½¿ç”¨<code>union(_:)</code>æ–¹æ³•æ ¹æ®ä¸¤ä¸ªé›†åˆçš„å€¼åˆ›å»ºä¸€ä¸ªæ–°çš„é›†åˆã€‚</li>
<li>ä½¿ç”¨<code>subtracting(_:)</code>æ–¹æ³•æ ¹æ®ä¸åœ¨è¯¥é›†åˆä¸­çš„å€¼åˆ›å»ºä¸€ä¸ªæ–°çš„é›†åˆã€‚</li>
</ul>
<p>é›†åˆä¹‹é—´å…³ç³»ï¼š</p>
<p><img src="https://i.loli.net/2019/02/12/5c62751f8944d.png"></p>
<ul>
<li>ä½¿ç”¨â€œæ˜¯å¦ç›¸ç­‰â€è¿ç®—ç¬¦(<code>==</code>)æ¥åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦åŒ…å«å…¨éƒ¨ç›¸åŒçš„å€¼ã€‚</li>
<li>ä½¿ç”¨<code>isSubset(of:)</code>æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªé›†åˆä¸­çš„å€¼æ˜¯å¦ä¹Ÿè¢«åŒ…å«åœ¨å¦å¤–ä¸€ä¸ªé›†åˆä¸­ã€‚</li>
<li>ä½¿ç”¨<code>isSuperset(of:)</code>æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªé›†åˆä¸­åŒ…å«å¦ä¸€ä¸ªé›†åˆä¸­æ‰€æœ‰çš„å€¼ã€‚</li>
<li>ä½¿ç”¨<code>isStrictSubset(of:)</code>æˆ–è€…<code>isStrictSuperset(of:)</code>æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦æ˜¯å¦å¤–ä¸€ä¸ªé›†åˆçš„å­é›†åˆæˆ–è€…çˆ¶é›†åˆå¹¶ä¸”ä¸¤ä¸ªé›†åˆå¹¶ä¸ç›¸ç­‰ã€‚</li>
<li>ä½¿ç”¨<code>isDisjoint(with:)</code>æ–¹æ³•æ¥åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦ä¸å«æœ‰ç›¸åŒçš„å€¼(æ˜¯å¦æ²¡æœ‰äº¤é›†)ã€‚</li>
</ul>
<h3 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸"></a>å­—å…¸</h3><p>å­—å…¸ç”¨äºå­˜å‚¨ç›¸åŒç±»å‹çš„å€¼çš„å®¹å™¨ã€‚æ¯ä¸ªå€¼éƒ½å…³è”å”¯ä¸€çš„é”®ï¼Œé”®ç±»å‹å¿…é¡»æ˜¯éµå¾ª<code>Hashable</code>åè®®ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> namesAndAge <span class="operator">=</span> [<span class="type">String</span>:<span class="type">Int</span>]()</span><br><span class="line">nameAndAge <span class="operator">=</span> [<span class="string">&quot;Fynn&quot;</span>:<span class="number">28</span>,<span class="string">&quot;Echo&quot;</span>:<span class="number">28</span>] <span class="comment">// å­—å…¸ä¹Ÿæ˜¯ç”¨ []åŒ…è£¹ç€ï¼Œå’Œå…¶ä»–è¯­è¨€ä¸€èˆ¬æ˜¯ç”¨&#123;&#125;åŒ…è£¹é”®å€¼å¯¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ for-inéå†å­—å…¸</span></span><br><span class="line"><span class="keyword">for</span> (key,value) <span class="keyword">in</span> namesAndAge &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(key)</span>:<span class="subst">\(value)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> names <span class="operator">=</span> namesAndAge.values <span class="comment">// è·å– ä»¥å­—å…¸å€¼ç»„æˆçš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> ages <span class="operator">=</span> nameAndAge.keys <span class="comment">// è·å– ä»¥å­—å…¸é”®ç»„æˆçš„æ•°ç»„</span></span><br></pre></td></tr></table></figure>

<h2 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a><a target="_blank" rel="noopener" href="http://www.swift51.com/swift4.0/chapter2/08_Enumerations.html">æšä¸¾</a></h2><p>æšä¸¾ï¼ˆenumï¼‰ä¸ºä¸€ç»„ç›¸å…³çš„å€¼å®šä¹‰ä¸€ä¸ªå…±åŒçš„ç±»å‹ï¼Œåœ¨ä»£ç ä¸­å¯ä»¥ç”¨ç±»å‹å®‰å…¨çš„æ–¹å¼ä½¿ç”¨è¿™äº›å€¼ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span> </span>&#123; <span class="comment">// enum å…³é”®å­— å£°æ˜ä¸€ä¸ªæšä¸¾ç±»å‹</span></span><br><span class="line">    <span class="keyword">case</span> spring <span class="comment">// case å…³é”®å­— å®šä¹‰ä¸ªæšä¸¾æˆå‘˜</span></span><br><span class="line">    <span class="keyword">case</span> summer</span><br><span class="line">    <span class="keyword">case</span> autumn</span><br><span class="line">    <span class="keyword">case</span> winter</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æšä¸¾åœ¨Swiftä¸­æ˜¯ä¸€ç­‰ç±»å‹ï¼ˆClass,structéƒ½æ˜¯ï¼Œé¦–å­—æ¯æ¨èå¤§å†™ï¼‰ã€‚å®ƒæ”¯æŒä¸€äº›ç±»ç‰¹æ€§ï¼Œä¾‹å¦‚ï¼šè®¡ç®—å±æ€§ã€æšä¸¾é™„åŠ å€¼ã€å®ä¾‹æ–¹æ³•ã€‚</p>
<h3 id="å…³è”å€¼"><a href="#å…³è”å€¼" class="headerlink" title="å…³è”å€¼"></a>å…³è”å€¼</h3><p>å¯ä»¥ä¸ºæšä¸¾æˆå‘˜å®šä¹‰å…³è”å€¼ã€‚åœ¨å£°æ˜æšä¸¾æ—¶ï¼Œå®šä¹‰æˆå‘˜å¯ä»¥åˆå§‹æ—¶å¯ä»¥ä¼ é€’çš„å€¼ç±»å‹ã€‚æ¯ä¸ªæšä¸¾æˆå‘˜å®šä¹‰çš„å…³è”å€¼ç±»å‹ä¸å¯ä»¥ä¸åŒã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Barcode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> upc(<span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> qrCode(<span class="type">String</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> productBarcode <span class="operator">=</span> <span class="type">Barcode</span>.upc(<span class="number">8</span>,<span class="number">85909</span>,<span class="number">51226</span>,<span class="number">3</span>)</span><br><span class="line">productBarcode <span class="operator">=</span> .qrCode(<span class="string">&quot;ABCDEFGHIJKLMNOP&quot;</span>) <span class="comment">// å¦‚æœå˜é‡ç±»å‹ç¡®å®šï¼Œå†æ¬¡èµ‹å€¼æ—¶å¯ä»¥çœç•¥ç±»å‹å</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> productBarcode &#123;</span><br><span class="line">      <span class="comment">// ç»“æ„æ—¶let å¯ä»¥çœç•¥</span></span><br><span class="line"><span class="keyword">case</span> .upc(<span class="keyword">let</span> numberSystem, <span class="keyword">let</span> manufacturer, <span class="keyword">let</span> product, <span class="keyword">let</span> check):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;UPC: <span class="subst">\(numberSystem)</span>, <span class="subst">\(manufacturer)</span>, <span class="subst">\(product)</span>, <span class="subst">\(check)</span>.&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> .qrCode(<span class="keyword">let</span> productCode):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;QR code: <span class="subst">\(productCode)</span>.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰“å° &quot;QR code: ABCDEFGHIJKLMNOP.&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="åŸå§‹å€¼"><a href="#åŸå§‹å€¼" class="headerlink" title="åŸå§‹å€¼"></a>åŸå§‹å€¼</h3><p>åœ¨å£°æ˜æšä¸¾æ—¶æˆ‘ä»¬å¯ä»¥ä¸ºæˆå‘˜è®¾å®šé»˜è®¤å€¼ï¼ˆåŸå§‹å€¼ï¼‰ï¼Œè¿™äº›åŸå§‹å€¼ç±»å‹å¿…é¡»ç›¸åŒã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ASCIIControlCharacter</span>: <span class="title">Character</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> tab <span class="operator">=</span> <span class="string">&quot;<span class="subst">\t</span>&quot;</span></span><br><span class="line">    <span class="keyword">case</span> lineFeed <span class="operator">=</span> <span class="string">&quot;<span class="subst">\n</span>&quot;</span></span><br><span class="line">    <span class="keyword">case</span> carriageReturn <span class="operator">=</span> <span class="string">&quot;<span class="subst">\r</span>&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å£°æ˜æšä¸¾æ—¶éœ€æŒ‡å®šåŸå§‹å€¼ç±»å‹ï¼Œå¹¶ä¸”æˆå‘˜çš„åŸå§‹å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚åŸå§‹å€¼è®¾å®šåå°±ä¸èƒ½æ”¹å˜ã€‚</p>
<p>å¦‚æœè®¾å®šåŸå§‹å€¼ç±»å‹æ˜¯æ•´å‹æˆ–å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦‚æœä¸è®¾å®šåŸå§‹å€¼ï¼Œåˆ™æˆå‘˜ä¼šè·å¾—é»˜è®¤åŸå§‹å€¼ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Planet</span>: <span class="title">Int</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> mercury <span class="operator">=</span> <span class="number">1</span>, venus, earth, mars, jupiter, saturn, uranus, neptune</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">CompassPoint</span>: <span class="title">String</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> north, south, east, west</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="type">Planet</span>.venus.rawValue) <span class="comment">// 2 é€šè¿‡ .rawValueè¯»å–åŸå§‹å€¼</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">CompassPoint</span>.north.rawValue) <span class="comment">// north</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> possiblePlanet <span class="operator">=</span> <span class="type">Planet</span>(rawValue: <span class="number">7</span>) <span class="comment">// uranus æ ¹æ®rawValue è·å–æšä¸¾å€¼</span></span><br></pre></td></tr></table></figure>

<h3 id="é€’å½’æšä¸¾"><a href="#é€’å½’æšä¸¾" class="headerlink" title="é€’å½’æšä¸¾"></a>é€’å½’æšä¸¾</h3><p><em>é€’å½’æšä¸¾</em>æ˜¯ä¸€ç§æšä¸¾ç±»å‹ï¼Œå®ƒæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæšä¸¾æˆå‘˜ä½¿ç”¨è¯¥æšä¸¾ç±»å‹çš„å®ä¾‹ä½œä¸ºå…³è”å€¼ã€‚éœ€è¦åœ¨æ­¤æˆå‘˜å˜é‡å‰æ·»åŠ å…³é”®å­—<code>indirect</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ArithmeticExpression</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> number(<span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">indirect</span> <span class="keyword">case</span> addition(<span class="type">ArithmeticExpression</span>, <span class="type">ArithmeticExpression</span>)</span><br><span class="line">    <span class="keyword">indirect</span> <span class="keyword">case</span> multiplication(<span class="type">ArithmeticExpression</span>, <span class="type">ArithmeticExpression</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a><a target="_blank" rel="noopener" href="http://www.swift51.com/swift4.0/chapter2/02_Basic_Operators.html">è¿ç®—ç¬¦</a></h2><p>è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªç¼–ç¨‹è¯­è¨€çš„åŸºç¡€ï¼ŒSwiftæä¾›å’Œå…¶ä»–è¯­è¨€å·®ä¸å¤šçš„è¿ç®—ç¬¦ã€‚æœ‰æ‰€åŒºåˆ«çš„æ˜¯Swiftæ²¡æœ‰å…¶ä»–è¯­è¨€å¸¸è§çš„<strong>è‡ªåŠ å‡</strong>ï¼ˆ++a,a++,â€”a,aâ€”ï¼‰!æä¾›äº†åœ¨Swiftå¸¸è§çš„<strong>åŒºé—´</strong>è¿ç®—ç¬¦ã€<strong>ç©ºåˆ</strong>è¿ç®—ç¬¦ã€‚</p>
<h3 id="åŒºé—´è¿ç®—ç¬¦"><a href="#åŒºé—´è¿ç®—ç¬¦" class="headerlink" title="åŒºé—´è¿ç®—ç¬¦"></a>åŒºé—´è¿ç®—ç¬¦</h3><p>é—­åŒºé—´è¿ç®—ç¬¦<code>aâ€¦b</code> å®šä¹‰ ä¸€ä¸ª<code>a</code>è‡³<code>b</code>æ‰€æœ‰å€¼çš„åŒºé—´ï¼ˆåŒ…å«bï¼‰ã€‚açš„å€¼ä¸èƒ½å¤§äºbã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> <span class="number">1</span><span class="operator">...</span><span class="number">5</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(index)</span> * 5 = <span class="subst">\(index <span class="operator">*</span> <span class="number">5</span>)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŠå¼€åŒºé—´è¿ç®—ç¬¦<code>a..&lt;b</code>å®šä¹‰ä¸€ä¸ªaè‡³bä¸åŒ…å«bçš„æ‰€æœ‰å€¼ã€‚åŠå¼€åŒºé—´åŒ…å«èµ·å§‹å€¼ä½†ä¸åŒ…å«ç»“æŸå€¼ã€‚åœ¨è¿­ä»£æ•°ç»„æ—¶æ•°ç»„é•¿åº¦ä¸ºç»“æŸå€¼åˆ™å°±åº”è¯¥ä½¿ç”¨åŠå¼€åŒºé—´è¿ç®—ç¬¦ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name <span class="operator">=</span> [<span class="string">&quot;Fynn&quot;</span>,<span class="string">&quot;Echo&quot;</span>,<span class="string">&quot;Mouse&quot;</span>]</span><br><span class="line"><span class="keyword">let</span> count <span class="operator">=</span> name.count</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>count &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;index:<span class="subst">\(i<span class="operator">+</span><span class="number">1</span>)</span>--name:<span class="subst">\(name[i])</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å•ä¾§åŒºé—´è¿ç®—ç¬¦<code>[a...]</code>æˆ–<code>[...a]</code>ä¸€è¾¹åˆ°æ— ç©·å¤§ã€‚åŠå¼€åŒºé—´ä¹Ÿå¯ä»¥æ˜¯å•ä¾§åŒºé—´<code>[...&lt;a]</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">0</span><span class="operator">...</span>] &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;index:<span class="subst">\(i<span class="operator">+</span><span class="number">1</span>)</span> -- name:<span class="subst">\(name[i])</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç©ºåˆè¿ç®—ç¬¦"><a href="#ç©ºåˆè¿ç®—ç¬¦" class="headerlink" title="ç©ºåˆè¿ç®—ç¬¦"></a>ç©ºåˆè¿ç®—ç¬¦</h3><p>Swiftä¸­æœ‰ä¸ªè¡¨ç¤ºç©ºï¼ˆæ— ï¼‰çš„ç±»å‹<code>nil</code>ã€‚å½“ä¸€ä¸ªå˜é‡çš„å€¼å¯èƒ½æ˜¯<code>nil</code>æ—¶å®ƒå°±è¢«ç§°ä¸ºå¯é€‰å‹ã€‚ç©ºåˆè¿ç®—ç¬¦å°±æ˜¯ä¸ºå¯é€‰å‹å˜é‡èµ‹å€¼ç»™åˆ«äººæ—¶è®¾è®¡çš„ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> defaultColorName <span class="operator">=</span> <span class="string">&quot;red&quot;</span></span><br><span class="line"><span class="keyword">var</span> userDefinedColorName: <span class="type">String</span>?   <span class="comment">//é»˜è®¤å€¼ä¸º nil</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> colorNameToUse <span class="operator">=</span> userDefinedColorName <span class="operator">??</span> defaultColorName <span class="comment">// userDefinedColorName å€¼ä¸ºnilæ—¶ï¼Œå°†defaultColorName å€¼èµ‹äºˆcolorNameToUse</span></span><br></pre></td></tr></table></figure>

<h2 id="æ§åˆ¶æµ"><a href="#æ§åˆ¶æµ" class="headerlink" title="æ§åˆ¶æµ"></a><a target="_blank" rel="noopener" href="http://www.swift51.com/swift4.0/chapter2/05_Control_Flow.html">æ§åˆ¶æµ</a></h2><p>æ§åˆ¶æµåˆ†ä¸ºä¸‰ç±»ï¼š</p>
<ol>
<li>å¾ªç¯éå†:<code>for-in</code>ã€<code>while</code>ã€<code>repeat-while</code></li>
<li>æ¡ä»¶è¯­å¥ï¼š<code>if</code>ã€<code>switch</code>ã€<code>where</code>ã€<code>guard</code></li>
<li>æ§åˆ¶è½¬ç§»ï¼š<code>continue</code>ã€<code>break</code>ã€<code>return</code>ã€<code>fallthrough</code>ã€<code>throw</code></li>
</ol>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><p>Swiftä¸­çš„switchè¯­å¥æ¯ä¸ªåˆ¤æ–­æ¡ä»¶åé¢å¯ä»¥ä¸å†™<code>break</code>é»˜è®¤ä¼šè‡ªåŠ¨è·³å‡ºã€‚å¹¶ä¸”ç¼–è¯‘å™¨ä¼šè¦æ±‚å°†å„ç§æƒ…å†µéƒ½åˆ—å‡ºæ¥å¦åˆ™å°±ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥<code>default</code>ä¼šä½œä¸ºæœ€åçš„æ¡ä»¶åˆ¤æ–­ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name <span class="operator">=</span> <span class="string">&quot;mouse&quot;</span></span><br><span class="line"><span class="keyword">switch</span> name &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;fynn&quot;</span>:</span><br><span class="line">    	<span class="built_in">print</span>(<span class="string">&quot;you are fynn&quot;</span>) <span class="comment">// æ¯ä¸ª caseè¯­å¥åé¢éƒ½è¦æ±‚è·Ÿä¸€ä¸ªè¯­å¥</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;echo&quot;</span>:</span><br><span class="line">    	<span class="built_in">print</span>(<span class="string">&quot;you are echo&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">default</span>:</span><br><span class="line">    	<span class="built_in">print</span>(<span class="string">&quot;you are mouse&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>case</code>è¯­å¥åé¢çš„åˆ¤æ–­æ¡ä»¶å†™æ³•å¯ä»¥å¾ˆä¸°å¯Œï¼Œå¯ä»¥æ˜¯åŒºé—´ã€é€—å·åˆ†éš”å¤šä¸ªå€¼ã€å…ƒç»„ï¼ˆå…ƒç»„å€¼å¯ä»¥æ˜¯åŒºé—´ï¼‰</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num <span class="operator">=</span> <span class="number">6</span></span><br><span class="line"><span class="keyword">switch</span> num &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>,<span class="number">1</span>:<span class="comment">// é€—å·åˆ†éš”å¤šä¸ªå€¼</span></span><br><span class="line">    	<span class="built_in">print</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span><span class="operator">...</span><span class="number">5</span>:<span class="comment">// å¼€åŒºé—´</span></span><br><span class="line">    	<span class="built_in">print</span>(<span class="string">&quot;2...5&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span><span class="operator">..&lt;</span><span class="number">10</span>:<span class="comment">// é—­åŒºé—´</span></span><br><span class="line">    	<span class="built_in">print</span>(<span class="string">&quot;6...10&quot;</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">    	<span class="built_in">print</span>(<span class="string">&quot;10...&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person <span class="operator">=</span> (<span class="number">28</span>,<span class="string">&quot;Fynn&quot;</span>)</span><br><span class="line"><span class="keyword">switch</span> person &#123;</span><br><span class="line">    <span class="keyword">case</span> (<span class="keyword">let</span> age,<span class="string">&quot;Fynn&quot;</span>): <span class="comment">// age å¯ä»¥æ˜¯ letå¸¸é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ var å˜é‡</span></span><br><span class="line">    	<span class="built_in">print</span>(<span class="string">&quot;age:<span class="subst">\(age)</span>,name:Fynn&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> (<span class="keyword">let</span> age, <span class="string">&quot;Echo&quot;</span>) <span class="keyword">where</span> age <span class="operator">!=</span> <span class="number">28</span>: <span class="comment">// é€šè¿‡ whereæ·»åŠ åˆ¤æ–­æ¡ä»¶</span></span><br><span class="line">    	<span class="built_in">print</span>(<span class="string">&quot;age:<span class="subst">\(age)</span>,name:Echo&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> (age,name): <span class="comment">// èµ‹å€¼ç»“æ„</span></span><br><span class="line">    	<span class="built_in">print</span>(<span class="string">&quot;age: <span class="subst">\(age)</span>,name:<span class="subst">\(name)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Switch é»˜è®¤åŒ¹é…åˆ°æ»¡è¶³æ¡ä»¶åä¼šè‡ªåŠ¨è·³å‡ºï¼Œå¦‚æœéœ€è¦ç»§ç»­å‘ä¸‹åŒ¹é…å¯ä»¥åœ¨<code>case</code>åˆ†æ”¯å°¾éƒ¨ä½¿ç”¨<code>fallthrough</code>å…³é”®å­—ã€‚</p>
<h3 id="guard"><a href="#guard" class="headerlink" title="guard"></a>guard</h3><p><code>guard Condition else &#123;&#125;</code>guardé»˜è®¤ä¼šè·Ÿç€ä¸€ä¸ªelse,å½“Conditionæ¡ä»¶ä¸ºçœŸæ—¶ç»§ç»­æ‰§è¡Œï¼Œå¦åˆ™è¿›å…¥elseåˆ†æ”¯ã€‚å¸¸ç”¨äºæ–¹æ³•å†…æ¡ä»¶åˆ¤æ–­ä¸ç¬¦åˆå°±æå‰æå‡ºã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person <span class="operator">=</span> [<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Fynn&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="string">&quot;28&quot;</span>]</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">greet</span>(<span class="keyword">_</span> <span class="params">person</span>:[<span class="params">String</span>:<span class="type">Int</span>])</span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> person[<span class="string">&quot;name&quot;</span>] <span class="operator">!=</span> <span class="literal">nil</span> <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;what&#x27;s you name?&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello <span class="subst">\(person.name)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">greet(person)</span><br></pre></td></tr></table></figure>

<h2 id="å‡½æ•°å’Œé—­åŒ…"><a href="#å‡½æ•°å’Œé—­åŒ…" class="headerlink" title="å‡½æ•°å’Œé—­åŒ…"></a>å‡½æ•°å’Œé—­åŒ…</h2><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a><a target="_blank" rel="noopener" href="http://www.swift51.com/swift4.0/chapter2/06_Functions.html">å‡½æ•°</a></h3><p>Swiftä¸­çš„å‡½æ•°æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å‚æ•°å½¢æ€å¾ˆå¤šï¼Œé™¤äº†å¸¸è§çš„æœ‰å‚ï¼Œæ— å‚ï¼Œé»˜è®¤å‚æ•°ã€‚è¿˜å¯ä»¥è®¾ç½®å¤–éƒ¨å‚æ•°åï¼Œå†…éƒ¨å‚æ•°åï¼Œè¾“å…¥å‚æ•°ï¼Œå¯å˜å‚æ•°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœ‰å‚å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">greet</span> (<span class="params">name</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello,<span class="subst">\(name)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ— å‚å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">greetWorld</span> ()</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello,world!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">greetPerson</span> (<span class="params">name</span>: <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;world&quot;</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello,<span class="subst">\(name)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment">*è®¾ç½®å¤–éƒ¨å‚æ•°å’Œå†…éƒ¨å‚æ•°ï¼ŒSwiftæä¾›å¤–éƒ¨å‚æ•°å’Œå†…éƒ¨å‚æ•°æ˜¯ä¸ºäº†è¯­æ„ä¸Šæ›´æ¸…æ™°</span></span><br><span class="line"><span class="comment">*å› ä¸ºå¾ˆå¤šæƒ…å†µä¸‹è°ƒç”¨å‡½æ•°æ—¶è¯¥å‚æ•°æ„ä¹‰å’Œå†…éƒ¨è¯¥å‚æ•°æ„ä¹‰æ˜¯ä¸ä¸€æ ·çš„ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">person</span> (<span class="params">name</span> <span class="params">parameter1</span>:<span class="type">String</span>,<span class="params">age</span> <span class="params">parameter2</span>: <span class="type">Int</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;name: <span class="subst">\(parameter1)</span>,age: <span class="subst">\(parameter2)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">person(name:<span class="string">&quot;Mouse&quot;</span>,age: <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å…¥è¾“å‡ºå‚æ•° åœ¨å‚æ•°ç±»å‹å‰æ·»åŠ å…³é”®å­— inoutã€‚åœ¨å‡½æ•°å†…ä¿®æ”¹å‚æ•°çš„å€¼åœ¨å‡½æ•°å¤–å˜é‡çš„å€¼ä¹Ÿä¼šçœŸå®è¢«ä¿®æ”¹ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">prefixName</span> (<span class="keyword">_</span> <span class="params">name</span>: <span class="keyword">inout</span> <span class="type">String</span>)</span> &#123;</span><br><span class="line">	name <span class="operator">=</span> <span class="string">&quot;sir,<span class="subst">\(name)</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> name <span class="operator">=</span> <span class="string">&quot;Fynn&quot;</span></span><br><span class="line">prefixName(<span class="operator">&amp;</span>name)</span><br><span class="line"><span class="built_in">print</span>(name)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯å˜å‚æ•° å°†ä»¥æ•°ç»„å½¢å¼ä¼ å…¥å‡½æ•°å†…éƒ¨ å‚æ•°ç±»å‹éƒ½åº”è¯¥ä¸€è‡´ï¼Œå¹¶å¯å˜å‚æ•°åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxNum</span> (<span class="keyword">_</span> <span class="params">numbers</span>: <span class="type">Int</span>...)</span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> num <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> numbers &#123;</span><br><span class="line">        <span class="keyword">if</span> num <span class="operator">&lt;</span> n &#123;</span><br><span class="line">            num <span class="operator">=</span> n</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num</span><br><span class="line">&#125;</span><br><span class="line">maxNum(<span class="number">3</span>,<span class="number">6</span>,<span class="number">10</span>,<span class="number">8</span>,<span class="number">6</span>)</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä¾‹å­éƒ½æ˜¯å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œå¦‚æœå‡½æ•°æœ‰è¿”å›å€¼éœ€è¦å£°æ˜è¿”å›å€¼æ•°é‡å’Œå€¼ç±»å‹ã€‚å¦‚æœæ˜¯å¤šä¸ªå‚æ•°ä»¥å…ƒç»„å½¢å¼è¿”å›ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªå‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">person</span> (<span class="keyword">_</span> <span class="params">name</span>: <span class="type">String</span>,<span class="params">age</span>: <span class="type">Int</span>)</span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;name:<span class="subst">\(name)</span>,age:<span class="subst">\(age)</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›å¤šä¸ªå‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxAndMin</span> (<span class="keyword">_</span> <span class="params">numbers</span>: <span class="type">Int</span>...)</span> -&gt;(max:<span class="type">Int</span>,min:<span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> currentMin <span class="operator">=</span> numbers[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">var</span> currentMax <span class="operator">=</span> numbers[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> numbers[<span class="number">1</span><span class="operator">..&lt;</span>numbers.count] &#123;</span><br><span class="line">        <span class="keyword">if</span> value <span class="operator">&lt;</span> currentMin &#123;</span><br><span class="line">            currentMin <span class="operator">=</span> value</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> value <span class="operator">&gt;</span> currentMax &#123;</span><br><span class="line">            currentMax <span class="operator">=</span> value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (max:currentMax, min:currentMin)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> (maxNumber,minNumber) <span class="operator">=</span> maxAndMin(<span class="number">4</span>,<span class="operator">-</span><span class="number">1</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">100</span>,<span class="operator">-</span><span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h3 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a><a target="_blank" rel="noopener" href="http://www.swift51.com/swift4.0/chapter2/07_Closures.html">é—­åŒ…</a></h3><p>é—­åŒ…æ˜¯å¯ä»¥æ²¡æœ‰å‡½æ•°åã€å‚æ•°åè‡ªåŒ…å«ä»£ç å—ã€‚å®ƒå¯ä»¥æ•è·å’Œå­˜å‚¨å…¶æ‰€åœ¨ä¸Šä¸‹æ–‡ä¸­ä»»æ„å˜é‡å’Œå¸¸é‡çš„å¼•ç”¨ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é—­åŒ…å®Œæ•´è¡¨è¾¾å¼</span></span><br><span class="line">&#123;(parameters) -&gt; returnType <span class="keyword">in</span></span><br><span class="line"> 	statements   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é—­åŒ…çš„å‚æ•°å¯ä»¥æ˜¯ <code>in-out</code>å‚æ•°ã€å¯å˜å‚æ•°ï¼Œä½†ä¸èƒ½è®¾ç½®é»˜è®¤å€¼ã€‚å…ƒç»„å¯ä»¥ä½œä¸ºå‚æ•°æˆ–è¿”å›å€¼ã€‚</p>
<p>é—­åŒ…å¤šç§ç®€å†™å½¢å¼ï¼Œä»¥<code>Array.sorted(by:)</code>ä¸ºä¾‹ï¼Œå®ƒç”¨äºå¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ’åºã€‚<code>Array.sorted(by:)</code>æ¥å—ä¸€ä¸ªé—­åŒ…ä½œä¸ºå‚æ•°ï¼Œé—­åŒ…é»˜è®¤æ¥å—ä¸¤ä¸ªå€¼ä½œä¸ºå‚æ•°ï¼Œå¦‚æœç¬¬ä¸€å€¼åº”è¯¥å‡ºç°åœ¨ç¬¬äºŒä¸ªå€¼å‰é¢é—­åŒ…å‡½æ•°åº”è¯¥è¿”å›<code>true</code>,åä¹‹è¿”å›<code>false</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> names <span class="operator">=</span> [<span class="string">&quot;Fynn&quot;</span>,<span class="string">&quot;Echo&quot;</span>,<span class="string">&quot;Mouse&quot;</span>]</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">backward</span> (<span class="keyword">_</span> <span class="params">s1</span>:<span class="type">String</span>, <span class="keyword">_</span> <span class="params">s2</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> s1 <span class="operator">&gt;</span> s2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ€å¸¸è§çš„æ–¹å¼ ä¼ é€’ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">names.sorted(by: backward)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¸å‹å†™æ³•</span></span><br><span class="line">names.sorted(by:&#123;(s1: <span class="type">String</span>, s2:<span class="type">String</span>) -&gt; <span class="type">Bool</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> s1<span class="operator">&gt;</span>s2</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç è¾ƒçŸ­æ—¶å¯ä»¥å†™ä¸ºä¸€è¡Œ</span></span><br><span class="line">names.sorted(by:&#123;(s1:<span class="type">String</span>,s2:<span class="type">String</span>)-&gt;<span class="type">Bool</span> <span class="keyword">in</span> <span class="keyword">return</span> s1<span class="operator">&gt;</span>s2&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å› ä¸ºæ’åºé—­åŒ…å‡½æ•°ä¼ å…¥çš„å‚æ•°ï¼ŒSwiftå¯ä»¥æ¨æ–­å…¶å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ï¼Œæ‰€ä»¥å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ä¹Ÿå¯ä»¥çœç•¥ã€‚</span></span><br><span class="line">names.sorted(&#123;by:&#123;s1,s2 <span class="keyword">in</span> <span class="keyword">return</span> s1 <span class="operator">&gt;</span> s2&#125;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å•è¡Œè¡¨è¾¾å¼é—­åŒ…å¯ä»¥çœç•¥ return å…³é”®å­—ï¼Œè‡ªåŠ¨éšå¼è¿”å›å•è¡Œè¡¨è¾¾å¼çš„ç»“æœã€‚</span></span><br><span class="line">names.sorted(by:&#123;s1, s2 <span class="keyword">in</span> s1 <span class="operator">&gt;</span> s2&#125;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Swifté—­åŒ…æä¾›å‚æ•°ç¼©å†™ï¼Œä½ å¯ä»¥é€šè¿‡ $0,$1,$2æ¥é¡ºåºè°ƒç”¨é—­åŒ…å‚æ•°</span></span><br><span class="line">names.sorted(by:&#123;<span class="variable">$0</span> <span class="operator">&gt;</span> <span class="variable">$1</span>&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="å°¾éšé—­åŒ…"><a href="#å°¾éšé—­åŒ…" class="headerlink" title="å°¾éšé—­åŒ…"></a>å°¾éšé—­åŒ…</h3><p>å½“é—­åŒ…ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å°¾éšé—­åŒ…å†™æ³•ç®€åŒ–ä»£ç çš„ç¼–å†™ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">someFn</span> (<span class="keyword">_</span> <span class="params">name</span>:<span class="type">String</span>,<span class="params">fn</span>: (<span class="type">String</span>)-&gt;<span class="type">Void</span> )</span> &#123;</span><br><span class="line">    fn(name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">someFn(<span class="string">&quot;Fynn&quot;</span>,fn:&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello <span class="subst">\(<span class="variable">$0</span>)</span>&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">someFn(<span class="string">&quot;Echo&quot;</span>)&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello <span class="subst">\(<span class="variable">$0</span>)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é€ƒé€¸é—­åŒ…"><a href="#é€ƒé€¸é—­åŒ…" class="headerlink" title="é€ƒé€¸é—­åŒ…"></a>é€ƒé€¸é—­åŒ…</h3><p>å½“ä¸€ä¸ªé—­åŒ…ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œä½†è¦åœ¨å‡½æ•°è¿”å›åæ‰è¢«æ‰§è¡Œï¼Œåˆ™è¿™ä¸ªé—­åŒ…è¢«ç§°ä¸ºé€ƒé€¸é—­åŒ…ã€‚å¦‚æœæ˜¯é€ƒé€¸é—­åŒ…éœ€è¦ç”¨<code>@escaping</code>å…³é”®å­—å®šä¹‰å®ƒã€‚å¹¶ä¸”é€ƒé€¸é—­åŒ…å¦‚æœè¦ä½¿ç”¨å…¶ä¸Šä¸‹æ–‡éœ€è¦æ˜¾å¼çš„å¼•ç”¨<code>self</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> completionHandlers: [() -&gt; <span class="type">Void</span>] <span class="operator">=</span> []</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">someFunctionWithEscapingClosure</span>(<span class="params">completionHandler</span>: <span class="keyword">@escaping</span> () -&gt; <span class="type">Void</span>)</span> &#123;</span><br><span class="line">    completionHandlers.append(completionHandler)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">someFunctionWithNonescapingClosure</span>(<span class="params">closure</span>: () -&gt; <span class="type">Void</span>)</span> &#123;</span><br><span class="line">    closure()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="operator">=</span> <span class="number">10</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">doSomething</span>()</span> &#123;</span><br><span class="line">        someFunctionWithEscapingClosure &#123; <span class="keyword">self</span>.x <span class="operator">=</span> <span class="number">100</span> &#125;</span><br><span class="line">        someFunctionWithNonescapingClosure &#123; x <span class="operator">=</span> <span class="number">200</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> instance <span class="operator">=</span> <span class="type">SomeClass</span>()</span><br><span class="line">instance.doSomething()</span><br><span class="line"><span class="built_in">print</span>(instance.x)</span><br><span class="line"><span class="comment">// æ‰“å°å‡º &quot;200&quot;</span></span><br><span class="line"></span><br><span class="line">completionHandlers.first<span class="operator">?</span>()</span><br><span class="line"><span class="built_in">print</span>(instance.x)</span><br><span class="line"><span class="comment">// æ‰“å°å‡º &quot;100&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="ç±»å’Œç»“æ„ä½“"><a href="#ç±»å’Œç»“æ„ä½“" class="headerlink" title="ç±»å’Œç»“æ„ä½“"></a>ç±»å’Œç»“æ„ä½“</h2><p>Swiftä¸­çš„ç±»(class)å’Œç»“æ„ä½“(struct)åŠå…¶ç›¸ä¼¼ã€‚å®ƒä»¬å…±åŒç‚¹æœ‰ï¼š</p>
<ul>
<li>å®šä¹‰å±æ€§</li>
<li>å®šä¹‰æ–¹æ³•</li>
<li>è‡ªå®šä¹‰ä¸‹æ ‡</li>
<li>å®šä¹‰æ„é€ å‡½æ•°</li>
<li>å®šä¹‰æ‰©å±•</li>
<li>å®ç°åè®®</li>
</ul>
<p>ç±»å’Œç»“æ„ä½“çœ‹èµ·æ¥ä¸€æ‘¸ä¸€æ ·ï¼Œä½†ä¸¤ä¸ªå…³é”®ç‰¹æ€§ä½¿å¾—å®ƒä»¬åº”ç”¨åœºæ™¯åŒºåˆ«å¼€æ¥</p>
<ul>
<li>ç±»æ˜¯å¼•ç”¨ç±»å‹ï¼Œç»“æ„ä½“æ˜¯å€¼ç±»å‹</li>
<li>ç±»å¯ä»¥ç»§æ‰¿ï¼Œç»“æ„ä½“æ²¡æœ‰ç»§æ‰¿</li>
</ul>
<p>ç»“æ„ä½“é»˜è®¤æ‹¥æœ‰é€ä¸€æ„é€ å™¨ï¼Œè€Œç±»æ²¡æœ‰ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> y <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p <span class="operator">=</span> point(x:<span class="number">120</span>,y:<span class="number">120</span>) <span class="comment">// (x:y:)é€ä¸€æ„é€ å™¨</span></span><br></pre></td></tr></table></figure>



<p>Swiftæ‰€æœ‰åŸºç¡€ç±»å‹ï¼ˆIntã€Floatã€Boolã€Stringã€Arrayã€Dictionaryï¼‰åœ¨åº•å±‚éƒ½æ˜¯é€šè¿‡ç»“æ„ä½“å®ç°ã€‚</p>
<p>å€¼ç±»å‹ï¼Œåœ¨èµ‹å€¼æ—¶æ˜¯é€šè¿‡æ‹·è´å˜é‡å­˜å‚¨çš„çœŸå®å€¼ã€‚è€Œå¼•ç”¨ç±»å‹ï¼Œåœ¨èµ‹å€¼æ—¶æ˜¯ä¼ é€’çœŸå®æ•°æ®å†…å­˜çš„å¼•ç”¨ã€‚</p>
<p>åˆ¤æ–­ä¸¤ä¸ªå˜é‡æˆ–å¸¸é‡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªç±»å®ä¾‹é€šè¿‡æ’ç­‰è¿ç®—ç¬¦ï¼š<code>===</code>å’Œ<code>!==</code></p>
<p>ç±»å’Œç»“æ„ä½“ä½¿ç”¨åŒºåˆ«ï¼š</p>
<ol>
<li>ç»“æ„ä½“è¡¨ç¤ºå…·ä½“çš„å€¼ï¼Œç±»è¡¨ç¤ºæŠ½è±¡æ€§çš„ç‰©ä½“</li>
<li>æƒ³æ‹¥æœ‰ç»§æ‰¿ç‰¹æ€§å°±è¯¥ä½¿ç”¨ç±»</li>
<li>æ›´é«˜çš„æ•ˆç‡è¯¥åº”ç”¨ç»“æ„ä½“</li>
</ol>
<h2 id="å±æ€§-amp-æ–¹æ³•-amp-ä¸‹æ ‡"><a href="#å±æ€§-amp-æ–¹æ³•-amp-ä¸‹æ ‡" class="headerlink" title="å±æ€§&amp;æ–¹æ³•&amp;ä¸‹æ ‡"></a>å±æ€§&amp;æ–¹æ³•&amp;ä¸‹æ ‡</h2><h3 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a><a target="_blank" rel="noopener" href="http://www.swift51.com/swift4.0/chapter2/10_Properties.html">å±æ€§</a></h3><p>è®¡ç®—å±æ€§å¯ä»¥åœ¨ç±»(Class)ã€ç»“æ„ä½“(Struct)ã€æšä¸¾(Enum)ä¸­å…³è”ä¸€ä¸ªå€¼ã€‚è€Œå­˜å‚¨å±æ€§åªèƒ½ç”¨äºç±»(Class)ã€ç»“æ„ä½“(Struct)ã€‚</p>
<h4 id="å­˜å‚¨å±æ€§å’Œè®¡ç®—å±æ€§"><a href="#å­˜å‚¨å±æ€§å’Œè®¡ç®—å±æ€§" class="headerlink" title="å­˜å‚¨å±æ€§å’Œè®¡ç®—å±æ€§"></a>å­˜å‚¨å±æ€§å’Œè®¡ç®—å±æ€§</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="operator">=</span> <span class="number">0.0</span>, y <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Size</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width <span class="operator">=</span> <span class="number">0.0</span>, height <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rect</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> origin <span class="operator">=</span> <span class="type">Point</span>() <span class="comment">// å­˜å‚¨å±æ€§</span></span><br><span class="line">    <span class="keyword">var</span> size <span class="operator">=</span> <span class="type">Size</span>() <span class="comment">// å­˜å‚¨å±æ€§</span></span><br><span class="line">    <span class="keyword">var</span> center: <span class="type">Point</span> &#123; <span class="comment">// è®¡ç®—å±æ€§ è®¡ç®—å±æ€§ä»£ç å—å†…æœ‰ getterå’Œsetterç”¨äºè¯»å–ã€è®¾ç½®å±æ€§</span></span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="comment">// åªè¯»å±æ€§ getå…³é”®å­—å¯ä»¥çœç•¥</span></span><br><span class="line">            <span class="keyword">let</span> centerX <span class="operator">=</span> origin.x <span class="operator">+</span> (size.width <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">let</span> centerY <span class="operator">=</span> origin.y <span class="operator">+</span> (size.height <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Point</span>(x: centerX, y: centerY)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span>(newCenter) &#123; <span class="comment">// å¦‚æœæ²¡setter åˆ™è¯¥å±æ€§æ˜¯åªè¯»å±æ€§</span></span><br><span class="line">            origin.x <span class="operator">=</span> newCenter.x <span class="operator">-</span> (size.width <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">            origin.y <span class="operator">=</span> newCenter.y <span class="operator">-</span> (size.height <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> square <span class="operator">=</span> <span class="type">Rect</span>(origin: <span class="type">Point</span>(x: <span class="number">0.0</span>, y: <span class="number">0.0</span>),</span><br><span class="line">    size: <span class="type">Size</span>(width: <span class="number">10.0</span>, height: <span class="number">10.0</span>))</span><br><span class="line"><span class="keyword">let</span> initialSquareCenter <span class="operator">=</span> square.center</span><br><span class="line">square.center <span class="operator">=</span> <span class="type">Point</span>(x: <span class="number">15.0</span>, y: <span class="number">15.0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;square.origin is now at (<span class="subst">\(square.origin.x)</span>, <span class="subst">\(square.origin.y)</span>)&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° &quot;square.origin is now at (10.0, 10.0)â€</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šç»“æ„ä½“çš„å®ä¾‹èµ‹äºˆä¸€ä¸ªå¸¸é‡åˆ™å®ƒçš„å±æ€§å°†ä¸èƒ½ä¿®æ”¹ï¼Œå› ä¸ºå®ƒæ˜¯å€¼ç±»å‹ã€‚</p>
<h4 id="å»¶è¿Ÿå­˜å‚¨å±æ€§"><a href="#å»¶è¿Ÿå­˜å‚¨å±æ€§" class="headerlink" title="å»¶è¿Ÿå­˜å‚¨å±æ€§"></a>å»¶è¿Ÿå­˜å‚¨å±æ€§</h4><p>å½“åˆå§‹åŒ–å±æ€§å€¼éœ€è¦å¤§é‡å¤æ‚å·¥ä½œï¼Œè€Œè¿™äº›å·¥ä½œå¹¶ä¸æ˜¯æ„é€ æ—¶éœ€è¦çš„æ—¶å€™ï¼Œä¸ºäº†æé«˜æ•ˆç‡æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªå±æ€§å®šä¹‰ä¸ºå»¶è¿Ÿå­˜å‚¨å±æ€§<code>lazy</code>ã€‚å½“ç¬¬ä¸€æ¬¡è°ƒç”¨è¿™ä¸ªå±æ€§å†å»åˆå§‹åŒ–ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataImporter</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* DataImporter æ˜¯ä¸€ä¸ªè´Ÿè´£å°†å¤–éƒ¨æ–‡ä»¶ä¸­çš„æ•°æ®å¯¼å…¥çš„ç±»ã€‚ è¿™ä¸ªç±»çš„åˆå§‹åŒ–ä¼šæ¶ˆè€—ä¸å°‘æ—¶é—´ã€‚ */</span></span><br><span class="line">    <span class="keyword">var</span> fileName <span class="operator">=</span> <span class="string">&quot;data.txt&quot;</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œä¼šæä¾›æ•°æ®å¯¼å…¥åŠŸèƒ½</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataManager</span> </span>&#123;</span><br><span class="line">    <span class="keyword">lazy</span> <span class="keyword">var</span> importer <span class="operator">=</span> <span class="type">DataImporter</span>()</span><br><span class="line">    <span class="keyword">var</span> data <span class="operator">=</span> [<span class="type">String</span>]()</span><br><span class="line">    <span class="comment">// è¿™é‡Œä¼šæä¾›æ•°æ®ç®¡ç†åŠŸèƒ½</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> manager <span class="operator">=</span> <span class="type">DataManager</span>()</span><br><span class="line">manager.data.append(<span class="string">&quot;Some data&quot;</span>)</span><br><span class="line">manager.data.append(<span class="string">&quot;Some more data&quot;</span>)</span><br><span class="line"><span class="comment">// DataImporter å®ä¾‹çš„ importer å±æ€§è¿˜æ²¡æœ‰è¢«åˆ›</span></span><br></pre></td></tr></table></figure>

<h4 id="å±æ€§è§‚å¯Ÿå™¨"><a href="#å±æ€§è§‚å¯Ÿå™¨" class="headerlink" title="å±æ€§è§‚å¯Ÿå™¨"></a>å±æ€§è§‚å¯Ÿå™¨</h4><p>å±æ€§è§‚å¯Ÿå™¨<code>willSet</code>åœ¨å±æ€§å€¼åœ¨è¢«è®¾æ–°å€¼å‰ä¼šè¢«è°ƒç”¨ï¼Œ<code>willSet</code>è§‚å¯Ÿå™¨ä¼šå°†æ–°å€¼ä½œä¸ºå‚æ•°ï¼ˆé»˜è®¤å‚æ•°åï¼š<code>newVale</code>ï¼‰ä¼ å…¥ã€‚ä½ å¯ä»¥ è‡ªå®šä¹‰æ­¤å‚æ•°åã€‚</p>
<p>å±æ€§è§‚å¯Ÿå™¨<code>didSet</code>åœ¨å±æ€§è¢«è®¾ç½®åè¢«è°ƒç”¨ï¼Œæ—§å€¼ä¼šä½œä¸ºå‚æ•°(é»˜è®¤å‚æ•°ï¼š<code>oldValue</code>)ä¼ å…¥ã€‚å¦‚æœä½ åœ¨æ­¤è§‚å¯Ÿå™¨å†…å¯¹å…¶èµ‹å€¼ï¼Œæ–°å€¼ä¼šè¢«æ—§å€¼è¦†ç›–ã€‚</p>
<p>åœ¨<code>willSet</code>æ— æ³•ä¿®æ”¹å±æ€§å€¼</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Num</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n <span class="operator">=</span> <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(newValue)</span><br><span class="line">            <span class="comment">// n = 9  æ— æ•ˆèµ‹å€¼ Xcode ä¼šç»™è­¦å‘Š</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(oldValue)</span><br><span class="line">            n <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> n <span class="operator">=</span> <span class="type">Num</span>()</span><br><span class="line">n.n <span class="operator">=</span> <span class="number">3</span></span><br><span class="line">n.n <span class="comment">// æ°¸è¿œæ˜¯1</span></span><br></pre></td></tr></table></figure>

<h4 id="é™æ€å±æ€§"><a href="#é™æ€å±æ€§" class="headerlink" title="é™æ€å±æ€§"></a>é™æ€å±æ€§</h4><p>é€šè¿‡å…³é”®å­—<code>static</code>å¯ä»¥å®šä¹‰ä¸€ä¸ªé™æ€å±æ€§ï¼ˆç±»å‹å±æ€§ï¼‰ï¼Œå®ƒå±äºåŒ…å«çš„æ•°æ®ç±»å‹è€Œä¸å±äºä»»ä½•å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡ç±»å‹åç›´æ¥è·å–èµ‹å€¼ï¼Œå®ä¾‹é—´å¯ä»¥å…±äº«å®ƒã€‚</p>
<h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a><a target="_blank" rel="noopener" href="http://www.swift51.com/swift4.0/chapter2/11_Methods.html">æ–¹æ³•</a></h3><h4 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h4><p>å®ä¾‹æ–¹æ³•æ˜¯å±äºæŸä¸ªç‰¹å®šç±»ã€ç»“æ„ä½“æˆ–è€…æšä¸¾ç±»å‹å®ä¾‹çš„æ–¹æ³•ã€‚å®ä¾‹æ–¹æ³•æä¾›è®¿é—®å’Œä¿®æ”¹å®ä¾‹å±æ€§çš„æ–¹æ³•æˆ–æä¾›ä¸å®ä¾‹ç›®çš„ç›¸å…³çš„åŠŸèƒ½ï¼Œå¹¶ä»¥æ­¤æ¥æ”¯æ’‘å®ä¾‹çš„åŠŸèƒ½ã€‚</p>
<p>å€¼ç±»å‹(ç»“æ„ä½“ï¼Œæšä¸¾)çš„å±æ€§ä¸èƒ½åœ¨å®ä¾‹ä¸­è¢«ä¿®æ”¹ã€‚å¦‚æœä½ æƒ³åœ¨æ–¹æ³•ä¸­ä¿®æ”¹å€¼ç±»å‹çš„å±æ€§å€¼ï¼Œä½ éœ€è¦åœ¨è¯¥æ–¹æ³•å‰æ·»åŠ å…³é”®å­—<code>mutating</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="operator">=</span> <span class="number">0.0</span>, y <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">    mutation <span class="function"><span class="keyword">func</span> <span class="title">move</span> (<span class="params">deltaX</span>: <span class="type">Double</span>, <span class="params">deltaY</span>: <span class="type">Double</span>)</span> &#123;</span><br><span class="line">        x <span class="operator">+=</span> deltaX</span><br><span class="line">        y <span class="operator">+=</span> deltaY</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> somePoint <span class="operator">=</span> point(<span class="number">0.0</span>,<span class="number">0.0</span>)</span><br><span class="line">somePoint.move(deltaX: <span class="number">40.0</span>, deltaY: <span class="number">20.9</span>)</span><br></pre></td></tr></table></figure>

<h4 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h4><p>é™æ€æ–¹æ³•è¾“å…¥åŒ…å«å®ƒçš„ç±»å‹è€Œä¸æ˜¯æŸä¸ªå®ä¾‹ï¼Œå¯ä»¥é€šè¿‡ç±»å‹åç§°ç›´æ¥è°ƒç”¨å®ƒã€‚åœ¨<code>func</code>ä¹‹å‰æ·»åŠ å…³é”®å­—<code>static</code></p>
<h3 id="ä¸‹æ ‡"><a href="#ä¸‹æ ‡" class="headerlink" title="ä¸‹æ ‡"></a><a target="_blank" rel="noopener" href="http://www.swift51.com/swift4.0/chapter2/12_Subscripts.html">ä¸‹æ ‡</a></h3><p>Javascriptä¸­æ•°ç»„ã€objectå¯ä»¥é€šè¿‡ä¸‹æ ‡è®¿é—®å†…éƒ¨å€¼ã€‚è€Œåœ¨Swiftä¸­ä½ å¯ä»¥ç»™ç±»(Class)ã€ç»“æ„ä½“(struct)ã€æšä¸¾(enum)å®šä¹‰ä¸‹æ ‡ï¼Œç”¨äºè·å–å†…éƒ¨å€¼ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> rows: <span class="type">Int</span>, columns: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> grid: [<span class="type">Double</span>]</span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">rows</span>: <span class="type">Int</span>, <span class="params">columns</span>: <span class="type">Int</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.rows <span class="operator">=</span> rows</span><br><span class="line">        <span class="keyword">self</span>.columns <span class="operator">=</span> columns</span><br><span class="line">        grid <span class="operator">=</span> <span class="type">Array</span>(repeating: <span class="number">0.0</span>, count: rows <span class="operator">*</span> columns)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">indexIsValid</span>(<span class="params">row</span>: <span class="type">Int</span>, <span class="params">column</span>: <span class="type">Int</span>)</span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> row <span class="operator">&gt;=</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> row <span class="operator">&lt;</span> rows <span class="operator">&amp;&amp;</span> column <span class="operator">&gt;=</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> column <span class="operator">&lt;</span> columns</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å®šä¹‰ ä¸‹æ ‡æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">subscript</span>(<span class="params">row</span>: <span class="type">Int</span>, <span class="params">column</span>: <span class="type">Int</span>)</span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="comment">// è·å–å€¼</span></span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="built_in">assert</span>(indexIsValid(row: row, column: column), <span class="string">&quot;Index out of range&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> grid[(row <span class="operator">*</span> columns) <span class="operator">+</span> column]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è®¾ç½®å€¼</span></span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="built_in">assert</span>(indexIsValid(row: row, column: column), <span class="string">&quot;Index out of range&quot;</span>)</span><br><span class="line">            grid[(row <span class="operator">*</span> columns) <span class="operator">+</span> column] <span class="operator">=</span> newValue</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> matrix <span class="operator">=</span> <span class="type">Matrix</span>(rows: <span class="number">2</span>, columns: <span class="number">2</span>)</span><br><span class="line">matrix[<span class="number">0</span>, <span class="number">1</span>] <span class="operator">=</span> <span class="number">1.5</span></span><br><span class="line">matrix[<span class="number">1</span>, <span class="number">0</span>] <span class="operator">=</span> <span class="number">3.2</span></span><br></pre></td></tr></table></figure>

<p><code>subscript</code>å¯ä»¥ä»»æ„ç±»å‹å’Œæ•°é‡çš„å€¼ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä»»æ„ç±»å‹çš„å€¼ã€‚</p>
<h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p>Swiftä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼Œè€Œå­ç±»é‡å†™çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•éœ€è¦ä½¿ç”¨å…³é”®å­—<code>override</code>å£°æ˜ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currentSpeed <span class="operator">=</span> <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">var</span> description: <span class="type">String</span> &#123; <span class="comment">// åªè¯»è®¡ç®—å±æ€§</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;traveling at <span class="subst">\(currentSpeed)</span> miles per hour&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">makeNoise</span> ()</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AutomaticCar</span>: <span class="title">Car</span> </span>&#123; </span><br><span class="line">    <span class="keyword">var</span> gear <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// é‡å¤ çˆ¶ç±»å±æ€§currentSpeedï¼Œæ·»åŠ å±æ€§è§‚å¯Ÿå™¨</span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> currentSpeed: <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            gear <span class="operator">=</span> <span class="type">Int</span>(currentSpeed <span class="operator">/</span> <span class="number">10.0</span>) <span class="operator">+</span> <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é‡å†™ çˆ¶ç±»makeNoiseæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">makeNoise</span>()</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Choo Choo&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é‡å†™ çˆ¶ç±»descriptionåªè¯»è®¡ç®—å±æ€§</span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> description: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.description <span class="operator">+</span> <span class="string">&quot; in gear <span class="subst">\(gear)</span>&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong> ä½ ä¸å¯ä»¥ä¸ºç»§æ‰¿æ¥çš„å¸¸é‡å­˜å‚¨å‹å±æ€§æˆ–ç»§æ‰¿æ¥çš„åªè¯»è®¡ç®—å‹å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ï¼Œå› ä¸ºå®ƒä»¬ä¸ä¼šè¢«è®¾ç½®å€¼ã€‚</p>
<p>å¦‚æœçˆ¶ç±»æŸäº›ç‰¹æ€§ä¸æƒ³è¢«å­ç±»é‡å†™ï¼Œå¯ä»¥é€šè¿‡å…³é”®å­—<code>final</code> æ¥é˜²æ²»å®ƒä»¬è¢«é‡å†™ã€‚ä¾‹å¦‚ï¼š<code>final var</code>ã€<code>final func</code>ã€<code>final class func</code>ã€<code>final subscript</code>ã€‚</p>
<h2 id="æ„é€ "><a href="#æ„é€ " class="headerlink" title="æ„é€ "></a>æ„é€ </h2><p>åœ¨ä½¿ç”¨ç±»(class)ã€ç»“æ„ä½“(struct)ã€æšä¸¾(enum)å®ä¾‹ä¹‹å‰çš„å‡†å¤‡è¿‡ç¨‹è¢«ç§°ä¸ºæ„é€ ã€‚</p>
<p>Swiftè§„å®šç±»ã€ç»“æ„ä½“ä¸­çš„å­˜å‚¨å±æ€§åœ¨å®ä¾‹åˆ›å»ºå®Œæˆå‰å¿…é¡»è¦æœ‰åˆå§‹å€¼ã€‚æœ‰ä¸¤ç§æ–¹å¼è®¾å®šè¯¥åˆå§‹å€¼ï¼Œä¸€ä¸ªæ˜¯åœ¨å®šä¹‰è¯¥å­˜å‚¨å±æ€§æ—¶ç»™å®ƒè®¾å®šé»˜è®¤å€¼ï¼Œå¦å¤–ä¸€ç§å°±æ˜¯åœ¨æ„é€ æ—¶è®¾å®šåˆå§‹å€¼ã€‚</p>
<p>æ„é€ è¯­æ³•è§„åˆ™æ˜¯ï¼Œåœ¨ç±»ã€ç»“æ„ä½“ã€æšä¸¾å†…éƒ¨å®šä¹‰åå­—ä¸º<code>init</code>çš„æ–¹æ³•ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">init</span> ()</span> &#123;</span><br><span class="line">    <span class="comment">// æ„é€ å†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœç±»æˆ–ç»“æ„ä½“çš„å­˜å‚¨å±æ€§éƒ½è®¾ç½®äº†é»˜è®¤å€¼ï¼ŒåŒæ—¶æ²¡æœ‰è‡ªå®šä¹‰æ„é€ å™¨ï¼Œé‚£ä¹ˆSwiftä¼šä¸ºå®ƒä»¬æä¾›ä¸€ä¸ªé»˜è®¤æ„é€ å™¨ï¼Œï¼ˆæ— å‚æ•°å®ä¾‹è¯è¯¥ç±»ï¼‰ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ShoppingListItem</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span>?</span><br><span class="line">    <span class="keyword">var</span> quantity <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">var</span> purchased <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> item <span class="operator">=</span> <span class="type">ShoppingListItem</span>()</span><br></pre></td></tr></table></figure>

<p>Swiftè¿˜ä¸ºæ²¡æœ‰è‡ªå®šä¹‰æ„é€ å™¨æä¾›äº†æˆå‘˜é€ä¸€æ„é€ å™¨ã€‚é€ä¸€æ„é€ å™¨ä¸­çš„å‚æ•°åå°±æ˜¯è¯¥ç»“æ„ä½“ä¸­å£°æ˜çš„å±æ€§åã€‚å³ä½¿è¿™äº›å±æ€§æ²¡æœ‰è®¾ç½®é»˜è®¤å€¼ï¼Œé€ä¸€æˆå‘˜æ„é€ å™¨ä¾ç„¶æœ‰æ•ˆã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Size</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width <span class="operator">=</span> <span class="number">0.0</span>, height <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> twoByTwo <span class="operator">=</span> <span class="type">Size</span>(width: <span class="number">2.0</span>, height: <span class="number">2.0</span>)</span><br></pre></td></tr></table></figure>

<p>å‡å¦‚ä½ è‡ªå®šä¹‰äº†æ„é€ å™¨ï¼Œåˆ™é»˜è®¤æ„é€ å™¨å’Œé€ä¸€æˆå‘˜æ„é€ å™¨å°†ä¸å­˜åœ¨ï¼Œä½ æƒ³è¦åœ¨è‡ªå®šä¹‰çš„æ„é€ å™¨ç¡®ä¿æ¯ä¸ªå­˜å‚¨å±æ€§éƒ½è®¾ç½®çš„åˆå§‹å€¼ã€‚</p>
<h3 id="è‡ªå®šä¹‰æ„é€ å™¨"><a href="#è‡ªå®šä¹‰æ„é€ å™¨" class="headerlink" title="è‡ªå®šä¹‰æ„é€ å™¨"></a>è‡ªå®šä¹‰æ„é€ å™¨</h3><p>Swiftå¯ä»¥ä¸ºç±»ã€ç»“æ„ä½“ã€æšä¸¾å®šä¹‰å¤šä¸ªè‡ªå®šä¹‰æ„é€ å™¨ã€‚é€šè¿‡æ„é€ å‚æ•°åï¼ˆå¤–éƒ¨å‚æ•°åï¼Œå†…éƒ¨å‚æ•°åï¼‰ã€å‚æ•°ç±»å‹æ¥åŒºåˆ†è¿™äº›æ„é€ å™¨ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Celsius</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> temperatureInCelsius: <span class="type">Double</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">fromFahrenheit</span> <span class="params">fahrenheit</span>: <span class="type">Double</span>)</span> &#123;</span><br><span class="line">        temperatureInCelsius <span class="operator">=</span> (fahrenheit <span class="operator">-</span> <span class="number">32.0</span>) <span class="operator">/</span> <span class="number">1.8</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">fromKelvin</span> <span class="params">kelvin</span>: <span class="type">Double</span>)</span> &#123;</span><br><span class="line">        temperatureInCelsius <span class="operator">=</span> kelvin <span class="operator">-</span> <span class="number">273.15</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸è®¾ç½®å¤–éƒ¨å‚æ•°å</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="keyword">_</span> <span class="params">celsius</span>: <span class="type">Double</span>)</span>&#123;</span><br><span class="line">        temperatureInCelsius <span class="operator">=</span> celsius</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é€šè¿‡å‚æ•°ååŒºåˆ†è°ƒç”¨çš„æ„é€ å™¨</span></span><br><span class="line"><span class="keyword">let</span> boilingPointOfWater <span class="operator">=</span> <span class="type">Celsius</span>(fromFahrenheit: <span class="number">212.0</span>) </span><br><span class="line"><span class="comment">// boilingPointOfWater.temperatureInCelsius æ˜¯ 100.0</span></span><br><span class="line"><span class="keyword">let</span> freezingPointOfWater <span class="operator">=</span> <span class="type">Celsius</span>(fromKelvin: <span class="number">273.15</span>)</span><br><span class="line"><span class="comment">// freezingPointOfWater.temperatureInCelsius æ˜¯ 0.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ä¼ å…¥å‚æ•°å</span></span><br><span class="line"><span class="keyword">let</span> bodyTemperature <span class="operator">=</span> <span class="type">Celsius</span>(<span class="number">37.0</span>)</span><br><span class="line"><span class="comment">// bodyTemperature.temperatureInCelsius ä¸º 37.0</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä¾‹å­ä¸­ï¼š<code>init(fromFahrenheit)</code>å’Œ<code>init(fromKelvin)</code>æ„é€ å™¨å‚æ•°ç±»å‹ç›¸åŒï¼Œé€šè¿‡å¤–éƒ¨å‚æ•°ååšåŒºåˆ†ã€‚ä½ ä¹Ÿå¯ä»¥ä¸è®¾å®šå¤–éƒ¨å‚æ•°ï¼Œåœ¨è°ƒç”¨æ„é€ å™¨æ—¶ç›´æ¥ä¼ å…¥å½¢å‚ï¼Œä¾‹å¦‚<code>init(_ celsius)</code>ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong> å¸¸é‡å­˜å‚¨å±æ€§å¯ä»¥åœ¨æ„é€ å™¨ä¸­æŒ‡å®šå…¶å€¼ã€‚ç±»ç±»å‹ä¸­ï¼Œå¸¸é‡å±æ€§åªèƒ½åœ¨å®šä¹‰å®ƒçš„ç±»æ„é€ å™¨ä¸­ä¿®æ”¹å€¼ï¼Œå­ç±»ä¸èƒ½ä¿®æ”¹ã€‚</p>
<h3 id="å€¼ç±»å‹çš„æ„é€ ä»£ç†"><a href="#å€¼ç±»å‹çš„æ„é€ ä»£ç†" class="headerlink" title="å€¼ç±»å‹çš„æ„é€ ä»£ç†"></a>å€¼ç±»å‹çš„æ„é€ ä»£ç†</h3><p>è‡ªå®šä¹‰æ„é€ å™¨å¯ä»¥å®šä¹‰å¤šä¸ªï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªè‡ªå®šæ„é€ å™¨ä¸­é€šè¿‡<code>self.init</code>è°ƒç”¨å¦ä¸€ä¸ªè‡ªå®šä¹‰æ„é€ å™¨å®Œæˆæ‰€æœ‰å­˜å‚¨å±æ€§çš„åˆå§‹åŒ–ã€‚è¿™äº›å®ç°ä»£ç å¤ç”¨ï¼Œç®€åŒ–ä»£ç ã€‚è¿™æ ·çš„æ„é€ æ–¹å¼ç§°ä¸ºæ„é€ ä»£ç†ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rect</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> origin <span class="operator">=</span> <span class="type">Point</span>()</span><br><span class="line">    <span class="keyword">var</span> size <span class="operator">=</span> <span class="type">Size</span>()</span><br><span class="line">    <span class="function"><span class="keyword">init</span>()</span> &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">origin</span>: <span class="type">Point</span>, <span class="params">size</span>: <span class="type">Size</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.origin <span class="operator">=</span> origin</span><br><span class="line">        <span class="keyword">self</span>.size <span class="operator">=</span> size</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">center</span>: <span class="type">Point</span>, <span class="params">size</span>: <span class="type">Size</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> originX <span class="operator">=</span> center.x <span class="operator">-</span> (size.width <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">let</span> originY <span class="operator">=</span> center.y <span class="operator">-</span> (size.height <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(origin: <span class="type">Point</span>(x: originX, y: originY), size: size)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="classçš„æ„é€ å™¨ç±»å‹"><a href="#classçš„æ„é€ å™¨ç±»å‹" class="headerlink" title="classçš„æ„é€ å™¨ç±»å‹"></a>classçš„æ„é€ å™¨ç±»å‹</h3><p>Swiftä¸­çš„ç±»æœ‰ä¸¤ç§æ„é€ å™¨ï¼Œä¸€ç§æ˜¯åœ¨æ„é€ å™¨ä¸­åˆå§‹åŒ–äº†æ‰€æœ‰å­˜å‚¨å±æ€§å€¼ï¼Œå¹¶é€šè¿‡è°ƒç”¨çˆ¶ç±»æ„é€ å™¨å®Œæˆäº†çˆ¶ç±»å®ä¾‹è¯(çˆ¶ç±»çš„å±æ€§å¿…é¡»åœ¨çˆ¶ç±»ä¸­çš„æ„é€ å™¨å®Œæˆåˆå§‹åŒ–)ï¼Œè¿™æ ·çš„æ„é€ å™¨ç§°ä¸º<strong>æŒ‡å®šæ„é€ å™¨</strong>ã€‚æ¯ä¸ªç±»å¿…é¡»è‡³å°‘è¦æœ‰ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨ã€‚å¦å¤–ä¸€ç§æ„é€ å™¨æ˜¯<strong>ä¾¿åˆ©æ„é€ å™¨</strong>ï¼Œå®ƒå¿…é¡»èƒ½å¤Ÿé—´æ¥æˆ–ç›´æ¥çš„è°ƒç”¨åŒç±»ä¸­çš„ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨ï¼Œåœ¨ä¾¿åˆ©æ„é€ å™¨ä¸­æ•´ç†å­˜å‚¨å±æ€§å€¼ï¼Œå¹¶é€šè¿‡è°ƒç”¨å…¶ä»–æ„é€ å™¨ä¼ é€’å‡ºå»ï¼Œæœ€ååœ¨æŒ‡å®šæ„é€ å™¨ä¸­å®ç°æ‰€æœ‰å­˜å‚¨å±æ€§çš„åˆå§‹åŒ–ã€‚å¿…é¡»é€šè¿‡<code>convenience</code>å…³é”®å­—å®šä¹‰ä¾¿åˆ©æ„é€ å™¨ã€‚</p>
<p>ç±»çš„æ„é€ å™¨ä»£ç†è§„åˆ™ï¼š</p>
<ol>
<li>æŒ‡å®šæ„é€ å™¨å¿…é¡»è°ƒç”¨å…¶ç›´æ¥çˆ¶ç±»çš„çš„æŒ‡å®šæ„é€ å™¨ã€‚</li>
<li>ä¾¿åˆ©æ„é€ å™¨å¿…é¡»è°ƒç”¨<em>åŒ</em>ç±»ä¸­å®šä¹‰çš„å…¶å®ƒæ„é€ å™¨ã€‚</li>
<li>ä¾¿åˆ©æ„é€ å™¨å¿…é¡»æœ€ç»ˆå¯¼è‡´ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨è¢«è°ƒç”¨ã€‚</li>
</ol>
<p><img src="https://docs.swift.org/swift-book/_images/initializerDelegation01_2x.png"></p>
<p><strong>ä¾¿åˆ©æ„é€ å™¨ï¼š</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Food</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">convenience</span> <span class="function"><span class="keyword">init</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(name: <span class="string">&quot;[Unnamed]&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> empty <span class="operator">=</span> new <span class="type">Food</span>(); <span class="comment">// è°ƒç”¨ä¾¿åˆ©æ„é€ å™¨</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä¾‹å­æ„é€ é“¾ï¼š</p>
<p><img src="https://docs.swift.org/swift-book/_images/initializersExample01_2x.png"></p>
<p><strong>å­ç±»æ„é€ å™¨ï¼š</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RecipeIngredient</span>: <span class="title">Food</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> quantity: <span class="type">Int</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>, <span class="params">quantity</span>: <span class="type">Int</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.quantity <span class="operator">=</span> quantity <span class="comment">// è‡ªæœ‰å±æ€§åˆå§‹åŒ– åœ¨å®Œæˆè‡ªæœ‰å±æ€§åˆå§‹åŒ–åï¼Œæ‰èƒ½è°ƒç”¨çˆ¶ç±»æ„é€ å™¨</span></span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name) <span class="comment">// è°ƒç”¨çˆ¶ç±»æ„é€ å™¨æ–¹æ³•ï¼Œå®ç°å®ä¾‹è¯</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¾¿åˆ©æ„é€ å™¨ é»˜è®¤æŒ‡å®šquantityå€¼ä¸º1</span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">convenience</span> <span class="function"><span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(name: name, quantity: <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä¾‹å­æ„é€ é“¾ï¼š</p>
<p><img src="https://docs.swift.org/swift-book/_images/initializersExample02_2x.png"></p>
<h3 id="ç±»çš„ä¸¤æ®µå¼æ„é€ "><a href="#ç±»çš„ä¸¤æ®µå¼æ„é€ " class="headerlink" title="ç±»çš„ä¸¤æ®µå¼æ„é€ "></a>ç±»çš„ä¸¤æ®µå¼æ„é€ </h3><p>ç±»æ„é€ åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>åˆå§‹åŒ–å„ä¸ªå±æ€§å€¼ã€‚åœ¨è¿™ä¸ªéƒ¨åˆ†ä¸­<code>self</code>æ˜¯ä¸å­˜åœ¨çš„ï¼Œä½ ä¸èƒ½é€šè¿‡<code>self</code>è·å–å±æ€§å€¼æˆ–è°ƒç”¨æ–¹æ³•ã€‚</li>
<li>ä¼˜åŒ–å·²ç»åˆå§‹åŒ–çš„å±æ€§å€¼ã€‚è¿™ä¸ªéƒ¨åˆ†<code>self</code>å­˜åœ¨äº†ï¼Œä½ å¯ä»¥è°ƒç”¨å®ƒè·å–å±æ€§å€¼æˆ–æ–¹æ³•ä¿®æ”¹å®Œæˆåˆå§‹åŒ–çš„å±æ€§å€¼ã€‚</li>
</ol>
<p>åˆ¤æ–­ç¬¬ä¸€é˜¶æ®µç»“æŸçš„ä¸€ä¸ªæ ‡å‡†æ˜¯å­ç±»è°ƒç”¨äº†çˆ¶ç±»çš„æ„é€ å™¨ã€‚è€Œå­ç±»çš„è‡ªæœ‰çš„å±æ€§å¿…é¡»åœ¨è°ƒç”¨çˆ¶ç±»æ„é€ å™¨å‰å®Œæˆåˆå§‹åŒ–ã€‚</p>
<p>å›¾è§£ä¸¤æ®µå¼æ„é€ è¿‡ç¨‹ç¬¬ä¸€é˜¶æ®µï¼š</p>
<p><img src="https://docs.swift.org/swift-book/_images/twoPhaseInitialization01_2x.png"></p>
<p>æ„é€ è¿‡ç¨‹ä»å­ç±»çš„ä¾¿åˆ©æ„é€ å™¨å¼€å§‹ï¼Œè¿™ä¸ªä¾¿åˆ©æ„é€ å™¨æ­¤æ—¶æ²¡æ³•ä¿®æ”¹ä»»ä½•å±æ€§ï¼Œå®ƒæŠŠæ„é€ ä»»åŠ¡ä»£ç†ç»™åŒä¸€ç±»ä¸­çš„æŒ‡å®šæ„é€ å™¨ã€‚æŒ‡å®šæ„é€ å™¨åœ¨ä¿è¯è‡ªæœ‰å±æ€§éƒ½å®Œæˆåˆå§‹åŒ–åè°ƒç”¨çˆ¶ç±»æŒ‡å®šæ„é€ å™¨ã€‚çˆ¶ç±»æŒ‡å®šæ„é€ å™¨åœ¨å®Œæˆæ‰€æœ‰å±æ€§åˆå§‹åŒ–åå°±å®Œæˆäº†æ„é€ ç¬¬ä¸€é˜¶æ®µã€‚</p>
<p>ä¸¤æ®µå¼æ„é€ è¿‡ç¨‹ç¬¬äºŒé˜¶æ®µï¼š</p>
<p><img src="https://docs.swift.org/swift-book/_images/twoPhaseInitialization02_2x.png"></p>
<p>çˆ¶ç±»æŒ‡å®šæ„é€ å™¨åœ¨å®Œæˆæ‰€æœ‰å±æ€§åˆå§‹åŒ–åï¼Œå¯ä»¥è¿›ä¸€æ­¥å®šåˆ¶å®ä¾‹ã€‚çˆ¶ç±»æŒ‡å®šæ„é€ å™¨è°ƒç”¨å®Œæˆï¼Œå­ç±»æŒ‡å®šæ„é€ å™¨å°±å¯ä»¥å®šåˆ¶å®ä¾‹ï¼Œæœ€åå½“æŒ‡å®šæ„é€ å™¨è°ƒç”¨å®Œæˆåï¼Œä¾¿åˆ©æ„é€ å™¨å¯ä»¥è¿›è¡Œå®šåˆ¶å®ä¾‹ã€‚</p>
<h3 id="çˆ¶ç±»çš„æ„é€ å™¨é‡å†™å’Œç»§æ‰¿"><a href="#çˆ¶ç±»çš„æ„é€ å™¨é‡å†™å’Œç»§æ‰¿" class="headerlink" title="çˆ¶ç±»çš„æ„é€ å™¨é‡å†™å’Œç»§æ‰¿"></a>çˆ¶ç±»çš„æ„é€ å™¨é‡å†™å’Œç»§æ‰¿</h3><p>å½“ä½ åœ¨å­ç±»ç¼–å†™ä¸€ä¸ªå’Œçˆ¶ç±»æ„é€ å™¨æ¨¡å¼ç›¸åŒ¹é…çš„æ„é€ å™¨æ—¶ï¼Œä½ å…¶å®åœ¨é‡å†™çˆ¶ç±»æ„é€ å™¨ï¼Œè¿™æ—¶ä½ éœ€è¦åœ¨é‡å†™çš„æ„é€ å™¨å‰æ·»åŠ å…³é”®å­—<code>override</code>ã€‚å³ä½¿ä½ é‡å†™çš„æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„æ„é€ å™¨ï¼ˆé»˜è®¤æ„é€ å™¨ï¼‰éƒ½éœ€è¦å¸¦å…³é”®å­—<code>override</code>ã€‚</p>
<p>å½“ä½ å°†çˆ¶ç±»æŒ‡å®šæ„é€ å™¨é‡å†™ä¸ºä¾¿åˆ©æ„é€ å™¨éœ€è¦æ·»åŠ å…³é”®å­—<code>overried</code>,ä½†ä½ é‡å†™çˆ¶ç±»çš„ä¾¿åˆ©æ„é€ å™¨æ—¶åˆ™æ— éœ€æ·»åŠ å…³é”®å­—<code>override</code>ã€‚</p>
<p>ä¸€èˆ¬æƒ…å†µå­ç±»æ˜¯ä¸ä¼šè‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»æ„é€ å™¨ï¼Œä½†åœ¨æ»¡è¶³ç‰¹å®šæ¡ä»¶ä¸‹å­ç±»æ„é€ å™¨ä¼šç»§æ‰¿çˆ¶ç±»æ„é€ å™¨ã€‚</p>
<p>å¦‚æœå­ç±»æ„é€ å™¨è‡ªå·±çš„å±æ€§éƒ½æä¾›äº†åˆå§‹å€¼ï¼Œä¸€ä¸‹ä¸¤ç§æ–¹å¼å®ƒå°†å¯ä»¥ç»§æ‰¿çˆ¶ç±»æ„é€ å™¨ã€‚</p>
<ol>
<li>å¦‚æœå­ç±»æ²¡æœ‰å®šä¹‰ä»»ä½•æŒ‡å®šæ„é€ å™¨ï¼Œå®ƒå°†è‡ªåŠ¨ç»§æ‰¿æ‰€æœ‰çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨ã€‚</li>
<li>å¦‚æœå­ç±»æä¾›äº†æ‰€æœ‰çˆ¶ç±»æŒ‡å®šæ„é€ å™¨çš„å®ç°â€”â€”æ— è®ºæ˜¯é€šè¿‡è§„åˆ™ 1 ç»§æ‰¿è¿‡æ¥çš„ï¼Œè¿˜æ˜¯æä¾›äº†è‡ªå®šä¹‰å®ç°â€”â€”å®ƒå°†è‡ªåŠ¨ç»§æ‰¿æ‰€æœ‰çˆ¶ç±»çš„ä¾¿åˆ©æ„é€ å™¨ã€‚</li>
</ol>
<p>å¦‚æœå­ç±»æ·»åŠ äº†å¤šä¸ªä¾¿åˆ©æ„é€ å™¨ï¼Œè¿™ä¸¤æ¡ä¾ç„¶å—ç”¨ã€‚</p>
<p>åœ¨æ„é€ å‰æ·»åŠ å…³é”®å­—<code>require</code>åˆ™è¡¨ç¤ºè¿™ä¸ªæ„é€ å™¨æ˜¯å¿…è¦æ„é€ å™¨ï¼Œæ‰€æœ‰å­ç±»å¿…é¡»å®ç°è¯¥æ„é€ å™¨ã€‚å­ç±»åœ¨é‡å†™çˆ¶ç±»å¿…è¦æ„é€ å™¨æ—¶å¿…é¡»åœ¨å­ç±»æ„é€ å™¨é¢å‰æ·»åŠ å…³é”®å­—<code>require</code>ï¼Œè€Œä¸éœ€è¦æ·»åŠ å…³é”®å­—<code>override</code>ã€‚</p>
<h3 id="å¯å¤±è´¥æ„é€ å™¨"><a href="#å¯å¤±è´¥æ„é€ å™¨" class="headerlink" title="å¯å¤±è´¥æ„é€ å™¨"></a>å¯å¤±è´¥æ„é€ å™¨</h3><p>åœ¨ç±»ã€ç»“æ„ä½“ã€æšä¸¾æ„é€ è¿‡ç¨‹ä¸­å¯èƒ½æ„é€ å¤±è´¥(æ— æ•ˆå‚æ•°ï¼Œç¼ºå°‘æ‰€éœ€å¤–éƒ¨èµ„æºï¼Œä¸æ»¡è¶³æŸç§å¿…è¦æ¡ä»¶)ï¼Œè¿™æ—¶ä½ éœ€è¦å®šä¹‰ä¸€ä¸ªå¯å¤±è´¥æ„é€ å™¨åº”å¯¹è¿™ç§æƒ…å†µã€‚</p>
<p>å¯å¤±è´¥æ„é€ å™¨è¯­æ³•æ˜¯åœ¨<code>init</code>å…³é”®å­—åé¢åŠ ä¸€ä¸ªé—®å·(<code>init?</code>)ã€‚å¯å¤±è´¥æ„é€ å™¨çš„å‚æ•°åå’Œå‚æ•°ç±»å‹ï¼Œä¸èƒ½ä¸å…¶å®ƒéå¯å¤±è´¥æ„é€ å™¨çš„å‚æ•°åï¼ŒåŠå…¶å‚æ•°ç±»å‹ç›¸åŒã€‚å¯å¤±è´¥æ„é€ å™¨å¯ä»¥è°ƒç”¨<code>return nil</code>æ¥è¡¨æ˜å¯å¤±è´¥æ„é€ å™¨åœ¨ä½•ç§æƒ…å†µä¸‹åº”è¯¥â€œå¤±è´¥â€ã€‚</p>
<h2 id="ææ„å™¨"><a href="#ææ„å™¨" class="headerlink" title="ææ„å™¨"></a>ææ„å™¨</h2><p>ææ„å™¨å¯ä»¥åœ¨ä¸€ä¸ªç±»çš„å®ä¾‹è¢«é‡Šæ”¾å‰è‡ªåŠ¨è¢«Swiftè°ƒç”¨ï¼Œå¦‚æœä½ åœ¨è¯¥ç±»ä¸­æœ‰å®šä¹‰å®ƒã€‚</p>
<p>ææ„å™¨çš„å®šä¹‰æ–¹å¼æ˜¯é€šè¿‡å…³é”®å­—<code>deinit</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bank</span> </span>&#123;</span><br><span class="line">    <span class="comment">//ç±»å˜é‡</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> coinsInBank <span class="operator">=</span> <span class="number">10_000</span></span><br><span class="line">    <span class="comment">// ç±»æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">distribute</span>(<span class="params">coins</span> <span class="params">numberOfCoinsRequested</span>: <span class="type">Int</span>)</span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> numberOfCoinsToVend <span class="operator">=</span> <span class="built_in">min</span>(numberOfCoinsRequested, coinsInBank)</span><br><span class="line">        coinsInBank <span class="operator">-=</span> numberOfCoinsToVend</span><br><span class="line">        <span class="keyword">return</span> numberOfCoinsToVend</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">receive</span>(<span class="params">coins</span>: <span class="type">Int</span>)</span> &#123;</span><br><span class="line">        coinsInBank <span class="operator">+=</span> coins</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> coinsInPurse: <span class="type">Int</span></span><br><span class="line">    <span class="comment">// æ„é€ å™¨</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">coins</span>: <span class="type">Int</span>)</span> &#123;</span><br><span class="line">        coinsInPurse <span class="operator">=</span> <span class="type">Bank</span>.distribute(coins: coins)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">win</span>(<span class="params">coins</span>: <span class="type">Int</span>)</span> &#123;</span><br><span class="line">        coinsInPurse <span class="operator">+=</span> <span class="type">Bank</span>.distribute(coins: coins)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ææ„å™¨</span></span><br><span class="line">    <span class="keyword">deinit</span> &#123;</span><br><span class="line">        <span class="type">Bank</span>.receive(coins: coinsInPurse)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜å¯é€‰å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> playerOne: <span class="type">Player</span>? <span class="operator">=</span> <span class="type">Player</span>(coins: <span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;A new player has joined the game with <span class="subst">\(playerOne<span class="operator">!</span>.coinsInPurse)</span> coins&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° &quot;A new player has joined the game with 100 coins&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;There are now <span class="subst">\(Bank.coinsInBank)</span> coins left in the bank&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° &quot;There are now 9900 coins left in the bank&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// â€œ!â€å·æ˜¯å¼ºåˆ¶è½¬æ¢çš„æ„æ€ï¼Œå½“å˜é‡æ˜¯å¯é€‰ç±»å‹æ—¶Swiftä¼šå…ˆæ£€æŸ¥æ˜¯å¦ä¸æ˜¯nilï¼Œå¦‚æœä½ ç¡®å®šä¸æ˜¯nilå°±å¯ä»¥ä½¿ç”¨å¼ºåˆ¶ç¬¦åˆå‰©å»æ£€æµ‹ã€‚</span></span><br><span class="line">playerOne<span class="operator">!</span>.win(coins: <span class="number">2_000</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;PlayerOne won 2000 coins &amp; now has <span class="subst">\(playerOne<span class="operator">!</span>.coinsInPurse)</span> coins&quot;</span>)</span><br><span class="line"><span class="comment">// è¾“å‡º &quot;PlayerOne won 2000 coins &amp; now has 2100 coins&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The bank now only has <span class="subst">\(Bank.coinsInBank)</span> coins left&quot;</span>)</span><br><span class="line"><span class="comment">// è¾“å‡º &quot;The bank now only has 7900 coins left&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»™å˜é‡è®¾ç½®nilï¼Œæ–­å¼€å®ä¾‹çš„ä¸€ä¸ªè®¡ç®—å¼•ç”¨</span></span><br><span class="line">playerOne <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;PlayerOne has left the game&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° &quot;PlayerOne has left the game&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The bank now has <span class="subst">\(Bank.coinsInBank)</span> coins&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° &quot;The bank now has 10000 coins&quot;</span></span><br></pre></td></tr></table></figure>

<p>Swifté€šè¿‡å¼•ç”¨è®¡æ•°(ARC)å¤„ç†å®ä¾‹çš„å†…å­˜ç®¡ç†ï¼Œå½“ä¸€ä¸ªå®ä¾‹å¼•ç”¨è®¡æ•°ä¸º0æ—¶ä»£è¡¨å®ƒæ‰€å ç”¨çš„å†…å­˜å°†å¯ä»¥è¢«é‡Šæ”¾ã€‚åœ¨é‡Šæ”¾å‰ææ„å™¨å°†è¢«è°ƒç”¨ã€‚</p>
<h2 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h2><p>æ‰©å±•æ˜¯ç»™å·²ç»å®šä¹‰ï¼ˆæ— è®ºæ˜¯è‡ªå·±è¿˜æ˜¯Swiftçš„ï¼‰å¥½çš„ç±»(class)ã€ç»“æ„ä½“(struct)ã€æšä¸¾ã€åè®®(protocol)æ·»åŠ é¢å¤–çš„åŠŸèƒ½ã€‚å¸¸è§çš„ç”¨æ³•æ˜¯ç»™Swiftå®šä¹‰å¥½çš„ç±»å‹æ·»åŠ è‡ªå·±éœ€è¦çš„æ–¹æ³•æˆ–è®¡ç®—å±æ€§ï¼Œä»¥è¾¾åˆ°æ–¹ä¾¿ä½¿ç”¨ã€‚</p>
<p>æ‰©å±•æ”¯æŒçš„é¢å¤–åŠŸèƒ½æœ‰ï¼š</p>
<ul>
<li>æ·»åŠ è®¡ç®—å‹å±æ€§å’Œè®¡ç®—å‹ç±»å‹å±æ€§ï¼Œå­˜å‚¨å‹å±æ€§å’Œè§‚å¯Ÿå™¨å±æ€§ä¸èƒ½æ·»åŠ ã€‚</li>
<li>å®šä¹‰å®ä¾‹æ–¹æ³•å’Œç±»å‹æ–¹æ³•ã€‚</li>
<li>æä¾›å‹çš„æ„é€ å™¨ã€‚å¦‚æœä½ éœ€è¦è‡ªå®šä¹‰æ„é€ å™¨è€Œåˆä¸æƒ³è¦†ç›–ç³»ç»Ÿè‡ªå¸¦çš„é»˜è®¤æ„é€ å™¨å’Œé€ä¸€æ„é€ å™¨ï¼Œä½ å¯ä»¥å°†è‡ªå®šä¹‰æ„é€ å™¨é€šè¿‡æ‰©å±•æ·»åŠ ã€‚</li>
<li>å®šä¹‰ä¸‹æ ‡</li>
<li>å®šä¹‰å’Œä½¿ç”¨æ–°çš„åµŒå¥—ç±»å‹</li>
<li>ä½¿ä¸€ä¸ªå·²æœ‰ç±»å‹ç¬¦åˆæŸä¸ªåè®®</li>
<li>æ‰©å±•åè®®ï¼Œæä¾›åè®®è¦æ±‚çš„å®ç°ï¼Œæˆ–æ·»åŠ é¢å¤–çš„åŠŸèƒ½ï¼Œä»è€Œè®©ç¬¦åˆè¿™ä¸ªåè®®çš„ç±»å‹æ‹¥æœ‰è¿™äº›åŠŸèƒ½</li>
</ul>
<p>æ‰©å±•çš„è¯­æ³•æ˜¯ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">someType</span>ï¼š<span class="title">protocolTyle</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è®¡ç®—å±æ€§</span></span><br><span class="line">    <span class="comment">// æ–¹æ³•</span></span><br><span class="line">    <span class="comment">// ä¸‹æ ‡</span></span><br><span class="line">    <span class="comment">// æ„é€ å™¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h3><p>æ‰©å±•<code>Double</code> ç»™å®ƒæ·»åŠ è®¡ç®—å±æ€§ä½¿å®ƒå¿«é€Ÿå°†ä¸åŒçš„è·ç¦»å•ä½è½¬æ¢æˆâ€œç±³â€</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Double</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> km: <span class="type">Double</span> &#123; <span class="keyword">return</span> <span class="keyword">self</span> <span class="operator">*</span> <span class="number">1_000.0</span> &#125; <span class="comment">// åƒç±³</span></span><br><span class="line">    <span class="keyword">var</span> m : <span class="type">Double</span> &#123; <span class="keyword">return</span> <span class="keyword">self</span> &#125; <span class="comment">// ç±³</span></span><br><span class="line">    <span class="keyword">var</span> cm: <span class="type">Double</span> &#123; <span class="keyword">return</span> <span class="keyword">self</span> <span class="operator">/</span> <span class="number">100.0</span> &#125; <span class="comment">// å˜ç±³</span></span><br><span class="line">    <span class="keyword">var</span> mm: <span class="type">Double</span> &#123; <span class="keyword">return</span> <span class="keyword">self</span> <span class="operator">/</span> <span class="number">1_000.0</span> &#125; <span class="comment">// æ¯«ç±³</span></span><br><span class="line">    <span class="keyword">var</span> ft: <span class="type">Double</span> &#123; <span class="keyword">return</span> <span class="keyword">self</span> <span class="operator">/</span> <span class="number">3.28084</span> &#125; <span class="comment">// è‹±å°º</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> oneInch <span class="operator">=</span> <span class="number">25.4</span>.mm</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;One inch is <span class="subst">\(oneInch)</span> meters&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° â€œOne inch is 0.0254 metersâ€</span></span><br><span class="line"><span class="keyword">let</span> threeFeet <span class="operator">=</span> <span class="number">3</span>.ft</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Three feet is <span class="subst">\(threeFeet)</span> meters&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° â€œThree feet is 0.914399970739201 metersâ€</span></span><br><span class="line"><span class="keyword">let</span> aMarathon <span class="operator">=</span> <span class="number">42</span>.km <span class="operator">+</span> <span class="number">195</span>.m</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;A marathon is <span class="subst">\(aMarathon)</span> meters long&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° â€œA marathon is 42195.0 meters longâ€</span></span><br></pre></td></tr></table></figure>

<h3 id="æ„é€ å™¨"><a href="#æ„é€ å™¨" class="headerlink" title="æ„é€ å™¨"></a>æ„é€ å™¨</h3><p>æ‰©å±•å¯ä»¥ä¸ºä»¥åç±»å‹æ·»åŠ æ„é€ å™¨ï¼Œä½†åªèƒ½ä¸ºç±»æ·»åŠ ä¾¿åˆ©æ„é€ å™¨ä¸èƒ½æ·»åŠ æŒ‡å®šæ„é€ å™¨å’Œè§£æå™¨ã€‚</p>
<p>å¦‚æœæ‰©å±•ç»™å€¼ç±»å‹æ·»åŠ æ„é€ å™¨ï¼Œè¿™äº›å€¼ç±»å‹æ²¡æœ‰è‡ªå®šä¹‰æ„é€ å™¨å¹¶ä¸”å­˜å‚¨å±æ€§æœ‰é»˜è®¤å€¼ï¼Œåˆ™åœ¨æ‰©å±•æ·»åŠ çš„æ„é€ å™¨å†…å¯ä»¥è°ƒç”¨é»˜è®¤æ„é€ å™¨æˆ–é€ä¸€æ„é€ å™¨ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Size</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width <span class="operator">=</span> <span class="number">0.0</span>, height <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="operator">=</span> <span class="number">0.0</span>, y <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rect</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> origin <span class="operator">=</span> <span class="type">Point</span>()</span><br><span class="line">    <span class="keyword">var</span> size <span class="operator">=</span> <span class="type">Size</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Rect</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">center</span>: <span class="type">Point</span>, <span class="params">size</span>: <span class="type">Size</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> originX <span class="operator">=</span> center.x <span class="operator">-</span> (size.width <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">let</span> originY <span class="operator">=</span> center.y <span class="operator">-</span> (size.height <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">        <span class="comment">// è°ƒç”¨ è‡ªå¸¦çš„é€ä¸€æ„é€ å™¨</span></span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(origin: <span class="type">Point</span>(x: originX, y: originY), size: size)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ–¹æ³•-1"><a href="#æ–¹æ³•-1" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><p>æ‰©å±•<code>Int</code>è®©å®ƒæ‹¥æœ‰so coolçš„èƒ½åŠ›ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Int</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">repetitions</span>(<span class="params">task</span>: () -&gt; <span class="type">Void</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> <span class="keyword">_</span> <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span><span class="keyword">self</span> &#123;</span><br><span class="line">            task()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç»“æ„ä½“ï¼Œæšä¸¾ä¿®æ”¹å˜é‡éœ€è¦æ·»åŠ  mutatingå…³é”®å­—</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">square</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">self</span> <span class="operator">=</span> <span class="keyword">self</span> <span class="operator">*</span> <span class="keyword">self</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">3</span>.repetitions(&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello!&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="number">5</span>.repetitions &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Goodbye!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> someInt <span class="operator">=</span> <span class="number">3</span></span><br><span class="line">someInt.square()</span><br><span class="line"><span class="comment">// someInt çš„å€¼ç°åœ¨æ˜¯ 9</span></span><br></pre></td></tr></table></figure>

<h3 id="ä¸‹æ ‡-1"><a href="#ä¸‹æ ‡-1" class="headerlink" title="ä¸‹æ ‡"></a>ä¸‹æ ‡</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Int</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è¿”å›æ•°å­—ä»å³å‘å·¦æ•°çš„ç¬¬ n ä¸ªæ•°å­—</span></span><br><span class="line">    <span class="function"><span class="keyword">subscript</span>(<span class="params">digitIndex</span>: <span class="type">Int</span>)</span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> decimalBase <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> <span class="keyword">_</span> <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>digitIndex &#123;</span><br><span class="line">            decimalBase <span class="operator">*=</span> <span class="number">10</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">self</span> <span class="operator">/</span> decimalBase) <span class="operator">%</span> <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">746381295</span>[<span class="number">0</span>]</span><br><span class="line"><span class="comment">// è¿”å› 5</span></span><br><span class="line"><span class="number">746381295</span>[<span class="number">1</span>]</span><br><span class="line"><span class="comment">// è¿”å› 9</span></span><br><span class="line"><span class="number">746381295</span>[<span class="number">2</span>]</span><br><span class="line"><span class="comment">// è¿”å› 2</span></span><br><span class="line"><span class="number">746381295</span>[<span class="number">8</span>]</span><br><span class="line"><span class="comment">// è¿”å› 7</span></span><br></pre></td></tr></table></figure>

<h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><p>Swiftä¸­çš„åè®®ç±»ä¼¼å…¶ä»–é«˜çº§ç¼–ç¨‹è¯­è¨€çš„æ¥å£ã€‚å®ƒç”¨äºå®šä¹‰ä¸€å¥—æ ‡å‡†ï¼Œç¬¦åˆå®ƒè¦æ±‚çš„ç±»å‹å¿…é¡»å®ç°è¿™äº›æ ‡å‡†ã€‚ç±»ã€ç»“æ„ä½“ã€æšä¸¾å¯ä»¥éµå¾ªåè®®ã€‚</p>
<h3 id="å±æ€§-1"><a href="#å±æ€§-1" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SomeProtocol</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰åè®®</span></span><br><span class="line">    <span class="comment">// åè®®å®šä¹‰çš„å±æ€§éƒ½æ˜¯ä½¿ç”¨var å£°æ˜å˜é‡å±æ€§</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * å¤§æ‹¬å·ä¸­çš„ &#123;get set&#125;æŒ‡æ˜è¯¥å±æ€§æ˜¯å¯è¯»å¯å†™çš„ã€‚å¦‚æœæ˜¯&#123;get&#125;è¯´æ˜è¯¥å±æ€§æ˜¯åªè¯»çš„ï¼Œ</span></span><br><span class="line"><span class="comment">    * è¿™æ—¶åœ¨å®ç°è¯¥å±æ€§æ—¶å¯ä»¥å®šä¹‰ä¸ºå¸¸é‡æˆ–åªè¯»çš„è®¡ç®—å±æ€§ã€‚</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">var</span> mustBeSettable:<span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span>&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// &#123;get&#125;ç±»å‹çš„å±æ€§ï¼Œåœ¨å®ç°æ—¶å¯ä»¥ä¸ºå¯è¯»å¯å†™çš„ã€‚</span></span><br><span class="line">    <span class="keyword">var</span> doesNotNeedToBeSettable: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¯ä»¥ç”¨ staticå…³é”®å­—ç”¨äºå±æ€§çš„å‰ç¼€ã€‚å½“æ—¶ç±»ç±»å‹æ—¶è¿˜å¯ä»¥ç”¨classå…³é”®å­—å£°æ˜ç±»å‹</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> someTypeProperty: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åè®®ä¸æŒ‡å®šå±æ€§æ˜¯å­˜å‚¨å‹å±æ€§è¿˜æ˜¯è®¡ç®—å‹å±æ€§ï¼Œå®ƒåªæŒ‡å®šå±æ€§çš„åç§°å’Œç±»å‹ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">FullyNamed</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fullName: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span>: <span class="title">FullyNamed</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fullName: <span class="type">String</span> <span class="comment">// å®ç°æ—¶å¯ä»¥æ˜¯å¯è¯»å¯å†™ è™½ç„¶åè®®å®šä¹‰æ˜¯åªè¯»</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> john <span class="operator">=</span> <span class="type">Person</span>(fullName: <span class="string">&quot;John Appleseed&quot;</span>)</span><br><span class="line"><span class="comment">// john.fullName ä¸º &quot;John Appleseed&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Starship</span>: <span class="title">FullyNamed</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">prefix</span>: <span class="type">String</span>?</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>, <span class="params">prefix</span>: <span class="type">String</span>? <span class="operator">=</span> <span class="literal">nil</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">        <span class="keyword">self</span>.prefix <span class="operator">=</span> <span class="keyword">prefix</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åªè¯»çš„è®¡ç®—å±æ€§</span></span><br><span class="line">    <span class="keyword">var</span> fullName: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">prefix</span> <span class="operator">!=</span> <span class="literal">nil</span> <span class="operator">?</span> <span class="keyword">prefix</span><span class="operator">!</span> <span class="operator">+</span> <span class="string">&quot; &quot;</span> : <span class="string">&quot;&quot;</span>) <span class="operator">+</span> name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> ncc1701 <span class="operator">=</span> <span class="type">Starship</span>(name: <span class="string">&quot;Enterprise&quot;</span>, prefix: <span class="string">&quot;USS&quot;</span>)</span><br><span class="line"><span class="comment">// ncc1701.fullName æ˜¯ &quot;USS Enterprise&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="æ–¹æ³•-2"><a href="#æ–¹æ³•-2" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SomeProtocol</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åè®®ä¸­çš„æ–¹æ³•éœ€è¦å®šä¹‰æ–¹æ³•åå’Œè¿”å›å€¼ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰è¿”å›å€¼å¯ä»¥ä¸å†™ã€‚</span></span><br><span class="line">    <span class="comment">// åè®®ä¸­çš„æ–¹æ³•å¯ä»¥æ˜¯ staticæˆ–class</span></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">someTypeMothod</span> ()</span> -&gt; <span class="type">Double</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åè®®çš„æ–¹æ³•ä¸éœ€è¦å¤§æ‹¬å·å’Œæ–¹æ³•ä½“ã€‚å¯ä»¥åœ¨åè®®ä¸­å®šä¹‰å…·æœ‰å¯å˜å‚æ•°çš„æ–¹æ³•ï¼Œä½†ä¸èƒ½æŒ‡å®šå‚æ•°é»˜è®¤å€¼ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">RandomNumberGenerator</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸€ä¸ª randomæ–¹æ³• è¿”å›å€¼æ˜¯ Double</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">random</span>()</span> -&gt; <span class="type">Double</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LinearCongruentialGenerator</span>: <span class="title">RandomNumberGenerator</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> lastRandom <span class="operator">=</span> <span class="number">42.0</span></span><br><span class="line">    <span class="keyword">let</span> m <span class="operator">=</span> <span class="number">139968.0</span></span><br><span class="line">    <span class="keyword">let</span> a <span class="operator">=</span> <span class="number">3877.0</span></span><br><span class="line">    <span class="keyword">let</span> c <span class="operator">=</span> <span class="number">29573.0</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">random</span>()</span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">        lastRandom <span class="operator">=</span> ((lastRandom <span class="operator">*</span> a <span class="operator">+</span> c).truncatingRemainder(dividingBy:m))</span><br><span class="line">        <span class="keyword">return</span> lastRandom <span class="operator">/</span> m</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> generator <span class="operator">=</span> <span class="type">LinearCongruentialGenerator</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Here&#x27;s a random number: <span class="subst">\(generator.random())</span>&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° â€œHere&#x27;s a random number: 0.37464991998171â€</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;And another one: <span class="subst">\(generator.random())</span>&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° â€œAnd another one: 0.729023776863283â€</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Togglable</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæ–¹æ³•å†…ä¼šä¿®æ”¹å±æ€§å€¼ï¼Œåˆ™åº”åœ¨func å‰æ·»åŠ  mutatingå…³é”®å­—</span></span><br><span class="line">    <span class="comment">// ç±»ç±»å‹æ–¹æ³•ä¸éœ€è¦å†™ mutatingå…³é”®å­—ï¼Œç»“æ„ä½“å’Œæšä¸¾ç±»å‹éœ€è¦å†™ mutatingå…³é”®å­—</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">toggle</span>()</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">OnOffSwitch</span>: <span class="title">Togglable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> off, on</span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">toggle</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .off:</span><br><span class="line">            <span class="keyword">self</span> <span class="operator">=</span> .on</span><br><span class="line">        <span class="keyword">case</span> .on:</span><br><span class="line">            <span class="keyword">self</span> <span class="operator">=</span> .off</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> lightSwitch <span class="operator">=</span> <span class="type">OnOffSwitch</span>.off</span><br><span class="line">lightSwitch.toggle()</span><br></pre></td></tr></table></figure>

<h3 id="æ„é€ å™¨-1"><a href="#æ„é€ å™¨-1" class="headerlink" title="æ„é€ å™¨"></a>æ„é€ å™¨</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SomeProtocol</span> </span>&#123;</span><br><span class="line">    <span class="comment">// éµå¾ªè¯¥åè®®çš„ç±»å‹å¿…é¡»å®ç°è¯¥æ„é€ å™¨</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">someParameter</span>: <span class="type">Int</span>)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span>: <span class="title">SomeProtocol</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®ç°åè®®ä¸­çš„æ„é€ å™¨ éœ€è¦åœ¨æ„é€ å™¨å‰æ·»åŠ å…³é”®å­— requiredï¼Œè¡¨ç¤ºå­ç±»éœ€å®ç°è¯¥æ„é€ å™¨</span></span><br><span class="line">    <span class="comment">// å¦‚æœè¯¥ç±» ç”¨ finalå®šä¹‰äº†åˆ™ä¸éœ€è¦ æ·»åŠ  required</span></span><br><span class="line">    <span class="keyword">required</span> <span class="function"><span class="keyword">init</span>(<span class="params">someParameter</span>: <span class="type">Int</span>)</span> &#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œæ˜¯æ„é€ å™¨çš„å®ç°éƒ¨åˆ†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸€ä¸ªå­ç±»é‡å†™äº†çˆ¶ç±»çš„æ„é€ å™¨å¹¶ä¸”åˆå®ç°äº†åè®®ä¸­è¯¥æ„é€ å™¨ï¼Œé‚£ä¹ˆåœ¨å®ç°è¯¥æ„é€ å™¨æ—¶éœ€è¦æ·»åŠ  <code>required</code>å’Œ<code>override</code>å…³é”®å­—ã€‚</p>
<h3 id="ä½œä¸ºç±»å‹"><a href="#ä½œä¸ºç±»å‹" class="headerlink" title="ä½œä¸ºç±»å‹"></a>ä½œä¸ºç±»å‹</h3><p>åè®®å¯ä»¥ä½œä¸ºä¸€ç§ç±»å‹ï¼Œç”¨äºå®šä¹‰å˜é‡ã€å¸¸é‡ã€æˆ–å±æ€§çš„ç±»å‹ã€‚ä¹Ÿå¯ä»¥ç”¨äºå£°æ˜æ–¹æ³•ï¼Œå‡½æ•°ï¼Œæ„é€ å™¨å‚æ•°ç±»å‹æˆ–è¿”å›å€¼ç±»å‹ã€‚</p>
<p>å½“ä½œä¸ºæ–¹æ³•å‚æ•°ç±»å‹æ—¶ï¼Œå¦‚æœæŸä¸ªå‚æ•°éµå¾ªå¤šä¸ªåè®®ï¼Œè¿™äº›åè®®ç”¨â€&amp;â€ç¬¦å·ç›¸è¿æ¥ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Named</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Aged</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span>: <span class="title">Named</span>, <span class="title">Aged</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">wishHappyBirthday</span>(<span class="params">to</span> <span class="params">celebrator</span>: <span class="type">Named</span> &amp; <span class="type">Aged</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Happy birthday, <span class="subst">\(celebrator.name)</span>, you&#x27;re <span class="subst">\(celebrator.age)</span>!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> birthdayPerson <span class="operator">=</span> <span class="type">Person</span>(name: <span class="string">&quot;Malcolm&quot;</span>, age: <span class="number">21</span>)</span><br><span class="line">wishHappyBirthday(to: birthdayPerson)</span><br><span class="line"><span class="comment">// æ‰“å° â€œHappy birthday Malcolm - you&#x27;re 21!â€</span></span><br></pre></td></tr></table></figure>

<p>åè®®ä¹Ÿå¯ä»¥ç”¨äºå®šä¹‰æ•°ç»„å’Œå­—å…¸é›†åˆç±»å‹ã€‚<code>let things: [TextRepresentable] = [game, d12, simonTheHamster]</code></p>
<h3 id="æ£€æŸ¥åè®®ä¸€è‡´æ€§"><a href="#æ£€æŸ¥åè®®ä¸€è‡´æ€§" class="headerlink" title="æ£€æŸ¥åè®®ä¸€è‡´æ€§"></a>æ£€æŸ¥åè®®ä¸€è‡´æ€§</h3><p>åè®®æ—¢ç„¶æ˜¯ä¸€ç§æ™®é€šç±»å‹ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡<code>is</code>å’Œ<code>as</code>æ£€æµ‹æŸä¸ªå®ä¾‹çš„ç±»å‹æ˜¯å¦éµå¾ªæŸä¸ªåè®®ã€‚</p>
<ul>
<li><code>is</code> ç”¨æ¥æ£€æŸ¥å®ä¾‹æ˜¯å¦ç¬¦åˆæŸä¸ªåè®®ï¼Œè‹¥ç¬¦åˆåˆ™è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</li>
<li><code>as?</code> è¿”å›ä¸€ä¸ªå¯é€‰å€¼ï¼Œå½“å®ä¾‹ç¬¦åˆæŸä¸ªåè®®æ—¶ï¼Œè¿”å›ç±»å‹ä¸ºåè®®ç±»å‹çš„å¯é€‰å€¼ï¼Œå¦åˆ™è¿”å› <code>nil</code>ã€‚</li>
<li><code>as!</code> å°†å®ä¾‹å¼ºåˆ¶å‘ä¸‹è½¬æ¢åˆ°æŸä¸ªåè®®ç±»å‹ï¼Œå¦‚æœå¼ºè½¬å¤±è´¥ï¼Œä¼šå¼•å‘è¿è¡Œæ—¶é”™è¯¯ã€‚</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªåè®®</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">HasArea</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ‹¥æœ‰è¿™ä¸ªå±æ€§</span></span><br><span class="line">    <span class="keyword">var</span> area: <span class="type">Double</span> &#123; <span class="keyword">get</span> &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Circleå’ŒCountry éµå¾ªHasAreaåè®®ã€‚</span></span><br><span class="line"><span class="comment">* Circle areaæ˜¯ä¸ªåªè¯»è®¡ç®—å±æ€§</span></span><br><span class="line"><span class="comment">* Country areaæ˜¯ä¸ªå­˜å‚¨å±æ€§</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span>: <span class="title">HasArea</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> pi <span class="operator">=</span> <span class="number">3.1415927</span></span><br><span class="line">    <span class="keyword">var</span> radius: <span class="type">Double</span></span><br><span class="line">    <span class="keyword">var</span> area: <span class="type">Double</span> &#123; <span class="keyword">return</span> pi <span class="operator">*</span> radius <span class="operator">*</span> radius &#125;</span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">radius</span>: <span class="type">Double</span>)</span> &#123; <span class="keyword">self</span>.radius <span class="operator">=</span> radius &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Country</span>: <span class="title">HasArea</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> area: <span class="type">Double</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">area</span>: <span class="type">Double</span>)</span> &#123; <span class="keyword">self</span>.area <span class="operator">=</span> area &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Animal æ²¡æœ‰éµå¾ªHasAreaåè®®</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> legs: <span class="type">Int</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">legs</span>: <span class="type">Int</span>)</span> &#123; <span class="keyword">self</span>.legs <span class="operator">=</span> legs &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªobjectsæ•°ç»„ é›†åˆç±»å‹æ˜¯ AnyObject</span></span><br><span class="line"><span class="keyword">let</span> objects: [<span class="type">AnyObject</span>] <span class="operator">=</span> [</span><br><span class="line">    <span class="type">Circle</span>(radius: <span class="number">2.0</span>),</span><br><span class="line">    <span class="type">Country</span>(area: <span class="number">243_610</span>),</span><br><span class="line">    <span class="type">Animal</span>(legs: <span class="number">4</span>)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> object <span class="keyword">in</span> objects &#123;</span><br><span class="line">    <span class="comment">// ç”¨ as? åˆ¤æ–­å¯¹è±¡æ˜¯å¦éµå¾ª HasArea</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> objectWithArea <span class="operator">=</span> object <span class="keyword">as?</span> <span class="type">HasArea</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Area is <span class="subst">\(objectWithArea.area)</span>&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Something that doesn&#x27;t have an area&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Area is 12.5663708</span></span><br><span class="line"><span class="comment">// Area is 243610.0</span></span><br><span class="line"><span class="comment">// Something that doesn&#x27;t have an area</span></span><br></pre></td></tr></table></figure>

<h3 id="æ‰©å±•åè®®"><a href="#æ‰©å±•åè®®" class="headerlink" title="æ‰©å±•åè®®"></a>æ‰©å±•åè®®</h3><p>é€šè¿‡æ‰©å±•ä½¿å·²æœ‰ç±»å‹éµå¾ªæŸä¸ªåè®®ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TextRepresentable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> textualDescription: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é€šè¿‡æ‰©å±•ä½¿å¾—Diceéµå¾ª TextRepresentable</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Dice</span>: <span class="title">TextRepresentable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> textualDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;A <span class="subst">\(sides)</span>-sided dice&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> d12 <span class="operator">=</span> <span class="type">Dice</span>(sides: <span class="number">12</span>, generator: <span class="type">LinearCongruentialGenerator</span>())</span><br><span class="line"><span class="built_in">print</span>(d12.textualDescription)</span><br><span class="line"><span class="comment">// æ‰“å° â€œA 12-sided diceâ€</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡æ‰©å±•ä¸ºä¸€éµå¾ªæŸä¸ªåè®®çš„ç±»å‹æä¾›å±æ€§ã€æ–¹æ³•å’Œä¸‹æ ‡çš„å®ç°ã€‚è¿™æ ·çš„æ–¹å¼å¯ä»¥ä¸ºä»¥éµå¾ªåè®®æ·»åŠ å…±æœ‰çš„æ–¹æ³•ã€‚åè®®æœ¬æ¥æ˜¯ä¸å¯ä»¥æ‹¥æœ‰å…·ä½“çš„å®ç°ï¼Œä½†é€šè¿‡æ‰©å±•å¯ä»¥è®©åè®®æ‹¥æœ‰å…·ä½“çš„å®ç°å¹¶è®©éµå¾ªå®ƒçš„ç±»å‹è‡ªåŠ¨æ‹¥æœ‰è¿™äº›å®ç°ã€‚</p>
<p>å¦‚æœéµå¾ªåè®®çš„ç±»å‹è‡ªå·±å®šä¹‰äº†è¿™äº›å®ç°ï¼Œåˆ™è‡ªå®šä¹‰çš„å®ç°ä¼šä»£æ›¿æ‰©å±•ä¸­é»˜è®¤çš„å®ç°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸º RandomNumberGenerator æä¾› randomBoolé»˜è®¤å®ç°</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">RandomNumberGenerator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">randomBool</span>()</span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> random() <span class="operator">&gt;</span> <span class="number">0.5</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LinearCongruentialGenerator éµå¾ª RandomNumberGenerator</span></span><br><span class="line"><span class="comment">//é€šè¿‡åè®®æ‰©å±•ï¼Œæ‰€æœ‰éµå¾ªåè®®çš„ç±»å‹ï¼Œéƒ½èƒ½è‡ªåŠ¨è·å¾—è¿™ä¸ªæ‰©å±•æ‰€å¢åŠ çš„æ–¹æ³•å®ç°ï¼Œæ— éœ€ä»»ä½•é¢å¤–ä¿®æ”¹</span></span><br><span class="line"><span class="keyword">let</span> generator <span class="operator">=</span> <span class="type">LinearCongruentialGenerator</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Here&#x27;s a random number: <span class="subst">\(generator.random())</span>&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° â€œHere&#x27;s a random number: 0.37464991998171â€</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;And here&#x27;s a random Boolean: <span class="subst">\(generator.randomBool())</span>&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° â€œAnd here&#x27;s a random Boolean: trueâ€</span></span><br></pre></td></tr></table></figure>

<p>ä½ è¿˜å¯ä»¥ä¸ºåè®®æ‰©å±•æ·»åŠ æ¡ä»¶ï¼Œåªæœ‰éµå¾ªåè®®å¹¶æ»¡è¶³é™åˆ¶æ¡ä»¶çš„ç±»å‹æ‰èƒ½è·å¾—åè®®æä¾›çš„é»˜è®¤å®ç°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TextRepresentable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> textualDescription: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Hamster</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">       <span class="keyword">var</span> textualDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;A hamster named <span class="subst">\(name)</span>&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Hamsteréµå¾ª TextRepresentableåè®® é€šè¿‡å®šä¹‰ä¸€ä¸ªç©ºæ‰©å±•ä½¿Hamster éµå¾ªTextRepresentable</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Hamster</span>: <span class="title">TextRepresentable</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ‰©å±•é›†åˆ åè®® Arrayéµå¾ªè¿™ä¸ªåè®®ã€‚</span></span><br><span class="line"><span class="comment">*  åªæœ‰é›†åˆå…ƒç´ éµå¾ª TextRepresentable åè®® æ‰èƒ½ä½¿ç”¨é»˜è®¤å®ç° textualDescription è®¡ç®—å±æ€§</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Collection</span> <span class="title">where</span> <span class="title">Iterator</span>.<span class="title">Element</span>: <span class="title">TextRepresentable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> textualDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> itemsAsText <span class="operator">=</span> <span class="keyword">self</span>.map &#123; <span class="variable">$0</span>.textualDescription &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;[&quot;</span> <span class="operator">+</span> itemsAsText.joined(separator: <span class="string">&quot;, &quot;</span>) <span class="operator">+</span> <span class="string">&quot;]&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> murrayTheHamster <span class="operator">=</span> <span class="type">Hamster</span>(name: <span class="string">&quot;Murray&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> morganTheHamster <span class="operator">=</span> <span class="type">Hamster</span>(name: <span class="string">&quot;Morgan&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> mauriceTheHamster <span class="operator">=</span> <span class="type">Hamster</span>(name: <span class="string">&quot;Maurice&quot;</span>)</span><br><span class="line"><span class="comment">// hamsters æ˜¯ä¸ª é›†åˆç±»å‹æ˜¯ Hamster çš„Array</span></span><br><span class="line"><span class="keyword">let</span> hamsters <span class="operator">=</span> [murrayTheHamster, morganTheHamster, mauriceTheHamster]</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* å› ä¸º hamsters å†…éƒ¨å…ƒç´ éƒ½éµå¾ªTextRepresentableåè®®ï¼Œ</span></span><br><span class="line"><span class="comment">* æ‰€ä»¥å®ƒå¯ä»¥è°ƒç”¨Collection é»˜è®¤å®ç° textualDescription</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">print</span>(hamsters.textualDescription)</span><br><span class="line"><span class="comment">// æ‰“å° â€œ[A hamster named Murray, A hamster named Morgan, A hamster named Maurice]â€</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¤šä¸ªåè®®æ‰©å±•éƒ½ä¸ºåŒä¸€ä¸ªåè®®è¦æ±‚æä¾›äº†é»˜è®¤å®ç°ï¼Œè€Œéµå¾ªåè®®çš„ç±»å‹åˆåŒæ—¶æ»¡è¶³è¿™äº›åè®®æ‰©å±•çš„é™åˆ¶æ¡ä»¶ï¼Œé‚£ä¹ˆå°†ä¼šä½¿ç”¨é™åˆ¶æ¡ä»¶æœ€å¤šçš„é‚£ä¸ªåè®®æ‰©å±•æä¾›çš„é»˜è®¤å®ç°ã€‚</p>
<h3 id="åè®®çš„ç»§æ‰¿"><a href="#åè®®çš„ç»§æ‰¿" class="headerlink" title="åè®®çš„ç»§æ‰¿"></a>åè®®çš„ç»§æ‰¿</h3><p>åè®®å¯ä»¥åƒç±»ä¸€æ ·ç»§æ‰¿ä¸€ä¸ªæˆ–å¤šä¸ªåè®®ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">* PrettyTextRepresentable åè®®ç»§æ‰¿äº† TextRepresentableåè®®ã€‚</span></span><br><span class="line"><span class="comment">* éµå¾ªPrettyTextRepresentable åè®®çš„å®ä¾‹ä¹Ÿè¦å®ç° TextRepresentableä¸­çš„è¦æ±‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">PrettyTextRepresentable</span>: <span class="title">TextRepresentable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> prettyTextualDescription: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ å¸Œæœ›åè®®åªè¢«ç±»éµå¾ªï¼Œå¯ä»¥æ˜¯åè®®ç»§æ‰¿<code>class</code>ã€‚è¿™æ ·è¯¥åè®®åªèƒ½è¢«ç±»éµå¾ªã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// class åè®®å¿…é¡»æ”¾åœ¨ç»§æ‰¿åˆ—è¡¨ç¬¬ä¸€ä½</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SomeClassOnlyProtocol</span>: <span class="title">class</span>, <span class="title">SomeInheritedProtocol</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œæ˜¯ç±»ç±»å‹ä¸“å±åè®®çš„å®šä¹‰éƒ¨åˆ†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><p>æ³›å‹æ˜¯å¼ºç±»å‹è¯­è¨€ä¸ºäº†ä¿æŒä»£ç é€šç”¨æ€§çš„ä¸€ç§è¯­æ³•ã€‚å®ƒå¯ä»¥è®©å˜é‡ç±»å‹å¯ä»¥åœ¨ä½¿ç”¨å®ƒä¹‹å‰æŒ‡å®šã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// äº¤æ¢ aã€bå€¼</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapTwoInts</span>(<span class="keyword">_</span> <span class="params">a</span>: <span class="keyword">inout</span> <span class="type">Int</span>, <span class="keyword">_</span> <span class="params">b</span>: <span class="keyword">inout</span> <span class="type">Int</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> temporaryA <span class="operator">=</span> a</span><br><span class="line">    a <span class="operator">=</span> b</span><br><span class="line">    b <span class="operator">=</span> temporaryA</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä¾‹å­æ˜¯äº¤æ¢å‚æ•°<code>a</code>ã€<code>b</code>å€¼ï¼Œå¦‚æœå‚æ•°ç±»å‹æ˜¯ä¸ç¡®å®šçš„ï¼Œåªæœ‰è°ƒç”¨æ—¶æ‰çŸ¥é“ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æ³›å‹äº†ç”¨æ¥æ»¡è¶³è¿™ä¸ªåœºæ™¯ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‚æ•°ç±»å‹åœ¨å£°æ˜ä¸­ä¸ªæ–¹æ³•æ—¶ä¸ç¡®å®šçš„ï¼Œå”¯ä¸€ç¡®å®šçš„æ˜¯è¿™ä¸¤ä¸ªå‚æ•°ç±»å‹æ˜¯ç›¸åŒçš„ï¼</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapTwoValues</span>&lt;<span class="type">T</span>&gt;(<span class="keyword">_</span> <span class="params">a</span>: <span class="keyword">inout</span> <span class="type">T</span>, <span class="keyword">_</span> <span class="params">b</span>: <span class="keyword">inout</span> <span class="type">T</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> temporaryA <span class="operator">=</span> a</span><br><span class="line">    a <span class="operator">=</span> b</span><br><span class="line">    b <span class="operator">=</span> temporaryA</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> someInt <span class="operator">=</span> <span class="number">3</span></span><br><span class="line"><span class="keyword">var</span> anotherInt <span class="operator">=</span> <span class="number">107</span></span><br><span class="line">swapTwoValues(<span class="operator">&amp;</span>someInt, <span class="operator">&amp;</span>anotherInt)</span><br><span class="line"><span class="comment">// someInt ç°åœ¨ 107, and anotherInt ç°åœ¨ 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> someString <span class="operator">=</span> <span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="keyword">var</span> anotherString <span class="operator">=</span> <span class="string">&quot;world&quot;</span></span><br><span class="line">swapTwoValues(<span class="operator">&amp;</span>someString, <span class="operator">&amp;</span>anotherString)</span><br><span class="line"><span class="comment">// someString ç°åœ¨ &quot;world&quot;, and anotherString ç°åœ¨ &quot;hello&quot;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä¾‹å­ä¸­<code>T</code>ç§°ä¸ºå ä½ç¬¦ç±»å‹ï¼Œåœ¨è°ƒç”¨<code>swapTwoValues</code>æ‰ä¼šç¡®å®šå®ƒçš„ç±»å‹ã€‚<br>å¦‚æœéœ€è¦å¤šä¸ªå ä½ç¬¦ï¼Œå®ƒä»¬éƒ½å¯ä»¥å†™åœ¨å°–æ‹¬å·é‡Œé¢ï¼Œç”¨é€—å·åˆ†éš”ã€‚</p>
<h3 id="æ³›å‹ç±»å‹"><a href="#æ³›å‹ç±»å‹" class="headerlink" title="æ³›å‹ç±»å‹"></a>æ³›å‹ç±»å‹</h3><p>æ³›å‹é™¤äº†ç”¨äºå‡½æ•°ï¼Œä¹Ÿå¯ä»¥åº”ç”¨åœ¨ç±»(Class)ã€ç»“æ„ä½“(Struct)ã€æšä¸¾(Enun)ã€‚</p>
<p>å®šä¹‰ä¸€ä¸ªæ³›å‹ç»“æ„ä½“ï¼Œç”¨äºå¤„ç†æ•°ç»„çš„æ·»åŠ é¡¹å’Œç§»é™¤é¡¹ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„ç±»å‹ åªæœ‰åœ¨è°ƒç”¨æ—¶æ‰çŸ¥é“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Stack</span>&lt;<span class="title">Element</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»º items å±æ€§ï¼Œä½¿ç”¨ Element ç±»å‹çš„ç©ºæ•°ç»„å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">var</span> items <span class="operator">=</span> [<span class="type">Element</span>]()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æŒ‡å®š push(_:) æ–¹æ³•çš„å”¯ä¸€å‚æ•° item çš„ç±»å‹å¿…é¡»æ˜¯ Element ç±»å‹</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">push</span>(<span class="keyword">_</span> <span class="params">item</span>: <span class="type">Element</span>)</span> &#123;</span><br><span class="line">        items.append(item)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æŒ‡å®š pop() æ–¹æ³•çš„è¿”å›å€¼ç±»å‹å¿…é¡»æ˜¯ Element ç±»å‹</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">pop</span>()</span> -&gt; <span class="type">Element</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> items.removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨è°ƒç”¨ Stack æŒ‡æ˜è¯¥ç»“æ„ä½“å¤„ç†çš„é¡¹ç›®æ˜¯Stringç±»å‹</span></span><br><span class="line"><span class="keyword">var</span> stackOfStrings <span class="operator">=</span> <span class="type">Stack</span>&lt;<span class="type">String</span>&gt;()</span><br><span class="line">stackOfStrings.push(<span class="string">&quot;uno&quot;</span>)</span><br><span class="line">stackOfStrings.push(<span class="string">&quot;dos&quot;</span>)</span><br><span class="line">stackOfStrings.push(<span class="string">&quot;tres&quot;</span>)</span><br><span class="line">stackOfStrings.push(<span class="string">&quot;cuatro&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fromTheTop <span class="operator">=</span> stackOfStrings.pop()</span><br><span class="line"><span class="comment">// fromTheTop çš„å€¼ä¸º &quot;cuatro&quot;ï¼Œç°åœ¨æ ˆä¸­è¿˜æœ‰ 3 ä¸ªå­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨æ‰©å±•ç»™ä¸€ä¸ªæ³›å‹ç±»å‹æ·»åŠ æ–°åŠŸèƒ½</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Stack</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åŠ äº†ä¸€ä¸ªåä¸º topItem çš„åªè¯»è®¡ç®—å‹å±æ€§ï¼Œå®ƒå°†ä¼šè¿”å›å½“å‰æ ˆé¡¶ç«¯çš„å…ƒç´ è€Œä¸ä¼šå°†å…¶ä»æ ˆä¸­ç§»é™¤</span></span><br><span class="line">    <span class="keyword">var</span> topItem: <span class="type">Element</span>? &#123;</span><br><span class="line">        <span class="keyword">return</span> items.isEmpty <span class="operator">?</span> <span class="literal">nil</span> : items[items.count <span class="operator">-</span> <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ³›å‹çº¦æŸ"><a href="#æ³›å‹çº¦æŸ" class="headerlink" title="æ³›å‹çº¦æŸ"></a>æ³›å‹çº¦æŸ</h3><p>åœ¨å®šä¹‰æ³›å‹ç±»å‹æ—¶ï¼Œå¯ä»¥æŒ‡å®šè°ƒç”¨æ—¶çš„ç±»å‹å¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œè¿™è¢«ç§°ä¸ºæ³›å‹çº¦æŸã€‚</p>
<p>æ³›å‹çº¦æŸå¯ä»¥ä½¿å¾—ä»£ç å…·æœ‰çµæ´»æ€§çš„æƒ…å†µä¸‹ä¿è¯äº†ä»£ç çš„å¯é æ€§ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³›å‹çº¦æŸ å¯ä»¥æŒ‡å®šç±»å‹å¿…é¡»æ˜¯æŸä¸ªç±»çš„å®ä¾‹æˆ–éµå¾ªæŸä¸ªåè®®</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">someFunction</span>&lt;<span class="type">T</span>: <span class="type">SomeClass</span>, <span class="type">U</span>: <span class="type">SomeProtocol</span>&gt;(<span class="params">someT</span>: <span class="type">T</span>, <span class="params">someU</span>: <span class="type">U</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œæ˜¯æ³›å‹å‡½æ•°çš„å‡½æ•°ä½“éƒ¨åˆ†</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// findIndexæŸ¥æ‰¾ æ•°ç»„ä¸­å­˜åœ¨æŒ‡å®šçš„å€¼ã€‚</span></span><br><span class="line"><span class="comment">/* å› ä¸ºåœ¨å‡½æ•°å†…éƒ¨ ä½¿ç”¨ == ç¬¦å·æ¯”è¾ƒä¸¤ä¸ªç±»å‹çš„å€¼ï¼Œ</span></span><br><span class="line"><span class="comment">* è€ŒSwiftä¸­åªæœ‰éµå¾ªEquatableåè®®çš„ç±»å‹æ‰èƒ½ä½¿ç”¨ == ç¬¦å·ï¼Œå¦åˆ™ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findIndex</span>&lt;<span class="type">T</span>: <span class="type">Equatable</span>&gt;(<span class="params">of</span> <span class="params">valueToFind</span>: <span class="type">T</span>, <span class="params">in</span> <span class="params">array</span>:[<span class="type">T</span>])</span> -&gt; <span class="type">Int</span>? &#123;</span><br><span class="line">    <span class="keyword">for</span> (index, value) <span class="keyword">in</span> array.enumerated() &#123;</span><br><span class="line">        <span class="keyword">if</span> value <span class="operator">==</span> valueToFind &#123;</span><br><span class="line">            <span class="keyword">return</span> index</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> strings <span class="operator">=</span> [<span class="string">&quot;cat&quot;</span>, <span class="string">&quot;dog&quot;</span>, <span class="string">&quot;llama&quot;</span>, <span class="string">&quot;parakeet&quot;</span>, <span class="string">&quot;terrapin&quot;</span>]</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> foundIndex <span class="operator">=</span> findIndex(ofString: <span class="string">&quot;llama&quot;</span>, in: strings) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The index of llama is <span class="subst">\(foundIndex)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰“å° â€œThe index of llama is 2â€</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åªæœ‰ç±»å‹éµå¾ª Equatableåè®®ï¼ŒfindIndexæ–¹æ³•éƒ½å¯ä»¥è¢«è°ƒç”¨æˆåŠŸã€‚</span></span><br><span class="line"><span class="keyword">let</span> doubleIndex <span class="operator">=</span> findIndex(of: <span class="number">9.3</span>, in: [<span class="number">3.14159</span>, <span class="number">0.1</span>, <span class="number">0.25</span>])</span><br><span class="line"><span class="comment">// doubleIndex ç±»å‹ä¸º Int?ï¼Œå…¶å€¼ä¸º nilï¼Œå› ä¸º 9.3 ä¸åœ¨æ•°ç»„ä¸­</span></span><br><span class="line"><span class="keyword">let</span> stringIndex <span class="operator">=</span> findIndex(of: <span class="string">&quot;Andrea&quot;</span>, in: [<span class="string">&quot;Mike&quot;</span>, <span class="string">&quot;Malcolm&quot;</span>, <span class="string">&quot;Andrea&quot;</span>])</span><br><span class="line"><span class="comment">// stringIndex ç±»å‹ä¸º Int?ï¼Œå…¶å€¼ä¸º 2</span></span><br></pre></td></tr></table></figure>

<h3 id="å…³è”ç±»å‹"><a href="#å…³è”ç±»å‹" class="headerlink" title="å…³è”ç±»å‹"></a>å…³è”ç±»å‹</h3><p>åœ¨åè®®ä¸­ä¸ºæŸä¸ªç±»å‹æä¾›å ä½ç¬¦è¢«ç§°ä¸ºå…³è”ç±»å‹ã€‚éœ€è¦åœ¨åè®®ä¸­ä½¿ç”¨<code>associatedtype</code>å£°æ˜å ä½ç¬¦ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* ä»»ä½•éµå¾ª Containeråè®®çš„ç±»å‹å¿…é¡»æŒ‡å®šå…¶å­˜å‚¨çš„å…ƒç´ ç±»å‹ï¼Œå¹¶ä¿è¯åªæœ‰æ­£ç¡®çš„ç±»å‹æ‰èƒ½æ·»åŠ è¿›å®¹å™¨</span></span><br><span class="line"><span class="comment">* å¹¶ä¸”å¯ä»¥é€šè¿‡ä¸‹æ ‡è¿”å›ç±»å‹ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Container</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å£°æ˜å ä½ç¬¦ ItemType</span></span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">ItemType</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¿…é¡»å¯ä»¥é€šè¿‡ append(_:) æ–¹æ³•æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ åˆ°å®¹å™¨é‡Œ</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">append</span>(<span class="keyword">_</span> <span class="params">item</span>: <span class="type">ItemType</span>)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¿…é¡»å¯ä»¥é€šè¿‡ count å±æ€§è·å–å®¹å™¨ä¸­å…ƒç´ çš„æ•°é‡ï¼Œå¹¶è¿”å›ä¸€ä¸ª Int å€¼ã€‚</span></span><br><span class="line">    <span class="keyword">var</span> count: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¿…é¡»å¯ä»¥é€šè¿‡ç´¢å¼•å€¼ç±»å‹ä¸º Int çš„ä¸‹æ ‡æ£€ç´¢åˆ°å®¹å™¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="keyword">subscript</span>(<span class="params">i</span>: <span class="type">Int</span>)</span> -&gt; <span class="type">ItemType</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éµå¾ª Containeråè®®çš„Stack</span></span><br><span class="line"><span class="comment">// å› ä¸ºSwiftç±»å‹æ¨æ–­æœºåˆ¶ï¼Œä½ ä¸éœ€è¦é€šè¿‡ typealias å£°æ˜ ItemType ç±»å‹</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Stack</span>&lt;<span class="title">Element</span>&gt;: <span class="title">Container</span> </span>&#123; </span><br><span class="line">    <span class="comment">// Stack&lt;Element&gt; çš„åŸå§‹å®ç°éƒ¨åˆ†</span></span><br><span class="line">    <span class="keyword">var</span> items <span class="operator">=</span> [<span class="type">Element</span>]()</span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">push</span>(<span class="keyword">_</span> <span class="params">item</span>: <span class="type">Element</span>)</span> &#123;</span><br><span class="line">        items.append(item)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">pop</span>()</span> -&gt; <span class="type">Element</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> items.removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Container åè®®çš„å®ç°éƒ¨åˆ†</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">append</span>(<span class="keyword">_</span> <span class="params">item</span>: <span class="type">Element</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.push(item)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> count: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> items.count</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">subscript</span>(<span class="params">i</span>: <span class="type">Int</span>)</span> -&gt; <span class="type">Element</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> items[i]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ³›å‹whereè¯­å¥"><a href="#æ³›å‹whereè¯­å¥" class="headerlink" title="æ³›å‹whereè¯­å¥"></a>æ³›å‹whereè¯­å¥</h3><p>åŒè¿‡<code>where</code>å…³é”®å­—æ·»åŠ æ¡ä»¶ä»¥çº¦æŸç±»å‹åº”ç”¨åœºæ™¯ã€‚é€šè¿‡æ³›å‹çº¦æŸæœ‰æ—¶å¹¶ä¸èƒ½æ»¡è¶³ç±»å‹çš„å…¨éƒ¨çº¦æŸæ¡ä»¶ï¼Œé€šè¿‡<code>where</code>å¯ä»¥å®Œå–„çº¦æŸã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C1 å¿…é¡»ç¬¦åˆ Container åè®®ï¼ˆå†™ä½œ C1: Containerï¼‰</span></span><br><span class="line"><span class="comment">// C2 å¿…é¡»ç¬¦åˆ Container åè®®ï¼ˆå†™ä½œ C2: Containerï¼‰</span></span><br><span class="line"><span class="comment">// C1 çš„ ItemType å¿…é¡»å’Œ C2 çš„ ItemTypeç±»å‹ç›¸åŒï¼ˆå†™ä½œ C1.ItemType == C2.ItemType</span></span><br><span class="line"><span class="comment">// C1 çš„ ItemType å¿…é¡»ç¬¦åˆ Equatable åè®®ï¼ˆå†™ä½œ C1.ItemType: Equatableï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">allItemsMatch</span>&lt;<span class="type">C1</span>: <span class="type">Container</span>, <span class="type">C2</span>: <span class="type">Container</span>&gt; (<span class="keyword">_</span> <span class="params">someContainer</span>: <span class="type">C1</span>, <span class="keyword">_</span> <span class="params">anotherContainer</span>: <span class="type">C2</span>)</span> -&gt; <span class="type">Bool</span></span><br><span class="line">    <span class="keyword">where</span> <span class="type">C1</span>.<span class="type">ItemType</span> <span class="operator">==</span> <span class="type">C2</span>.<span class="type">ItemType</span>, <span class="type">C1</span>.<span class="type">ItemType</span>: <span class="type">Equatable</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥ä¸¤ä¸ªå®¹å™¨å«æœ‰ç›¸åŒæ•°é‡çš„å…ƒç´  æ¯”è¾ƒå¯¹è±¡å¿…é¡»éµå¾ª Equatable</span></span><br><span class="line">        <span class="keyword">if</span> someContainer.count <span class="operator">!=</span> anotherContainer.count &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥æ¯ä¸€å¯¹å…ƒç´ æ˜¯å¦ç›¸ç­‰</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>someContainer.count &#123;</span><br><span class="line">            <span class="keyword">if</span> someContainer[i] <span class="operator">!=</span> anotherContainer[i] &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰€æœ‰å…ƒç´ éƒ½åŒ¹é…ï¼Œè¿”å› true</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> stackOfStrings <span class="operator">=</span> <span class="type">Stack</span>&lt;<span class="type">String</span>&gt;()</span><br><span class="line">stackOfStrings.push(<span class="string">&quot;uno&quot;</span>)</span><br><span class="line">stackOfStrings.push(<span class="string">&quot;dos&quot;</span>)</span><br><span class="line">stackOfStrings.push(<span class="string">&quot;tres&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arrayOfStrings <span class="operator">=</span> [<span class="string">&quot;uno&quot;</span>, <span class="string">&quot;dos&quot;</span>, <span class="string">&quot;tres&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> allItemsMatch(stackOfStrings, arrayOfStrings) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;All items match.&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Not all items match.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰“å° â€œAll items match.â€</span></span><br></pre></td></tr></table></figure>

<p><code>where</code>è¿˜å¯ä»¥åº”ç”¨äºæ‰©å±•ä¸­</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å› ä¸º åœ¨æ‰©å±•çš„æ–¹æ³•å†…ä½¿ç”¨çš„ == ç¬¦åˆï¼Œç€æ³›å‹ç±»å‹å¿…é¡»éµå¾ª Equatable</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Stack</span> <span class="title">where</span> <span class="title">Element</span>: <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">isTop</span>(<span class="keyword">_</span> <span class="params">item</span>: <span class="type">Element</span>)</span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> topItem <span class="operator">=</span> items.last <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> topItem <span class="operator">==</span> item</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="è‡ªåŠ¨å¼•ç”¨è®¡æ•°"><a href="#è‡ªåŠ¨å¼•ç”¨è®¡æ•°" class="headerlink" title="è‡ªåŠ¨å¼•ç”¨è®¡æ•°"></a>è‡ªåŠ¨å¼•ç”¨è®¡æ•°</h2><p>Swiftå’ŒJava,JavaScriptä¸€æ ·æ— éœ€æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ï¼Œå®ƒä¼šè‡ªåŠ¨é‡Šæ”¾ä¸ä¼šè¢«ä½¿ç”¨çš„å†…å­˜ã€‚<em>è‡ªåŠ¨å¼•ç”¨è®¡æ•°</em>(ARC)è¢«ç”¨æ¥è·Ÿç€å’Œç®¡ç†ç±»å®ä¾‹çš„å†…å­˜çŠ¶æ€ï¼Œå€¼ç±»å‹çš„æ•°æ®å†…å­˜ä¸ä¼šè¢«ARCç®¡ç†ã€‚</p>
<p>å¯¹äºä¸€ä¸ªå¼•ç”¨ç±»å‹çš„ç±»å®ä¾‹ï¼ŒARCä¼šç»Ÿè®¡è¿™ä¸ªå®ä¾‹è¢«å…¶å®ƒå®ä¾‹æˆ–å˜é‡å¼•ç”¨çš„æ¬¡æ•°ï¼Œå½“å‘ç°è¿™ä¸ªå®ä¾‹å¼•ç”¨æ¬¡æ•°ä¸º0æ—¶ï¼Œåˆ™è¡¨ç¤ºå®ƒä¸ä¼šè¢«ä½¿ç”¨äº†ï¼Œæœ€åä¼šè¢«ç³»ç»Ÿé‡Šæ”¾æ‰ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªç±»Person</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(name)</span> is being initialized&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">deinit</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(name)</span> is being deinitialized&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸‰ä¸ªå¯é€‰é¡¹ Personç±»å‹çš„å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> reference1: <span class="type">Person</span>?</span><br><span class="line"><span class="keyword">var</span> reference2: <span class="type">Person</span>?</span><br><span class="line"><span class="keyword">var</span> reference3: <span class="type">Person</span>?</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ä¾‹è¯ Person è¿™æ—¶è¿™ä¸ªå®åŠ›å¼•ç”¨è®¡æ•°ä¸º1</span></span><br><span class="line">reference1 <span class="operator">=</span> <span class="type">Person</span>(name: <span class="string">&quot;John Appleseed&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° &quot;John Appleseed is being initialized&quot;</span></span><br><span class="line"></span><br><span class="line">reference2 <span class="operator">=</span> reference1 <span class="comment">// å†æ¬¡è¢«å¼•ç”¨ï¼Œè¯¥å®ä¾‹å¼•ç”¨è®¡æ•°ä¸º2</span></span><br><span class="line">reference3 <span class="operator">=</span> reference1 <span class="comment">// å†æ¬¡è¢«å¼•ç”¨ï¼Œè¯¥å®ä¾‹å¼•ç”¨è®¡æ•°ä¸º3</span></span><br><span class="line"></span><br><span class="line">reference1 <span class="operator">=</span> <span class="literal">nil</span> <span class="comment">// è§£é™¤ä¸€ä¸ªå¼•ç”¨å…³ç³»ï¼Œè¿™æ—¶å¼•ç”¨è®¡ç®—ä¸º2</span></span><br><span class="line">reference2 <span class="operator">=</span> <span class="literal">nil</span> <span class="comment">// è§£é™¤ä¸€ä¸ªå¼•ç”¨å…³ç³»ï¼Œè¿™æ—¶å¼•ç”¨è®¡ç®—ä¸º1</span></span><br><span class="line"></span><br><span class="line">reference3 <span class="operator">=</span> <span class="literal">nil</span> <span class="comment">// // è§£é™¤ä¸€ä¸ªå¼•ç”¨å…³ç³»ï¼Œè¿™æ—¶å¼•ç”¨è®¡ç®—ä¸º0ã€‚é‡Šæ”¾å®ä¾‹å†…å­˜ï¼Œè§¦å‘ææ„å‡½æ•°</span></span><br><span class="line"><span class="comment">// æ‰“å° &quot;John Appleseed is being deinitialized&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="å¼ºå¼•ç”¨"><a href="#å¼ºå¼•ç”¨" class="headerlink" title="å¼ºå¼•ç”¨"></a>å¼ºå¼•ç”¨</h3><p>åœ¨å®é™…ä»£ç ä¸­ï¼Œä¸¤ä¸ªå®ä¾‹ä¹‹é—´æˆ–å®ä¾‹å’Œé—­åŒ…ä¹‹é—´äº§ç”Ÿå¾ªç¯å¼•ç”¨æƒ…å†µï¼Œè¿™ç§å¼•ç”¨è¢«ç§°ä¸ºå¼ºå¼•ç”¨ï¼Œå¿…é¡»é€šè¿‡æŒ‡æ˜å®ƒä»¬ä¹‹é—´çš„å¼•ç”¨å…³ç³»æ‰èƒ½ä½¿å¾—ARCå‡†ç¡®çš„ç»Ÿè®¡å¼•ç”¨è®¡æ•°é‡Šæ”¾å†…å­˜ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* å®šä¹‰ä¸¤ä¸ªç±»å‹ï¼ŒPersonå’Œ Apartmentã€‚è¿™ä¸¤ä¸ªç±»å‹å†…éƒ¨çš„å±æ€§ä¼šäº’ç›¸å¼•ç”¨ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>)</span> &#123; <span class="keyword">self</span>.name <span class="operator">=</span> name &#125;</span><br><span class="line">    <span class="keyword">var</span> apartment: <span class="type">Apartment</span>? <span class="comment">// å¼•ç”¨ Apartment å®ä¾‹</span></span><br><span class="line">    <span class="keyword">deinit</span> &#123; <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(name)</span> is being deinitialized&quot;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Apartment</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> unit: <span class="type">String</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">unit</span>: <span class="type">String</span>)</span> &#123; <span class="keyword">self</span>.unit <span class="operator">=</span> unit &#125;</span><br><span class="line">    <span class="keyword">var</span> tenant: <span class="type">Person</span>? <span class="comment">// å¼•ç”¨ Person</span></span><br><span class="line">    <span class="keyword">deinit</span> &#123; <span class="built_in">print</span>(<span class="string">&quot;Apartment <span class="subst">\(unit)</span> is being deinitialized&quot;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> john: <span class="type">Person</span>? <span class="comment">// Personç±»å‹å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> unit4A: <span class="type">Apartment</span>? <span class="comment">// Apartmentç±»å‹å˜é‡</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">john <span class="operator">=</span> <span class="type">Person</span>(name: <span class="string">&quot;John Appleseed&quot;</span>)</span><br><span class="line">unit4A <span class="operator">=</span> <span class="type">Apartment</span>(unit: <span class="string">&quot;4A&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä¾‹å­ï¼Œä¸¤ä¸ªå®ä¾‹è¿˜æ²¡æœ‰äº§ç”Ÿå¾ªç¯å¼•ç”¨ã€‚ARCå…³ç³»å¦‚ä¸‹å›¾ã€‚</p>
<p><img src="https://docs.swift.org/swift-book/_images/referenceCycle01_2x.png"></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">john<span class="operator">!</span>.apartment <span class="operator">=</span> unit4A <span class="comment">// johnå†…éƒ¨å±æ€§ apartment å¼•ç”¨äº† unit4A</span></span><br><span class="line">unit4A<span class="operator">!</span>.tenant <span class="operator">=</span> john <span class="comment">// unit4Aå†…éƒ¨å±æ€§ tenant å¼•ç”¨äº† john</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä½¿å¾—ä¸¤ä¸ªå®ä¾‹ä¹‹é—´äº§ç”Ÿäº†å¾ªç¯å¼ºå¼•ç”¨ã€‚ARCå…³ç³»å¦‚ä¸‹å›¾ã€‚</p>
<p><img src="https://docs.swift.org/swift-book/_images/referenceCycle02_2x.png"></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†Apartmentã€Personå®ä¾‹å˜é‡è®¾ç½®ä¸ºnilï¼Œè¡¨ç¤ºè¯¥å˜é‡å¼•ç”¨çš„å®ä¾‹ä¸åœ¨éœ€è¦</span></span><br><span class="line">john <span class="operator">=</span> <span class="literal">nil</span> </span><br><span class="line">unit4A <span class="operator">=</span> <span class="literal">nil</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç è¡¨ç¤º<code>Apartment</code>ã€<code>Person</code>å®ä¾‹ä¸åœ¨éœ€è¦ï¼Œå†…å­˜å¯ä»¥è¢«é‡Šæ”¾ã€‚ä½†å®é™…ä¸ŠARCå¹¶ä¸ä¼šé‡Šæ”¾è¿™ä¸¤ä¸ªå®ä¾‹çš„å†…å­˜ï¼Œå› ä¸º<code>Apartment</code>ã€<code>Person</code>å¼•ç”¨è®¡æ•°ä¸ä¸º0ã€‚</p>
<p><img src="https://docs.swift.org/swift-book/_images/referenceCycle03_2x.png"></p>
<p>å¦‚ä¸Šå›¾å±•ç¤ºçš„ï¼Œä¸¤ä¸ªå®ä¾‹å†…éƒ¨å±æ€§çš„å¾ªç¯å¼•ç”¨å¯¼è‡´å¼•ç”¨è®¡æ•°ä¸ä¸º0ã€‚</p>
<h3 id="å¼±å¼•ç”¨ï¼ˆweakï¼‰å’Œ-æ— ä¸»å¼•ç”¨ï¼ˆunownedï¼‰"><a href="#å¼±å¼•ç”¨ï¼ˆweakï¼‰å’Œ-æ— ä¸»å¼•ç”¨ï¼ˆunownedï¼‰" class="headerlink" title="å¼±å¼•ç”¨ï¼ˆweakï¼‰å’Œ æ— ä¸»å¼•ç”¨ï¼ˆunownedï¼‰"></a>å¼±å¼•ç”¨ï¼ˆweakï¼‰å’Œ æ— ä¸»å¼•ç”¨ï¼ˆunownedï¼‰</h3><p>å¯ä»¥ç”¨ <em>å¼±å¼•ç”¨</em> å’Œ <em>æ— ä¸»å¼•ç”¨</em> è¿™ä¸¤ä¸ªæ–¹å¼æ¥è¯´æ˜å¾ªç¯å¼•ç”¨ä¹‹é—´çš„å…³ç³»ã€‚è¿™æ ·ARCèƒ½å¤ŸçŸ¥é“å®ä¾‹å†…å­˜åœ¨ä»€ä¹ˆæ—¶å€™å¯ä»¥ è¢«é‡Šæ”¾ã€‚</p>
<ul>
<li>å¼±å¼•ç”¨ï¼ˆweakï¼‰ï¼šç”¨<code>weak</code>å…³é”®å­—å£°æ˜å¯é€‰å‹çš„<code>var</code>å˜é‡ï¼Œè¯¥å˜é‡å¼•ç”¨çš„å®ä¾‹è¢«è®¾ä¸ºnilæ—¶ï¼Œè¯¥å˜é‡ä¹Ÿä¼šè¢«è®¾ç½®ä¸ºnilã€‚ä»¥åˆ‡æ–­å…¶ä¸å®ä¾‹çš„å¼•ç”¨å…³ç³»ã€‚</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>)</span> &#123; <span class="keyword">self</span>.name <span class="operator">=</span> name &#125;</span><br><span class="line">    <span class="keyword">var</span> apartment: <span class="type">Apartment</span>?</span><br><span class="line">    <span class="keyword">deinit</span> &#123; <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(name)</span> is being deinitialized&quot;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Apartment</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> unit: <span class="type">String</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">unit</span>: <span class="type">String</span>)</span> &#123; <span class="keyword">self</span>.unit <span class="operator">=</span> unit &#125;</span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> tenant: <span class="type">Person</span>? <span class="comment">// å¼±å¼•ç”¨ ä¿®é¥°çš„åº”è¯¥æ˜¯å¯é€‰çš„å˜é‡</span></span><br><span class="line">    <span class="keyword">deinit</span> &#123; <span class="built_in">print</span>(<span class="string">&quot;Apartment <span class="subst">\(unit)</span> is being deinitialized&quot;</span>) &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å»ºç«‹å¼ºå¼•ç”¨ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> john: <span class="type">Person</span>?</span><br><span class="line"><span class="keyword">var</span> unit4A: <span class="type">Apartment</span>?</span><br><span class="line"></span><br><span class="line">john <span class="operator">=</span> <span class="type">Person</span>(name: <span class="string">&quot;John Appleseed&quot;</span>)</span><br><span class="line">unit4A <span class="operator">=</span> <span class="type">Apartment</span>(unit: <span class="string">&quot;4A&quot;</span>)</span><br><span class="line"></span><br><span class="line">john<span class="operator">!</span>.apartment <span class="operator">=</span> unit4A</span><br><span class="line">unit4A<span class="operator">!</span>.tenant <span class="operator">=</span> john</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶å˜é‡<code>john</code>å’Œ<code>unit4A</code>çš„å…³ä¸‹å›¾ï¼š</p>
<p><img src="https://docs.swift.org/swift-book/_images/weakReference01_2x.png"></p>
<p><code>tenant</code>å˜é‡æ˜¯å¼±å¼•ç”¨ï¼Œå®ƒä¸ä¼šé˜»æ­¢<code>john</code>å®ä¾‹å†…å­˜è¢«é‡Šæ”¾ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">john <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line"><span class="comment">// æ‰“å° &quot;John Appleseed is being deinitialized&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://docs.swift.org/swift-book/_images/weakReference02_2x.png"></p>
<ul>
<li>æ— ä¸»å¼•ç”¨ï¼ˆunownedï¼‰ï¼šå’Œå¼±å¼•ç”¨ä¸åŒçš„æ˜¯ï¼Œæ— ä¸»å¼•ç”¨å˜é‡å¿…é¡»æœ‰å€¼å¹¶ä¸”å…·æœ‰æ— ä¸»å¼•ç”¨çš„å®ä¾‹å¿…é¡»æ¯”æ— ä¸»å¼•ç”¨çš„å®ä¾‹ç”Ÿå‘½å‘¨æœŸé•¿æˆ–ç›¸åŒã€‚</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> card: <span class="type">CreditCard</span>?</span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">deinit</span> &#123; <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(name)</span> is being deinitialized&quot;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CreditCardå®ä¾‹ å±æ€§customerå¿…é¡»æ‹¥æœ‰ä¸€ä¸ªå®ä¾‹ æ‰€ä»¥å¯ä»¥è®¾ç½®ä¸ºå¸¸é‡</span></span><br><span class="line"><span class="comment">// è€Œ Customerå®ä¾‹ç”Ÿå‘½å‘¨æœŸå’Œ CreditCard åº”è¯¥ç›¸åŒæˆ–æ›´çŸ­</span></span><br><span class="line"><span class="comment">// æ‰€ä»¥ å¯ä»¥ç”¨ unownedä¿®é¥° customer</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreditCard</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> number: <span class="type">UInt64</span></span><br><span class="line">    <span class="keyword">unowned</span> <span class="keyword">let</span> customer: <span class="type">Customer</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">number</span>: <span class="type">UInt64</span>, <span class="params">customer</span>: <span class="type">Customer</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.number <span class="operator">=</span> number</span><br><span class="line">        <span class="keyword">self</span>.customer <span class="operator">=</span> customer</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">deinit</span> &#123; <span class="built_in">print</span>(<span class="string">&quot;Card #<span class="subst">\(number)</span> is being deinitialized&quot;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> john: <span class="type">Customer</span>?</span><br><span class="line">john <span class="operator">=</span> <span class="type">Customer</span>(name: <span class="string">&quot;John Appleseed&quot;</span>)</span><br><span class="line">john<span class="operator">!</span>.card <span class="operator">=</span> <span class="type">CreditCard</span>(number: <span class="number">1234_5678_9012_3456</span>, customer: john<span class="operator">!</span>)</span><br></pre></td></tr></table></figure>

<p>å®ä¾‹<code>Customer</code>å’Œ<code>CreditCard</code>å¼•ç”¨å…³ç³»ï¼š</p>
<p><img src="https://docs.swift.org/swift-book/_images/unownedReference01_2x.png"></p>
<p><code>Customer</code>æŒæœ‰å¯¹<code>CreditCard</code>å¼ºå¼•ç”¨ï¼Œè€Œ<code>CreditCard</code>æŒæœ‰<code>Cunstomer</code>çš„æ— ä¸»å¼•ç”¨ã€‚å½“<code>John</code>å˜é‡ä¸åœ¨å¼•ç”¨ <code>Customer</code>å®ä¾‹ï¼ŒARCä¼šå°†<code>Customer</code>å®ä¾‹å†…å­˜é‡Šæ”¾æ‰ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">john <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line"><span class="comment">// æ‰“å° &quot;John Appleseed is being deinitialized&quot;</span></span><br><span class="line"><span class="comment">// æ‰“å° &quot;Card #1234567890123456 is being deinitialized&quot;</span></span><br></pre></td></tr></table></figure>

<p>ç”±äºå†ä¹Ÿæ²¡æœ‰æŒ‡å‘<code>Customer</code>å®ä¾‹çš„å¼ºå¼•ç”¨ï¼Œè¯¥å®ä¾‹å°†é”€æ¯äº†ã€‚</p>
<p><img src="https://docs.swift.org/swift-book/_images/unownedReference02_2x.png"></p>
<h3 id="é—­åŒ…çš„å¼ºå¼•ç”¨"><a href="#é—­åŒ…çš„å¼ºå¼•ç”¨" class="headerlink" title="é—­åŒ…çš„å¼ºå¼•ç”¨"></a>é—­åŒ…çš„å¼ºå¼•ç”¨</h3><p>é—­åŒ…ä¹Ÿæ˜¯å¼•ç”¨ç±»å‹ï¼Œå¦‚æœä¸€ä¸ªç±»å®ä¾‹æœ‰å±æ€§è¢«èµ‹å€¼ç»™é—­åŒ…ï¼Œè€Œé—­åŒ…ä½¿ç”¨äº†è¯¥ç±»å®ä¾‹å…¶ä»–å±æ€§ã€‚è¿™æ ·é—­åŒ…å’Œè¯¥ç±»å®ä¾‹å°±äº§ç”Ÿäº†å¼ºå¼•ç”¨ã€‚å³ä½¿è¯¥ç±»å®ä¾‹è¢«èµ‹å€¼<code>nil</code>ï¼Œè¯¥å®ä¾‹å†…å­˜ä¹Ÿä¸ä¼šé‡Šæ”¾ã€‚</p>
<p>Swiftæä¾›äº†å®šä¹‰æ•è·åˆ—è¡¨ç”¨äºè§£å†³é—­åŒ…å¼ºå¼•ç”¨ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HTMLElement</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> text: <span class="type">String</span>?</span><br><span class="line"></span><br><span class="line">    <span class="keyword">lazy</span> <span class="keyword">var</span> asHTML: (<span class="type">Void</span>) -&gt; <span class="type">String</span> <span class="operator">=</span> &#123;</span><br><span class="line">        <span class="comment">// å› ä¸º å¼•ç”¨çš„å®ä¾‹å’Œé—­åŒ…ç”Ÿå‘½å‘¨æœŸç›¸åŒï¼Œæ‰€ä»¥ç”¨ unownedä¿®é¥° self</span></span><br><span class="line">        [<span class="keyword">unowned</span> <span class="keyword">self</span>] <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> text <span class="operator">=</span> <span class="keyword">self</span>.text &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&lt;<span class="subst">\(<span class="keyword">self</span>.name)</span>&gt;<span class="subst">\(text)</span>&lt;/<span class="subst">\(<span class="keyword">self</span>.name)</span>&gt;&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&lt;<span class="subst">\(<span class="keyword">self</span>.name)</span> /&gt;&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>, <span class="params">text</span>: <span class="type">String</span>? <span class="operator">=</span> <span class="literal">nil</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">        <span class="keyword">self</span>.text <span class="operator">=</span> text</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">deinit</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(name)</span> is being deinitialized&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> paragraph: <span class="type">HTMLElement</span>? <span class="operator">=</span> <span class="type">HTMLElement</span>(name: <span class="string">&quot;p&quot;</span>, text: <span class="string">&quot;hello, world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(paragraph<span class="operator">!</span>.asHTML())</span><br><span class="line"><span class="comment">// æ‰“å° &quot;&lt;p&gt;hello, world&lt;/p&gt;&quot;</span></span><br><span class="line"></span><br><span class="line">paragraph <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line"><span class="comment">// æ‰“å° &quot;p is being deinitialized&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><p>åœ¨è¿è¡Œæ—¶è¿‡ç¨‹ä¸­ï¼Œä»£ç å¯èƒ½å› ä¸ºä¸å¯é¢„çŸ¥é—®é¢˜å¯¼è‡´æ€ä¹ˆç³»ç»Ÿå¥”æºƒã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡æ˜ï¼ˆthrowsï¼‰ä»£ç ä¸­å¯èƒ½å‘ç”Ÿé”™è¯¯ï¼Œåœ¨ä»£ç ä¸­æŠ›å‡ºï¼ˆthrowï¼‰é”™è¯¯ï¼Œå¹¶æ•è·ï¼ˆdo-catchï¼‰å‘ç”Ÿé”™è¯¯åå¤„ç†æ–¹å¼ä»¥é¿å…ç³»ç»Ÿå¥”æºƒã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* æ ¹æ®ä¸šåŠ¡æƒ…å†µï¼Œå…ˆç”¨æšä¸¾å®šä¹‰å¥½å¯èƒ½å‘ç”Ÿé”™è¯¯ç§ç±»ã€‚</span></span><br><span class="line"><span class="comment">* è¯¥æšä¸¾éœ€è¦éµå¾ªErroråè®®ï¼Œä»¥è¡¨æ˜è¯¥ç±»å‹å¯ä»¥è¢«ç”¨äºé”™è¯¯å¤„ç†</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">VendingMachineError</span>: <span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> invalidSelection                     <span class="comment">//é€‰æ‹©æ— æ•ˆ</span></span><br><span class="line">    <span class="keyword">case</span> insufficientFunds(coinsNeeded: <span class="type">Int</span>) <span class="comment">//é‡‘é¢ä¸è¶³</span></span><br><span class="line">    <span class="keyword">case</span> outOfStock                             <span class="comment">//ç¼ºè´§</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Item</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> price: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> count: <span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VendingMachine</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> inventory <span class="operator">=</span> [</span><br><span class="line">        <span class="string">&quot;Candy Bar&quot;</span>: <span class="type">Item</span>(price: <span class="number">12</span>, count: <span class="number">7</span>),</span><br><span class="line">        <span class="string">&quot;Chips&quot;</span>: <span class="type">Item</span>(price: <span class="number">10</span>, count: <span class="number">4</span>),</span><br><span class="line">        <span class="string">&quot;Pretzels&quot;</span>: <span class="type">Item</span>(price: <span class="number">7</span>, count: <span class="number">11</span>)</span><br><span class="line">    ]</span><br><span class="line">    <span class="keyword">var</span> coinsDeposited <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">dispenseSnack</span>(<span class="params">snack</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Dispensing <span class="subst">\(snack)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// ç”¨throwså£°æ˜è¯¥æ–¹æ³•å¯èƒ½æŠ›å‡ºé”™è¯¯ </span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">vend</span>(<span class="params">itemNamed</span> <span class="params">name</span>: <span class="type">String</span>)</span> <span class="keyword">throws</span> &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœ inventoryä¸åŒ…å« nameæŒ‡å®šæ•°æ®ï¼Œåˆ™æŠ›å‡ºé”™è¯¯</span></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> item <span class="operator">=</span> inventory[name] <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="type">VendingMachineError</span>.invalidSelection</span><br><span class="line">        &#125;</span><br><span class="line">		<span class="comment">// å¦‚æœ itemé•¿åº¦ä¸º0ï¼Œåˆ™æŠ›å‡ºé”™è¯¯</span></span><br><span class="line">        <span class="keyword">guard</span> item.count <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="type">VendingMachineError</span>.outOfStock</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">guard</span> item.price <span class="operator">&lt;=</span> coinsDeposited <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="type">VendingMachineError</span>.insufficientFunds(coinsNeeded: item.price <span class="operator">-</span> coinsDeposited)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        coinsDeposited <span class="operator">-=</span> item.price</span><br><span class="line">     	<span class="keyword">var</span> newItem <span class="operator">=</span> item</span><br><span class="line">        newItem.count <span class="operator">-=</span> <span class="number">1</span></span><br><span class="line">        inventory[name] <span class="operator">=</span> newItem</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Dispensing <span class="subst">\(name)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> favoriteSnacks <span class="operator">=</span> [</span><br><span class="line">    <span class="string">&quot;Alice&quot;</span>: <span class="string">&quot;Chips&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Bob&quot;</span>: <span class="string">&quot;Licorice&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Eve&quot;</span>: <span class="string">&quot;Pretzels&quot;</span>,</span><br><span class="line">]</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">buyFavoriteSnack</span>(<span class="params">person</span>: <span class="type">String</span>, <span class="params">vendingMachine</span>: <span class="type">VendingMachine</span>)</span> <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> snackName <span class="operator">=</span> favoriteSnacks[person] <span class="operator">??</span> <span class="string">&quot;Candy Bar&quot;</span></span><br><span class="line">    <span class="comment">// åœ¨å¯èƒ½æŠ›å‡ºé”™è¯¯çš„æ–¹æ³•å‰éœ€è¦ ä½¿ç”¨tryå£°æ˜</span></span><br><span class="line">    <span class="keyword">try</span> vendingMachine.vend(itemNamed: snackName)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vendingMachine <span class="operator">=</span> <span class="type">VendingMachine</span>()</span><br><span class="line">vendingMachine.coinsDeposited <span class="operator">=</span> <span class="number">8</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* é€šè¿‡ do-catchæ•è·é”™è¯¯</span></span><br><span class="line"><span class="comment">* å¹¶æ ¹æ®æŠ›å‡ºé”™è¯¯çš„ç±»å‹è¿›è¡Œå¤„ç†</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> buyFavoriteSnack(person: <span class="string">&quot;Alice&quot;</span>, vendingMachine: vendingMachine)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="type">VendingMachineError</span>.invalidSelection &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Invalid Selection.&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="type">VendingMachineError</span>.outOfStock &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Out of Stock.&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="type">VendingMachineError</span>.insufficientFunds(<span class="keyword">let</span> coinsNeeded) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Insufficient funds. Please insert an additional <span class="subst">\(coinsNeeded)</span> coins.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰“å° â€œInsufficient funds. Please insert an additional 2 coins.â€</span></span><br></pre></td></tr></table></figure>

<p><code>throws</code>å¯ä»¥ç”¨äºæ–¹æ³•ã€å‡½æ•°ã€æ„é€ å™¨ã€‚å¦‚æœæœ‰è¿”å›å€¼ï¼Œ<code>throws</code>åº”æ”¾åœ¨ç®­å¤´ç¬¦å·(-&gt;)å‰é¢ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">canThrowErrors</span>()</span> <span class="keyword">throws</span> -&gt; <span class="type">String</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">cannotThrowErrors</span>()</span> -&gt; <span class="type">String</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>try?</code>é€šè¿‡å°†é”™è¯¯è½¬æ¢æˆä¸€ä¸ªå¯é€‰å€¼æ¥å¤„ç†é”™è¯¯ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">someThrowingFunction</span>()</span> <span class="keyword">throws</span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¦‚æœ someThrowingFunction æŠ›å‡ºé”™è¯¯ï¼Œåˆ™xã€yå°†æ˜¯nilã€‚å¦åˆ™å°†æ˜¯æ–¹æ³•çš„è¿”å›å€¼ã€‚</span></span><br><span class="line"><span class="keyword">let</span> x <span class="operator">=</span> <span class="keyword">try?</span> someThrowingFunction()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> y: <span class="type">Int</span>?</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    y <span class="operator">=</span> <span class="keyword">try</span> someThrowingFunction()</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    y <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ ä½ ç¡®å®šæŸä¸ªå¯æŠ›å‡ºé”™è¯¯çš„æ–¹æ³•ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>try!</code>å£°æ˜å®ƒã€‚</p>
<h3 id="æŒ‡å®šæ¸…ç†æ“ä½œ-defer"><a href="#æŒ‡å®šæ¸…ç†æ“ä½œ-defer" class="headerlink" title="æŒ‡å®šæ¸…ç†æ“ä½œ defer"></a>æŒ‡å®šæ¸…ç†æ“ä½œ defer</h3><p>æˆ‘ä»¬ä¼šç”¨<code>break</code>ã€<code>return</code>æå‰é€€å‡ºå½“å‰ä½œç”¨åŸŸï¼Œæˆ–æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚å¦‚æœä¸€äº›æ“ä½œéœ€è¦åœ¨é€€å‡ºè¯¥ä½œç”¨åŸŸå‰è¢«æ‰§è¡Œï¼Œå¯ä»¥å°†å®ƒä»¬æ”¾åœ¨<code>defer</code>è¯­å¥ä¸­ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">processFile</span>(<span class="params">filename</span>: <span class="type">String</span>)</span> <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> exists(filename) &#123;</span><br><span class="line">        <span class="keyword">let</span> file <span class="operator">=</span> <span class="keyword">open</span>(filename)</span><br><span class="line">        <span class="comment">// å¦‚æœæœ‰å¼‚å¸¸é€€å‡ºè¯¥ä½œç”¨åŸŸï¼Œåˆ™åœ¨é€€å‡ºä¹‹å‰æ‰§è¡Œ deferå†…çš„æ“ä½œ</span></span><br><span class="line">        <span class="keyword">defer</span> &#123;</span><br><span class="line">            close(file)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">let</span> line <span class="operator">=</span> <span class="keyword">try</span> file.readline() &#123;</span><br><span class="line">            <span class="comment">// å¤„ç†æ–‡ä»¶ã€‚</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// close(file) ä¼šåœ¨è¿™é‡Œè¢«è°ƒç”¨ï¼Œå³ä½œç”¨åŸŸçš„æœ€åã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸€ä¸ªä½œç”¨åŸŸæœ‰å¤šä¸ª<code>defer</code>è¯­å¥ï¼Œåˆ™<code>defer</code>æŒ‰å£°æ˜å€’åºä¸€æ¬¡æ‰§è¡Œã€‚æœ€åå£°æ˜çš„<code>defer</code>è¯­å¥å…ˆæ‰§è¡Œã€‚</p>
<h2 id="ç±»å‹åˆ¤æ–­ï¼ˆisï¼‰å’Œè½¬æ¢ï¼ˆasï¼‰"><a href="#ç±»å‹åˆ¤æ–­ï¼ˆisï¼‰å’Œè½¬æ¢ï¼ˆasï¼‰" class="headerlink" title="ç±»å‹åˆ¤æ–­ï¼ˆisï¼‰å’Œè½¬æ¢ï¼ˆasï¼‰"></a>ç±»å‹åˆ¤æ–­ï¼ˆisï¼‰å’Œè½¬æ¢ï¼ˆasï¼‰</h2><p>é€šè¿‡<code>is</code>æ“ä½œç¬¦å¯ä»¥åˆ¤æ–­æ“ä½œç¬¦å·¦è¾¹çš„å®ä¾‹ç±»å‹æ˜¯å¦å±äºæ“ä½œç¬¦å³è¾¹çš„ç±»å‹,å¦‚æœæ˜¯è¿”å›<code>true</code>å¦åˆ™è¿”å›<code>false</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span> (<span class="keyword">_</span> <span class="params">name</span>:<span class="type">String</span>,<span class="keyword">_</span> <span class="params">age</span>:<span class="type">Int</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">        <span class="keyword">self</span>.age <span class="operator">=</span> age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> echo <span class="operator">=</span> <span class="type">Person</span>(<span class="string">&quot;Echo&quot;</span>,<span class="number">28</span>);</span><br><span class="line"><span class="built_in">print</span>(echo <span class="keyword">is</span> <span class="type">Person</span>)</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸€ä¸ªå®ä¾‹å±äºä¸€ä¸ªå­ç±»å‹ï¼Œé€šè¿‡<code>as</code>æ“ä½œç¬¦å¯ä»¥å°†å®ƒè½¬æ¢æˆè¯¥ç±»å‹ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MediaItem</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Movie</span>: <span class="title">MediaItem</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> director: <span class="type">String</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>, <span class="params">director</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.director <span class="operator">=</span> director</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦ä¸€ä¸ªå­ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Song</span>: <span class="title">MediaItem</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> artist: <span class="type">String</span></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>, <span class="params">artist</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.artist <span class="operator">=</span> artist</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> library <span class="operator">=</span> [</span><br><span class="line">    <span class="type">Movie</span>(name: <span class="string">&quot;Casablanca&quot;</span>, director: <span class="string">&quot;Michael Curtiz&quot;</span>),</span><br><span class="line">    <span class="type">Song</span>(name: <span class="string">&quot;Blue Suede Shoes&quot;</span>, artist: <span class="string">&quot;Elvis Presley&quot;</span>),</span><br><span class="line">    <span class="type">Movie</span>(name: <span class="string">&quot;Citizen Kane&quot;</span>, director: <span class="string">&quot;Orson Welles&quot;</span>),</span><br><span class="line">    <span class="type">Song</span>(name: <span class="string">&quot;The One And Only&quot;</span>, artist: <span class="string">&quot;Chesney Hawkes&quot;</span>),</span><br><span class="line">    <span class="type">Song</span>(name: <span class="string">&quot;Never Gonna Give You Up&quot;</span>, artist: <span class="string">&quot;Rick Astley&quot;</span>)</span><br><span class="line">]</span><br><span class="line"><span class="comment">// æ•°ç»„ library çš„ç±»å‹è¢«æ¨æ–­ä¸º [MediaItem]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> movieCount <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> songCount <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> library &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­å®ä¾‹ç±»å‹æ˜¯å¦å±äº Movie æˆ– Song</span></span><br><span class="line">    <span class="keyword">if</span> item <span class="keyword">is</span> <span class="type">Movie</span> &#123;</span><br><span class="line">        movieCount <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> item <span class="keyword">is</span> <span class="type">Song</span> &#123;</span><br><span class="line">        songCount <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Media library contains <span class="subst">\(movieCount)</span> movies and <span class="subst">\(songCount)</span> songs&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å° â€œMedia library contains 2 movies and 3 songsâ€</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> library &#123;</span><br><span class="line">    <span class="comment">// è¿›è¡Œç±»å‹è½¬æ¢ as? è¿”å›ä¸€ä¸ªå¯é€‰å‹</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> movie <span class="operator">=</span> item <span class="keyword">as?</span> <span class="type">Movie</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Movie: &#x27;<span class="subst">\(movie.name)</span>&#x27;, dir. <span class="subst">\(movie.director)</span>&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> <span class="keyword">let</span> song <span class="operator">=</span> item <span class="keyword">as?</span> <span class="type">Song</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Song: &#x27;<span class="subst">\(song.name)</span>&#x27;, by <span class="subst">\(song.artist)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Movie: &#x27;Casablanca&#x27;, dir. Michael Curtiz</span></span><br><span class="line"><span class="comment">// Song: &#x27;Blue Suede Shoes&#x27;, by Elvis Presley</span></span><br><span class="line"><span class="comment">// Movie: &#x27;Citizen Kane&#x27;, dir. Orson Welles</span></span><br><span class="line"><span class="comment">// Song: &#x27;The One And Only&#x27;, by Chesney Hawkes</span></span><br><span class="line"><span class="comment">// Song: &#x27;Never Gonna Give You Up&#x27;, by Rick Astley</span></span><br></pre></td></tr></table></figure>

<h3 id="Any-å’Œ-AnyObject-çš„ç±»å‹è½¬æ¢"><a href="#Any-å’Œ-AnyObject-çš„ç±»å‹è½¬æ¢" class="headerlink" title="Any å’Œ AnyObject çš„ç±»å‹è½¬æ¢"></a>Any å’Œ AnyObject çš„ç±»å‹è½¬æ¢</h3><ul>
<li><code>Any</code>å¯ä»¥è¡¨ç¤ºä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬å‡½æ•°ç±»å‹ã€‚</li>
<li><code>AnyObject</code> å¯ä»¥è¡¨ç¤ºä»»ä½•ç±»ç±»å‹çš„å®ä¾‹ã€‚</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> things <span class="operator">=</span> [<span class="keyword">Any</span>]() <span class="comment">// è¢«å®šä¹‰ä¸ºæ¥å—ä»»ä½•ç±»å‹é¡¹</span></span><br><span class="line"></span><br><span class="line">things.append(<span class="number">0</span>)</span><br><span class="line">things.append(<span class="number">0.0</span>)</span><br><span class="line">things.append(<span class="number">42</span>)</span><br><span class="line">things.append(<span class="number">3.14159</span>)</span><br><span class="line">things.append(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">things.append((<span class="number">3.0</span>, <span class="number">5.0</span>))</span><br><span class="line">things.append(<span class="type">Movie</span>(name: <span class="string">&quot;Ghostbusters&quot;</span>, director: <span class="string">&quot;Ivan Reitman&quot;</span>))</span><br><span class="line">things.append(&#123; (name: <span class="type">String</span>) -&gt; <span class="type">String</span> <span class="keyword">in</span> <span class="string">&quot;Hello, <span class="subst">\(name)</span>&quot;</span> &#125;)</span><br><span class="line"> </span><br><span class="line"><span class="comment">// è¿­ä»£ things é€šè¿‡switch åŒ¹é…tingç±»å‹.ç”¨ asæ“ä½œç¬¦ åšç±»å‹åŒ¹é…æ¡ä»¶</span></span><br><span class="line"><span class="keyword">for</span> thing <span class="keyword">in</span> things &#123;</span><br><span class="line">    <span class="keyword">switch</span> thing &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span> <span class="keyword">as</span> <span class="type">Int</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;zero as an Int&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span> <span class="keyword">as</span> <span class="type">Double</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;zero as a Double&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> someInt <span class="keyword">as</span> <span class="type">Int</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;an integer value of <span class="subst">\(someInt)</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> someDouble <span class="keyword">as</span> <span class="type">Double</span> <span class="keyword">where</span> someDouble <span class="operator">&gt;</span> <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;a positive double value of <span class="subst">\(someDouble)</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">is</span> <span class="type">Double</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;some other double value that I don&#x27;t want to print&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> someString <span class="keyword">as</span> <span class="type">String</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;a string value of <span class="subst">\&quot;</span><span class="subst">\(someString)</span><span class="subst">\&quot;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> (x, y) <span class="keyword">as</span> (<span class="type">Double</span>, <span class="type">Double</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;an (x, y) point at <span class="subst">\(x)</span>, <span class="subst">\(y)</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> movie <span class="keyword">as</span> <span class="type">Movie</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;a movie called &#x27;<span class="subst">\(movie.name)</span>&#x27;, dir. <span class="subst">\(movie.director)</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> stringConverter <span class="keyword">as</span> (<span class="type">String</span>) -&gt; <span class="type">String</span>:</span><br><span class="line">        <span class="built_in">print</span>(stringConverter(<span class="string">&quot;Michael&quot;</span>))</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;something else&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// zero as an Int</span></span><br><span class="line"><span class="comment">// zero as a Double</span></span><br><span class="line"><span class="comment">// an integer value of 42</span></span><br><span class="line"><span class="comment">// a positive double value of 3.14159</span></span><br><span class="line"><span class="comment">// a string value of &quot;hello&quot;</span></span><br><span class="line"><span class="comment">// an (x, y) point at 3.0, 5.0</span></span><br><span class="line"><span class="comment">// a movie called &#x27;Ghostbusters&#x27;, dir. Ivan Reitman</span></span><br><span class="line"><span class="comment">// Hello, Michael</span></span><br></pre></td></tr></table></figure>

<h2 id="å†…å­˜å®‰å…¨"><a href="#å†…å­˜å®‰å…¨" class="headerlink" title="å†…å­˜å®‰å…¨"></a>å†…å­˜å®‰å…¨</h2><p>ä¸€èˆ¬æƒ…å†µä¸‹ä¸€å—å†…å­˜ç©ºé—´è®¿é—®æ˜¯åœ¨ç¬æ—¶é—´å®Œæˆçš„ï¼Œè¿™ä¸ªæ—¶é—´ç‚¹ä¸Šåªå¯èƒ½æœ‰ä¸€ä¸ªæ“ä½œè¡Œä¸ºã€‚å¦‚æœåœ¨è¿™ä¸ªæ—¶é—´ç‚¹ä¸Šå‘ç”Ÿäº†å¤šä¸ªæ“ä½œï¼Œåˆ™ä¼šå¯¼è‡´å†…å­˜å†²çªã€‚è¿™ç§æƒ…å†µæ˜¯ä¸å®‰å…¨çš„å†…å­˜è¡Œä¸ºã€‚</p>
<p>å†…å­˜è®¿é—®å†²çªæœ‰ä¸‰ç±»å‹ï¼š</p>
<ol>
<li>ä¸¤ä¸ªæ“ä½œåŒæ—¶è®¿é—®ï¼Œå¹¶ä¸”åˆä¸€ä¸ªè®¿é—®æ˜¯å†™æ“ä½œã€‚</li>
<li>å½“ä¸¤ä¸ªè®¿é—®æ˜¯å­˜å‚¨å‹å†…å­˜æ—¶ã€‚</li>
<li>ä¸¤ä¸ªè®¿é—®åœ¨æ—¶é—´ä¸Šæœ‰é‡å æ—¶ã€‚</li>
</ol>
<p>æœ€å®¹æ˜“å¯¼è‡´è®¿é—®å†²çªè¯­æ³•åœºæ™¯æ˜¯:In-Out å‚æ•°çš„è®¿é—®å†²çªï¼Œæ–¹æ³•é‡Œ self çš„è®¿é—®å†²çªï¼Œå±æ€§çš„è®¿é—®å†²çªã€‚</p>
<h3 id="In-Out-å‚æ•°çš„è®¿é—®å†²çª"><a href="#In-Out-å‚æ•°çš„è®¿é—®å†²çª" class="headerlink" title="In-Out å‚æ•°çš„è®¿é—®å†²çª"></a>In-Out å‚æ•°çš„è®¿é—®å†²çª</h3><p>å‡½æ•°å†…éƒ¨å¯ä»¥é€šè¿‡å‚æ•°å’Œå…¨å±€å˜é‡è®¿é—®åŒä¸€å—å†…å­˜ã€‚å¾ˆå®¹æ˜“é€ æˆè®¿é—®å†²çªã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stepSize <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">increment</span>(<span class="keyword">_</span> <span class="params">number</span>: <span class="keyword">inout</span> <span class="type">Int</span>)</span> &#123;</span><br><span class="line">    number <span class="operator">+=</span> stepSize</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">increment(<span class="operator">&amp;</span>stepSize)</span><br><span class="line"><span class="comment">// é”™è¯¯ï¼šstepSize è®¿é—®å†²çª</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œ<code>number</code>å’Œ<code>stepSize</code>è®¿é—®äº†åŒä¸€å—å†…å­˜ã€‚</p>
<p><img src="https://docs.swift.org/swift-book/_images/memory_increment_2x.png"></p>
<h3 id="æ–¹æ³•é‡Œ-self-çš„è®¿é—®å†²çª"><a href="#æ–¹æ³•é‡Œ-self-çš„è®¿é—®å†²çª" class="headerlink" title="æ–¹æ³•é‡Œ self çš„è®¿é—®å†²çª"></a>æ–¹æ³•é‡Œ self çš„è®¿é—®å†²çª</h3><p>åœ¨æ–¹æ³•å†…è®¿é—®è‡ªèº«å°±å¯èƒ½é€ æˆå†…å­˜å†²çªã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Playerç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> health: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> energy: <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> maxHealth <span class="operator">=</span> <span class="number">10</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">restoreHealth</span>()</span> &#123;</span><br><span class="line">        health <span class="operator">=</span> <span class="type">Player</span>.maxHealth</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* æ‰©å±•Player ä½¿å®ƒå¯ä»¥ä¸åŒç±»å‹å®ä¾‹ è¿›è¡Œæ•°æ®å˜åŒ–</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ¥å—åŒç±»å‹å®ä¾‹å‚æ•°</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">shareHealth</span>(<span class="params">with</span> <span class="params">teammate</span>: <span class="keyword">inout</span> <span class="type">Player</span>)</span> &#123;</span><br><span class="line">        <span class="comment">// å°†å‚æ•°å±æ€§health å’Œè‡ªèº«health è¿›è¡Œæ•°æ®å¤„ç†</span></span><br><span class="line">        balance(<span class="operator">&amp;</span>teammate.health, <span class="operator">&amp;</span>health)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¼ é€’ç»™ <code>shareHealth</code>å‚æ•°å®ä¾‹å’Œè°ƒç”¨<code>shareHealth</code>æ–¹æ³•çš„å®ä¾‹ä¸æ˜¯åŒä¸€ä¸ªæ˜¯æ­£å¸¸çš„ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oscar <span class="operator">=</span> <span class="type">Player</span>(name: <span class="string">&quot;Oscar&quot;</span>, health: <span class="number">10</span>, energy: <span class="number">10</span>)</span><br><span class="line"><span class="keyword">var</span> maria <span class="operator">=</span> <span class="type">Player</span>(name: <span class="string">&quot;Maria&quot;</span>, health: <span class="number">5</span>, energy: <span class="number">10</span>)</span><br><span class="line">oscar.shareHealth(with: <span class="operator">&amp;</span>maria)  <span class="comment">// æ­£å¸¸</span></span><br><span class="line"></span><br><span class="line">oscar.shareHealth(with: <span class="operator">&amp;</span>oscar)</span><br><span class="line"><span class="comment">// é”™è¯¯ï¼šoscar è®¿é—®å†²çª</span></span><br></pre></td></tr></table></figure>

<p>å‡å¦‚ä¼ é€’ç»™ <code>shareHealth</code>å‚æ•°å®ä¾‹å’Œè°ƒç”¨<code>shareHealth</code>æ–¹æ³•çš„å®ä¾‹æ˜¯åŒä¸€å®ä¾‹ï¼Œåˆ™ä¼šå¯¼è‡´å†…å­˜å†²çªã€‚</p>
<p><img src="https://docs.swift.org/swift-book/_images/memory_share_health_oscar_2x.png"></p>
<h3 id="å±æ€§çš„è®¿é—®å†²çª"><a href="#å±æ€§çš„è®¿é—®å†²çª" class="headerlink" title="å±æ€§çš„è®¿é—®å†²çª"></a>å±æ€§çš„è®¿é—®å†²çª</h3><p>ç»“æ„ä½“ï¼Œå…ƒç»„ï¼Œæšä¸¾ç±»å‹éƒ½æ˜¯ç‹¬ç«‹çš„å€¼ç±»å‹ï¼Œå¯¹å®ƒä»¬ä¸€ä¸ª å±æ€§çš„è®¿é—®å…¶å®å°±æ˜¯å¯¹æ•´ä½“çš„è®¿é—®ã€‚è¿™æ ·æƒ…å†µå¾ˆå®¹æ˜“å¯¼è‡´å†…å­˜å†²çªã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> health: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> energy: <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> maxHealth <span class="operator">=</span> <span class="number">10</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">restoreHealth</span>()</span> &#123;</span><br><span class="line">        health <span class="operator">=</span> <span class="type">Player</span>.maxHealth</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯¹äºä¸€ä¸ªå­˜å‚¨åœ¨å…¨å±€å˜é‡é‡Œçš„ç»“æ„ä½“å±æ€§çš„å†™è®¿é—®é‡å äº†</span></span><br><span class="line"><span class="keyword">var</span> holly <span class="operator">=</span> <span class="type">Player</span>(name: <span class="string">&quot;Holly&quot;</span>, health: <span class="number">10</span>, energy: <span class="number">10</span>)</span><br><span class="line">balance(<span class="operator">&amp;</span>holly.health, <span class="operator">&amp;</span>holly.energy)  <span class="comment">// é”™è¯¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹äºå…ƒç»„å…ƒç´ çš„å†™è®¿é—®éƒ½éœ€è¦å¯¹æ•´ä¸ªå…ƒç»„å‘èµ·å†™è®¿é—®</span></span><br><span class="line"><span class="keyword">var</span> playerInformation <span class="operator">=</span> (health: <span class="number">10</span>, energy: <span class="number">20</span>)</span><br><span class="line">balance(<span class="operator">&amp;</span>playerInformation.health, <span class="operator">&amp;</span>playerInformation.energy)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">someFunction</span>()</span> &#123;</span><br><span class="line">    <span class="comment">// å‡å¦‚ç»“æ„ä½“å­˜åœ¨æœ¬åœ°å˜é‡è€Œéå…¨å±€å˜é‡ï¼Œç¼–è¯‘å™¨å°±ä¼šå¯ä»¥ä¿è¯è¿™ä¸ªé‡å è®¿é—®æ—¶å®‰å…¨çš„</span></span><br><span class="line">    <span class="keyword">var</span> oscar <span class="operator">=</span> <span class="type">Player</span>(name: <span class="string">&quot;Oscar&quot;</span>, health: <span class="number">10</span>, energy: <span class="number">10</span>)</span><br><span class="line">    balance(<span class="operator">&amp;</span>oscar.health, <span class="operator">&amp;</span>oscar.energy)  <span class="comment">// æ­£å¸¸</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
      
      

  <div class="post-copyright">
    <p class="copyright-item">
      <span>ä½œè€…: </span>
      <span>Fynn</span>
    </p>
    <p class="copyright-item">
      <span>æ¥æº: </span>
      <a href="https://fynn90.github.io">https://fynn90.github.io</a>
    </p>
    <p class="copyright-item">
      <span>é“¾æ¥: </span>
      <a href="https://fynn90.github.io/2018/04/12/swift%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">https://fynn90.github.io/2018/04/12/swift%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a>
    </p>

    <p class="copyright-item lincese">
      
      æœ¬æ–‡é‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯
    </p>
  </div>



      
      
  <div class="post-reward">
    <input type="checkbox" name="reward" id="reward" hidden />
    <label class="reward-button" for="reward">èµèµæ”¯æŒ</label>
    <div class="qr-code">
      
      
        <label class="qr-code-image" for="reward">
          <img class="image" src="/image/reward/wechat.png" title="wechat">
          <div>wechat</div>
        </label>
      
      
        <label class="qr-code-image" for="reward">
          <img class="image" src="/image/reward/alipay.png" title="alipay">
          <div>alipay</div>
        </label>
      
    </div>
  </div>

    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Swift/">Swift</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2018/04/24/koa%E5%AE%9E%E6%88%98%E6%89%8B%E5%86%8C/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Koaå®æˆ˜æ‰‹å†Œ</span>
        <span class="prev-text nav-mobile">ä¸Šä¸€ç¯‡</span>
      </a>
    
    
      <a class="next" href="/2018/02/04/Flask%E9%83%A8%E7%BD%B2/">
        <span class="next-text nav-default">Flaskéƒ¨ç½²</span>
        <span class="prev-text nav-mobile">ä¸‹ä¸€ç¯‡</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>  
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:fynn.90@outlook.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
        
          <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/%E5%B8%86-%E9%82%93-17163589/" class="iconfont icon-linkedin" title="linkedin"></a>
        
      
    
      
        
          <a target="_blank" rel="noopener" href="https://plus.google.com/u/0/117459332873536225443" class="iconfont icon-google" title="google"></a>
        
      
    
      
        
          <a target="_blank" rel="noopener" href="https://github.com/fatefan" class="iconfont icon-github" title="github"></a>
        
      
    
      
        
          <a target="_blank" rel="noopener" href="http://www.weibo.com/306019091" class="iconfont icon-weibo" title="weibo"></a>
        
      
    
      
        
          <a target="_blank" rel="noopener" href="https://www.zhihu.com/people/FynnDeng/activities" class="iconfont icon-zhihu" title="zhihu"></a>
        
      
    
      
    
    
    
  </div>


<div class="copyright">
  
  <span class="copyright-year">
    
    &copy; 
     
      2017 - 
    
    2021

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Fynn</span>
  </span>
  
</div>
      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  

  
  




    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=1.1.2"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1.2"></script>

    
  </body>
</html>
