<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="Dart最佳实践"/>




  <meta name="keywords" content="Dart," />




  <link rel="alternate" href="/atom.xml" title="Fynn's Blog" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1.2" />



<link rel="canonical" href="https://fynn90.github.io/2019/06/03/Dart最佳实践/"/>


<meta name="description" content="一个项目中会有多名开发中同时进行code,为了项目的健壮和可维护性我们需要制定一套代码规范,约束开发者的coding. Dart官方推荐一套代码规范.这套规范适用于其他语言的项目代码规范.">
<meta property="og:type" content="article">
<meta property="og:title" content="Dart最佳实践">
<meta property="og:url" content="https://fynn90.github.io/2019/06/03/Dart%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/index.html">
<meta property="og:site_name" content="Fynn&#39;s Blog">
<meta property="og:description" content="一个项目中会有多名开发中同时进行code,为了项目的健壮和可维护性我们需要制定一套代码规范,约束开发者的coding. Dart官方推荐一套代码规范.这套规范适用于其他语言的项目代码规范.">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-06-03T15:10:00.000Z">
<meta property="article:modified_time" content="2019-06-03T15:10:02.173Z">
<meta property="article:author" content="Fynn">
<meta property="article:tag" content="Dart">
<meta name="twitter:card" content="summary">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1.2" />



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />





<script>
  var CONFIG = {
    search: false,
    searchPath: "/search.xml",
    fancybox: true,
    toc: true,
  }
</script>




  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?607980a031d3edcefed502ce80e77ffb";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-115728733-1', 'auto');
        ga('send', 'pageview');
  </script>



    <title> Dart最佳实践 · Fynn's Blog </title>
  <meta name="generator" content="Hexo 5.4.0"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Fynn's Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
      <a href="/categories">
        <li class="mobile-menu-item">
          
          
            Categories
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Fynn's Blog</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              首页
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              归档
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            
            
              分类
            
          </a>
        </li>
      
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Dart最佳实践
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2019年6月3日
        </span>
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A3%8E%E6%A0%BC"><span class="toc-text">风格</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-text">标识符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81%E4%BD%BF%E7%94%A8-UpperCamelCase-%E9%A3%8E%E6%A0%BC%E5%91%BD%E5%90%8D%E7%B1%BB%E5%9E%8B"><span class="toc-text">要使用 UpperCamelCase 风格命名类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81%E5%9C%A8%E5%BA%93%E3%80%81%E5%8C%85%E3%80%81%E6%96%87%E4%BB%B6%E5%A4%B9%E3%80%81%E6%BA%90%E6%96%87%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8-lowercase-with-underscores-%E6%96%B9%E5%BC%8F%E5%91%BD%E5%90%8D"><span class="toc-text">要在库、包、文件夹、源文件中使用 lowercase_with_underscores 方式命名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81%E4%BD%BF%E7%94%A8-lowercase-with-underscores-%E9%A3%8E%E6%A0%BC%E5%91%BD%E5%90%8D%E5%AF%BC%E5%85%A5%E7%9A%84%E5%89%8D%E7%BC%80"><span class="toc-text">要使用 lowercase_with_underscores 风格命名导入的前缀</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81%E4%BD%BF%E7%94%A8-lowerCamelCase-%E9%A3%8E%E6%A0%BC%E6%9D%A5%E5%91%BD%E5%90%8D%E5%85%B6%E4%BB%96%E7%9A%84%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-text">要使用 lowerCamelCase 风格来命名其他的标识符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8-lowerCamelCase-%E6%9D%A5%E5%91%BD%E5%90%8D%E5%B8%B8%E9%87%8F"><span class="toc-text">推荐使用 lowerCamelCase 来命名常量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81%E6%8A%8A%E8%B6%85%E8%BF%87%E4%B8%A4%E4%B8%AA%E5%AD%97%E6%AF%8D%E7%9A%84%E9%A6%96%E5%AD%97%E6%AF%8D%E5%A4%A7%E5%86%99%E7%BC%A9%E7%95%A5%E8%AF%8D%E5%92%8C%E7%BC%A9%E5%86%99%E8%AF%8D%E5%BD%93%E5%81%9A%E4%B8%80%E8%88%AC%E5%8D%95%E8%AF%8D%E6%9D%A5%E5%AF%B9%E5%BE%85"><span class="toc-text">要把超过两个字母的首字母大写缩略词和缩写词当做一般单词来对待</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81-%E4%BD%BF%E7%94%A8%E5%89%8D%E7%BC%80%E5%AD%97%E6%AF%8D"><span class="toc-text">不要 使用前缀字母</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F"><span class="toc-text">顺序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81-%E6%8A%8A-%E2%80%9Cdart-%E2%80%9D-%E5%AF%BC%E5%85%A5%E8%AF%AD%E5%8F%A5%E6%94%BE%E5%88%B0%E5%85%B6%E4%BB%96%E5%AF%BC%E5%85%A5%E8%AF%AD%E5%8F%A5%E4%B9%8B%E5%89%8D"><span class="toc-text">要 把 “dart:” 导入语句放到其他导入语句之前</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81-%E6%8A%8A-%E2%80%9Cpackage-%E2%80%9D-%E5%AF%BC%E5%85%A5%E8%AF%AD%E5%8F%A5%E6%94%BE%E5%88%B0%E9%A1%B9%E7%9B%AE%E7%9B%B8%E5%85%B3%E5%AF%BC%E5%85%A5%E8%AF%AD%E5%8F%A5%E4%B9%8B%E5%89%8D%E3%80%82"><span class="toc-text">要 把 “package:” 导入语句放到项目相关导入语句之前。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90-%E6%8A%8A%E5%A4%96%E9%83%A8%E6%89%A9%E5%B1%95-%E2%80%9Cpackage-%E2%80%9D-%E5%AF%BC%E5%85%A5%E8%AF%AD%E5%8F%A5%E6%94%BE%E5%88%B0%E5%85%B6%E4%BB%96%E8%AF%AD%E5%8F%A5%E4%B9%8B%E5%89%8D"><span class="toc-text">推荐 把外部扩展 “package:” 导入语句放到其他语句之前</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81-%E6%8A%8A%E5%AF%BC%E5%87%BA%EF%BC%88export%EF%BC%89%E8%AF%AD%E5%8F%A5%E4%BD%9C%E4%B8%BA%E4%B8%80%E4%B8%AA%E5%8D%95%E7%8B%AC%E7%9A%84%E9%83%A8%E5%88%86%E6%94%BE%E5%88%B0%E6%89%80%E6%9C%89%E5%AF%BC%E5%85%A5%E8%AF%AD%E5%8F%A5%E4%B9%8B%E5%90%8E"><span class="toc-text">要 把导出（export）语句作为一个单独的部分放到所有导入语句之后</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81-%E6%8C%89%E7%85%A7%E5%AD%97%E6%AF%8D%E9%A1%BA%E5%BA%8F%E6%9D%A5%E6%8E%92%E5%BA%8F%E6%AF%8F%E4%B8%AA%E9%83%A8%E5%88%86%E4%B8%AD%E7%9A%84%E8%AF%AD%E5%8F%A5"><span class="toc-text">要 按照字母顺序来排序每个部分中的语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-text">格式化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81%E4%BD%BF%E7%94%A8-dartfmt-%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%BD%A0%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="toc-text">要使用 dartfmt 格式化你的代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E5%8D%95%E8%A1%8C%E8%B6%85%E8%BF%87-80-%E4%B8%AA%E5%AD%97%E7%AC%A6"><span class="toc-text">避免单行超过 80 个字符</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-text">注释</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%81%E5%83%8F%E5%8F%A5%E5%AD%90%E4%B8%80%E6%A0%B7%E6%9D%A5%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%B3%A8%E9%87%8A"><span class="toc-text">要像句子一样来格式化注释</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81-%E4%BD%BF%E7%94%A8%E5%9D%97%E6%B3%A8%E9%87%8A%E4%BD%9C%E7%94%A8%E4%BD%9C%E8%A7%A3%E9%87%8A%E8%AF%B4%E6%98%8E"><span class="toc-text">不要 使用块注释作用作解释说明</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%81%E4%BD%BF%E7%94%A8-%E6%96%87%E6%A1%A3%E6%B3%A8%E9%87%8A%E6%9D%A5%E6%B3%A8%E9%87%8A%E6%88%90%E5%91%98%E5%92%8C%E7%B1%BB%E5%9E%8B"><span class="toc-text">要使用 &#x2F;&#x2F;&#x2F; 文档注释来注释成员和类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%81%E5%9C%A8%E6%96%87%E6%A1%A3%E6%B3%A8%E9%87%8A%E5%BC%80%E5%A4%B4%E6%9C%89%E4%B8%80%E4%B8%AA%E5%8D%95%E5%8F%A5%E6%80%BB%E7%BB%93"><span class="toc-text">要在文档注释开头有一个单句总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%80%83%E8%99%91%E5%9C%A8%E6%96%87%E6%A1%A3%E6%B3%A8%E9%87%8A%E4%B8%AD%E6%B7%BB%E5%8A%A0%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"><span class="toc-text">考虑在文档注释中添加示例代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%81%E4%BD%BF%E7%94%A8%E6%96%B9%E6%8B%AC%E5%8F%B7%E5%9C%A8%E6%96%87%E6%A1%A3%E6%B3%A8%E9%87%8A%E4%B8%AD%E5%BC%95%E7%94%A8%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%86%85%E7%9A%84%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-text">要使用方括号在文档注释中引用作用域内的标识符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-text">使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%81%E5%9C%A8-part-of-%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">要在 part of 中使用字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81-%E5%AF%BC%E5%85%A5-package-%E4%B8%AD-src-%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E5%BA%93"><span class="toc-text">不要 导入 package 中 src 目录下的库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E8%AE%AE%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84%E5%9C%A8%E5%AF%BC%E5%85%A5%E4%BD%A0%E8%87%AA%E5%B7%B1-package-%E4%B8%AD%E7%9A%84-lib-%E7%9B%AE%E5%BD%95"><span class="toc-text">建议使用相对路径在导入你自己 package 中的 lib 目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%81%E4%BD%BF%E7%94%A8%E4%B8%B4%E8%BF%91%E5%AD%97%E7%AC%A6%E5%AD%97%E7%9A%84%E6%96%B9%E5%BC%8F%E8%BF%9E%E6%8E%A5%E5%AD%97%E9%9D%A2%E9%87%8F%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">要使用临近字符字的方式连接字面量字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E5%9C%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%80%BC%E4%B8%AD%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BF%85%E8%A6%81%E7%9A%84%E5%A4%A7%E6%8B%AC%E5%8F%B7"><span class="toc-text">避免在字符串插值中使用不必要的大括号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%81-%E5%B0%BD%E5%8F%AF%E8%83%BD%E7%9A%84%E4%BD%BF%E7%94%A8%E9%9B%86%E5%90%88%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="toc-text">要 尽可能的使用集合字面量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8-length-%E6%9D%A5%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E9%9B%86%E5%90%88%E6%98%AF%E5%90%A6%E4%B8%BA%E7%A9%BA"><span class="toc-text">不要使用 .length 来判断一个集合是否为空</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%80%83%E8%99%91%E4%BD%BF%E7%94%A8%E9%AB%98%E9%98%B6%EF%BC%88higher-order%EF%BC%89%E5%87%BD%E6%95%B0%E6%9D%A5%E8%BD%AC%E6%8D%A2%E9%9B%86%E5%90%88%E6%95%B0%E6%8D%AE"><span class="toc-text">考虑使用高阶（higher-order）函数来转换集合数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E5%9C%A8-Iterable-forEach-%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%AD%97%E9%9D%A2%E9%87%8F%E5%87%BD%E6%95%B0"><span class="toc-text">避免在 Iterable.forEach() 中使用字面量函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8-List-from-%E9%99%A4%E9%9D%9E%E6%83%B3%E4%BF%AE%E6%94%B9%E7%BB%93%E6%9E%9C%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-text">不要使用 List.from() 除非想修改结果的类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%81%E4%BD%BF%E7%94%A8-whereType-%E6%8C%89%E7%B1%BB%E5%9E%8B%E8%BF%87%E6%BB%A4%E9%9B%86%E5%90%88"><span class="toc-text">要使用 whereType() 按类型过滤集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8-cast"><span class="toc-text">避免使用 cast()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%81-%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E7%9A%84%E6%96%B9%E5%BC%8F%E4%B8%BA%E5%87%BD%E6%95%B0%E7%BB%91%E5%AE%9A%E5%90%8D%E7%A7%B0"><span class="toc-text">要 使用函数声明的方式为函数绑定名称</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81-%E4%B8%BA%E5%AD%97%E6%AE%B5%E5%88%9B%E5%BB%BA%E4%B8%8D%E5%BF%85%E8%A6%81%E7%9A%84-getter-%E5%92%8C-setter-%E6%96%B9%E6%B3%95"><span class="toc-text">不要 为字段创建不必要的 getter 和 setter 方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90-%E4%BD%BF%E7%94%A8-final-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9D%A5%E5%88%9B%E5%BB%BA%E5%8F%AA%E8%AF%BB%E5%B1%9E%E6%80%A7%E3%80%82"><span class="toc-text">推荐 使用 final 关键字来创建只读属性。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%80%83%E8%99%91-%E5%AF%B9%E7%AE%80%E5%8D%95%E6%88%90%E5%91%98%E4%BD%BF%E7%94%A8-gt"><span class="toc-text">考虑 对简单成员使用 &#x3D;&gt;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1"><span class="toc-text">设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D"><span class="toc-text">命名</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%87%B4%E7%9A%84%E6%9C%AF%E8%AF%AD"><span class="toc-text">要 使用一致的术语</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90-%E6%8A%8A%E6%9C%80%E5%85%B7%E6%8F%8F%E8%BF%B0%E6%80%A7%E7%9A%84%E5%90%8D%E8%AF%8D%E6%94%BE%E5%88%B0%E6%9C%80%E5%90%8E"><span class="toc-text">推荐 把最具描述性的名词放到最后</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E8%99%91-%E5%B0%BD%E9%87%8F%E8%AE%A9%E4%BB%A3%E7%A0%81%E7%9C%8B%E8%B5%B7%E6%9D%A5%E5%83%8F%E6%99%AE%E9%80%9A%E7%9A%84%E5%8F%A5%E5%AD%90"><span class="toc-text">考虑 尽量让代码看起来像普通的句子</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90-%E4%BD%BF%E7%94%A8%E5%90%8D%E8%AF%8D%E7%9F%AD%E8%AF%AD%E6%9D%A5%E5%91%BD%E5%90%8D%E4%B8%8D%E6%98%AF%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%98%E9%87%8F%E5%92%8C%E5%B1%9E%E6%80%A7"><span class="toc-text">推荐 使用名词短语来命名不是布尔类型的变量和属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90-%E4%BD%BF%E7%94%A8%E9%9D%9E%E5%91%BD%E4%BB%A4%E5%BC%8F%E5%8A%A8%E8%AF%8D%E7%9F%AD%E8%AF%AD%E5%91%BD%E5%90%8D%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%98%E9%87%8F%E5%92%8C%E5%B1%9E%E6%80%A7"><span class="toc-text">推荐 使用非命令式动词短语命名布尔类型的变量和属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E8%99%91-%E7%9C%81%E7%95%A5%E5%91%BD%E5%90%8D%E5%B8%83%E5%B0%94%E5%8F%82%E6%95%B0%E7%9A%84%E5%8A%A8%E8%AF%8D"><span class="toc-text">考虑 省略命名布尔参数的动词</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E8%99%91-%E4%B8%BA%E5%B8%83%E5%B0%94%E5%B1%9E%E6%80%A7%E6%88%96%E5%8F%98%E9%87%8F%E5%8F%96%E2%80%9C%E8%82%AF%E5%AE%9A%E2%80%9D%E5%90%AB%E4%B9%89%E7%9A%84%E5%90%8D%E5%AD%97"><span class="toc-text">考虑 为布尔属性或变量取“肯定”含义的名字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90-%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E5%BC%8F%E5%8A%A8%E8%AF%8D%E7%9F%AD%E8%AF%AD%E6%9D%A5%E5%91%BD%E5%90%8D%E5%B8%A6%E6%9C%89%E5%89%AF%E4%BD%9C%E7%94%A8%E7%9A%84%E5%87%BD%E6%95%B0%E6%88%96%E8%80%85%E6%96%B9%E6%B3%95"><span class="toc-text">推荐 使用命令式动词短语来命名带有副作用的函数或者方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E8%99%91-%E4%BD%BF%E7%94%A8%E5%90%8D%E8%AF%8D%E7%9F%AD%E8%AF%AD%E6%88%96%E8%80%85%E9%9D%9E%E5%91%BD%E4%BB%A4%E5%BC%8F%E5%8A%A8%E8%AF%8D%E7%9F%AD%E8%AF%AD%E5%91%BD%E5%90%8D%E8%BF%94%E5%9B%9E%E6%95%B0%E6%8D%AE%E4%B8%BA%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD%E7%9A%84%E6%96%B9%E6%B3%95%E6%88%96%E8%80%85%E5%87%BD%E6%95%B0"><span class="toc-text">考虑 使用名词短语或者非命令式动词短语命名返回数据为主要功能的方法或者函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E8%99%91-%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E5%BC%8F%E5%8A%A8%E8%AF%8D%E7%9F%AD%E8%AF%AD%E5%91%BD%E5%90%8D%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E6%88%96%E6%96%B9%E6%B3%95%EF%BC%8C%E8%8B%A5%E6%9E%9C%E4%BD%A0%E5%B8%8C%E6%9C%9B%E5%AE%83%E7%9A%84%E6%89%A7%E8%A1%8C%E8%83%BD%E8%A2%AB%E9%87%8D%E8%A7%86"><span class="toc-text">考虑 使用命令式动词短语命名一个函数或方法，若果你希望它的执行能被重视</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%BF%E5%85%8D-%E5%9C%A8%E6%96%B9%E6%B3%95%E5%91%BD%E5%90%8D%E4%B8%AD%E4%BD%BF%E7%94%A8-get-%E5%BC%80%E5%A4%B4"><span class="toc-text">避免 在方法命名中使用 get 开头</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90-%E4%BD%BF%E7%94%A8-to-%E6%9D%A5%E5%91%BD%E5%90%8D%E6%8A%8A%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E5%88%B0%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-text">推荐 使用 to___() 来命名把对象的状态转换到一个新的对象的函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90-%E4%BD%BF%E7%94%A8-as-%E6%9D%A5%E5%91%BD%E5%90%8D%E6%8A%8A%E5%8E%9F%E6%9D%A5%E5%AF%B9%E8%B1%A1%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%8F%A6%E5%A4%96%E4%B8%80%E7%A7%8D%E8%A1%A8%E7%8E%B0%E5%BD%A2%E5%BC%8F%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-text">推荐 使用 as___() 来命名把原来对象转换为另外一种表现形式的函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%BF%E5%85%8D-%E5%9C%A8%E6%96%B9%E6%B3%95%E6%88%96%E8%80%85%E5%87%BD%E6%95%B0%E5%90%8D%E7%A7%B0%E4%B8%AD%E6%8F%8F%E8%BF%B0%E5%8F%82%E6%95%B0"><span class="toc-text">避免 在方法或者函数名称中描述参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81-%E5%9C%A8%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0%E6%97%B6%EF%BC%8C%E9%81%B5%E5%BE%AA%E7%8E%B0%E6%9C%89%E7%9A%84%E5%8A%A9%E8%AE%B0%E7%AC%A6%E7%BA%A6%E5%AE%9A"><span class="toc-text">要 在命名参数时，遵循现有的助记符约定</span></a></li></ol></li></ol></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <p>一个项目中会有多名开发中同时进行code,为了项目的健壮和可维护性我们需要制定一套代码规范,约束开发者的coding.</p>
<p>Dart官方推荐一套代码规范.这套规范适用于其他语言的项目代码规范.</p>
<span id="more"></span>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>规范分为四个部分:</p>
<ol>
<li><strong>风格指南</strong> – 这定义了布局和组织代码的规则， <a target="_blank" rel="noopener" href="https://github.com/dart-lang/dart_style#readme">dartfmt</a> 的实现使用同样的规则。</li>
<li><strong>注释指南</strong> – 这会告诉你关于如何编写注释文档的一切内容。 包括文档注释，常规的普通代码注释。</li>
<li><strong>使用指南</strong> – 这将教你如何充分利用语言功能来实现功能。 例如语句和表达式相关的内容，则会在这里介绍。</li>
<li><strong>设计指南</strong> – 这是一份宽松的指南，但是覆盖范围最广。 这里涵盖了如何为库设计一致的、可用的 API。例如类型签名或声明相关内容， 则会在这里介绍。</li>
</ol>
<p>每条准则都以下面其中的一个词作为开头：</p>
<ul>
<li><strong>要</strong> 准则所描述的内容应该始终被遵守。 不应该以任何的理由来偏离违背这些准则。</li>
<li><strong>不要</strong> 准则所描述的内容是相反的： 描述的几乎从来不是一个好注意。 幸运的是，我们不会像其他语言有那么多这样的准则，因为我们没有太多的历史包袱。</li>
<li><strong>推荐</strong> 准则所描述的内容<em>应该</em>被遵守。 但是在有些情况下，可能有更好的或者更合理的做法。 请确保在你完全理解准则的情况下，再忽视这些准则。</li>
<li><strong>避免</strong> 准则与 “推荐” 准则相反： 显然，这些事不应该做，但不排除在极少数场合下有充分的理由可以使用。</li>
<li><strong>考虑</strong> 准则所描述的内容可以遵守，也可以不遵守。 取决于具体的情况、先前的做法以及自己的偏好。</li>
</ul>
<p>为了使指南保持简洁， 我们使用一些简写术语来指代不同的 Dart 结构。</p>
<ul>
<li><strong>库成员</strong> 是一个顶级字段，getter 方法，setter 方法，或者函数， 基本上，任何顶级的东西都不会是一种类型。</li>
<li><strong>类成员</strong> 是一个类内部声明的构造函数，字段，getter 方法，setter 方法，函数，或者操作符。 类成员可以是实例的或者静态的，抽象的或者具体的。</li>
<li><strong>成员</strong> 是一个库成员或者是类成员。</li>
<li><strong>变量</strong> 通常是指顶级变量，参数和局部变量。 它不包括静态或实例的字段。</li>
<li><strong>类型</strong> 是任意命名类型的声明：一个类、 typedef、或者 enum。</li>
<li><strong>属性</strong> 是一个顶级变量，getter 方法（在一个类或者顶级实例或静态类中）， setter（同getter），或者字段（示例或静态类）。 大致上任何“字段式”命名构造。</li>
</ul>
<h2 id="风格"><a href="#风格" class="headerlink" title="风格"></a>风格</h2><h3 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h3><p>在 Dart 中标识符有三种类型。</p>
<ul>
<li><code>UpperCamelCase</code> 每个单词的首字母都大写，包含第一个单词。</li>
<li><code>lowerCamelCase</code> 每个单词的首字母都大写，<em>除了</em>第一个单词， 第一个单词首字母小写，即使是缩略词。</li>
<li><code>lowercase_with_underscores</code> 只是用小写字母单词，即使是缩略词， 并且单词之间使用 <code>_</code> 连接。</li>
</ul>
<h4 id="要使用-UpperCamelCase-风格命名类型"><a href="#要使用-UpperCamelCase-风格命名类型" class="headerlink" title="要使用 UpperCamelCase 风格命名类型"></a>要使用 <code>UpperCamelCase</code> 风格命名类型</h4><p>Classes（类名）、 enums（枚举类型）、 typedefs（类型定义）、 以及 type parameters（类型参数）应该把每个单词的首字母都大写（包含第一个单词）， 不使用分隔符。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SliderMenu</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpRequest</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> Predicate = <span class="built_in">bool</span> <span class="built_in">Function</span>&lt;T&gt;(T value);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> Foo([arg]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Foo</span>(anArg)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Foo</span>()</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>

<h4 id="要在库、包、文件夹、源文件中使用-lowercase-with-underscores-方式命名"><a href="#要在库、包、文件夹、源文件中使用-lowercase-with-underscores-方式命名" class="headerlink" title="要在库、包、文件夹、源文件中使用 lowercase_with_underscores 方式命名"></a>要在<code>库</code>、<code>包</code>、<code>文件夹</code>、<code>源文件</code>中使用 <code>lowercase_with_underscores</code> 方式命名</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span> peg_parser.source_scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;file_system.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;slider_menu.dart&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="要使用-lowercase-with-underscores-风格命名导入的前缀"><a href="#要使用-lowercase-with-underscores-风格命名导入的前缀" class="headerlink" title="要使用 lowercase_with_underscores 风格命名导入的前缀"></a>要使用 <code>lowercase_with_underscores</code> 风格命名导入的前缀</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:math&#x27;</span> <span class="keyword">as</span> math;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:angular_components/angular_components&#x27;</span></span><br><span class="line">    <span class="keyword">as</span> angular_components;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:js/js.dart&#x27;</span> <span class="keyword">as</span> js;</span><br></pre></td></tr></table></figure>

<h4 id="要使用-lowerCamelCase-风格来命名其他的标识符"><a href="#要使用-lowerCamelCase-风格来命名其他的标识符" class="headerlink" title="要使用 lowerCamelCase 风格来命名其他的标识符"></a>要使用 <code>lowerCamelCase</code> 风格来命名其他的标识符</h4><p>类成员、顶级定义、变量、参数以及命名参数等 <em>除了</em>第一个单词，每个单词首字母都应大写，并且不使用分隔符</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> item;</span><br><span class="line"></span><br><span class="line">HttpRequest httpRequest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> align(<span class="built_in">bool</span> clearItems) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="推荐使用-lowerCamelCase-来命名常量"><a href="#推荐使用-lowerCamelCase-来命名常量" class="headerlink" title="推荐使用 lowerCamelCase 来命名常量"></a>推荐使用 <code>lowerCamelCase</code> 来命名常量</h4><p>在新的代码中，使用 <code>lowerCamelCase</code> 来命名常量，包括枚举的值</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pi = <span class="number">3.14</span>;</span><br><span class="line"><span class="keyword">const</span> defaultTimeout = <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">final</span> urlScheme = <span class="built_in">RegExp</span>(<span class="string">&#x27;^([a-z]+):&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dice</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">final</span> numberGenerator = Random();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="要把超过两个字母的首字母大写缩略词和缩写词当做一般单词来对待"><a href="#要把超过两个字母的首字母大写缩略词和缩写词当做一般单词来对待" class="headerlink" title="要把超过两个字母的首字母大写缩略词和缩写词当做一般单词来对待"></a>要把超过两个字母的首字母大写缩略词和缩写词当做一般单词来对待</h4><p>首字母大写缩略词比较难阅读， 特别是多个缩略词连载一起的时候会引起歧义。 例如，一个以 <code>HTTPSFTP</code> 开头的名字， 没有办法判断它是指 HTTPS FTP 还是 HTTP SFTP 。</p>
<p>为了避免上面的情况，缩略词和缩写词要像普通单词一样首字母大写， 两个字母的单词除外。 （像 ID 和 Mr. 这样的双字母<em>缩写词</em>仍然像一般单词一样首字母大写。）</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">HttpConnectionInfo</span><br><span class="line">uiHandler</span><br><span class="line">IOStream</span><br><span class="line">HttpRequest</span><br><span class="line">Id</span><br><span class="line">DB</span><br></pre></td></tr></table></figure>

<h4 id="不要-使用前缀字母"><a href="#不要-使用前缀字母" class="headerlink" title="不要 使用前缀字母"></a><strong>不要</strong> 使用前缀字母</h4><h3 id="顺序"><a href="#顺序" class="headerlink" title="顺序"></a>顺序</h3><p>为了使文件前面部分保持整洁，我们规定了关键字出现顺序的规则。 每个“部分”应该使用空行分割。</p>
<h4 id="要-把-“dart-”-导入语句放到其他导入语句之前"><a href="#要-把-“dart-”-导入语句放到其他导入语句之前" class="headerlink" title="要 把 “dart:” 导入语句放到其他导入语句之前"></a><strong>要</strong> 把 “dart:” 导入语句放到其他导入语句之前</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:async&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:html&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:bar/bar.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:foo/foo.dart&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="要-把-“package-”-导入语句放到项目相关导入语句之前。"><a href="#要-把-“package-”-导入语句放到项目相关导入语句之前。" class="headerlink" title="要 把 “package:” 导入语句放到项目相关导入语句之前。"></a><strong>要</strong> 把 “package:” 导入语句放到项目相关导入语句之前。</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:bar/bar.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:foo/foo.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;util.dart&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="推荐-把外部扩展-“package-”-导入语句放到其他语句之前"><a href="#推荐-把外部扩展-“package-”-导入语句放到其他语句之前" class="headerlink" title="推荐 把外部扩展 “package:” 导入语句放到其他语句之前"></a><strong>推荐</strong> 把外部扩展 “package:” 导入语句放到其他语句之前</h4><p>如果你使用了多个 “package:” 导入语句来导入自己的包以及其他外部扩展包， 推荐将自己的包分开放到一个额外的部分</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:bar/bar.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:foo/foo.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:my_package/util.dart&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="要-把导出（export）语句作为一个单独的部分放到所有导入语句之后"><a href="#要-把导出（export）语句作为一个单独的部分放到所有导入语句之后" class="headerlink" title="要 把导出（export）语句作为一个单独的部分放到所有导入语句之后"></a><strong>要</strong> 把导出（export）语句作为一个单独的部分放到所有导入语句之后</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;src/error.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;src/foo_bar.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="string">&#x27;src/error.dart&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="要-按照字母顺序来排序每个部分中的语句"><a href="#要-按照字母顺序来排序每个部分中的语句" class="headerlink" title="要 按照字母顺序来排序每个部分中的语句"></a><strong>要</strong> 按照字母顺序来排序每个部分中的语句</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:bar/bar.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:foo/foo.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;foo.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;foo/foo.dart&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h3><p>和其他大部分语言一样， Dart 忽略空格。但是，<em>人</em>不会。 具有一致的空格风格有助于帮助我们能够用编译器相同的方式理解代码。</p>
<h4 id="要使用-dartfmt-格式化你的代码"><a href="#要使用-dartfmt-格式化你的代码" class="headerlink" title="要使用 dartfmt 格式化你的代码"></a>要使用 <a target="_blank" rel="noopener" href="https://github.com/dart-lang/dart_style"><code>dartfmt</code></a> 格式化你的代码</h4><h4 id="避免单行超过-80-个字符"><a href="#避免单行超过-80-个字符" class="headerlink" title="避免单行超过 80 个字符"></a>避免单行超过 80 个字符</h4><h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><h3 id="要像句子一样来格式化注释"><a href="#要像句子一样来格式化注释" class="headerlink" title="要像句子一样来格式化注释"></a>要像句子一样来格式化注释</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Not if there is nothing before it.</span></span><br><span class="line"><span class="keyword">if</span> (_chunks.isEmpty) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure>

<h4 id="不要-使用块注释作用作解释说明"><a href="#不要-使用块注释作用作解释说明" class="headerlink" title="不要 使用块注释作用作解释说明"></a><strong>不要</strong> 使用块注释作用作解释说明</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">greet(name) &#123;</span><br><span class="line">  <span class="comment">// Assume we have a valid name.</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;Hi, <span class="subst">$name</span>!&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="要使用-文档注释来注释成员和类型"><a href="#要使用-文档注释来注释成员和类型" class="headerlink" title="要使用 /// 文档注释来注释成员和类型"></a>要使用 <code>///</code> 文档注释来注释成员和类型</h3><h3 id="要在文档注释开头有一个单句总结"><a href="#要在文档注释开头有一个单句总结" class="headerlink" title="要在文档注释开头有一个单句总结"></a>要在文档注释开头有一个单句总结</h3><h3 id="考虑在文档注释中添加示例代码"><a href="#考虑在文档注释中添加示例代码" class="headerlink" title="考虑在文档注释中添加示例代码"></a>考虑在文档注释中添加示例代码</h3><h3 id="要使用方括号在文档注释中引用作用域内的标识符"><a href="#要使用方括号在文档注释中引用作用域内的标识符" class="headerlink" title="要使用方括号在文档注释中引用作用域内的标识符"></a>要使用方括号在文档注释中引用作用域内的标识符</h3><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="要在-part-of-中使用字符串"><a href="#要在-part-of-中使用字符串" class="headerlink" title="要在 part of 中使用字符串"></a>要在 <code>part of</code> 中使用字符串</h3><p>很多 Dart 开发者会避免直接使用 <code>part</code> 。他们发现当库仅有一个文件的时候很容易读懂代码。 如果你确实要使用 <code>part</code> 将库的一部分拆分为另一个文件，则 Dart 要求另一个文件指示它所属库的路径。 由于遗留原因， Dart 允许 <code>part of</code> 指令使用它所属的库的<em>名称</em>。 这使得工具很难直接查找到这个文件对应主库文件，使得库和文件之间的关系模糊不清。</p>
<p>推荐的现代语法是使用 URI 字符串直接指向库文件。 首选的现代语法是使用直接指向库文件的URI字符串，URI 的使用和其他指令中一样。 如果你有一些库，<code>my_library.dart</code>，其中包含：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span> my_library;</span><br><span class="line"></span><br><span class="line"><span class="keyword">part</span> <span class="string">&quot;some/other/file.dart&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>从库中拆分的文件应该如下所示:</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">part</span> of <span class="string">&quot;../../my_library.dart&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="不要-导入-package-中-src-目录下的库"><a href="#不要-导入-package-中-src-目录下的库" class="headerlink" title="不要 导入 package 中 src 目录下的库"></a>不要 导入 package 中 <code>src</code> 目录下的库</h3><p><code>lib</code> 下的 <code>src</code> 目录<a target="_blank" rel="noopener" href="http://www.dartdoc.cn/tools/pub/package-layout">被指定</a>为 package 自己实现的私有库。 基于包维护者对版本的考虑，package 使用了这种约定。 在不破坏 package 的情况下，维护者可以自由地对 <code>src</code>目录下的代码进行修改。</p>
<h3 id="建议使用相对路径在导入你自己-package-中的-lib-目录"><a href="#建议使用相对路径在导入你自己-package-中的-lib-目录" class="headerlink" title="建议使用相对路径在导入你自己 package 中的 lib 目录"></a>建议使用相对路径在导入你自己 package 中的 <code>lib</code> 目录</h3><h3 id="要使用临近字符字的方式连接字面量字符串"><a href="#要使用临近字符字的方式连接字面量字符串" class="headerlink" title="要使用临近字符字的方式连接字面量字符串"></a>要使用临近字符字的方式连接字面量字符串</h3><h3 id="避免在字符串插值中使用不必要的大括号"><a href="#避免在字符串插值中使用不必要的大括号" class="headerlink" title="避免在字符串插值中使用不必要的大括号"></a>避免在字符串插值中使用不必要的大括号</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;Hi, <span class="subst">$name</span>!&#x27;</span></span><br><span class="line">    <span class="string">&quot;Wear your wildest <span class="subst">$decade</span>&#x27;s outfit.&quot;</span></span><br><span class="line">    <span class="string">&#x27;Wear your wildest <span class="subst">$&#123;decade&#125;</span>s outfit.&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="要-尽可能的使用集合字面量"><a href="#要-尽可能的使用集合字面量" class="headerlink" title="要 尽可能的使用集合字面量"></a>要 尽可能的使用集合字面量</h3><p>Dart 集合中原生支持了四种类型：list， map， queue， 和 set</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> points = [];</span><br><span class="line"><span class="keyword">var</span> addresses = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> points = &lt;Point&gt;[];</span><br><span class="line"><span class="keyword">var</span> addresses = &lt;<span class="built_in">String</span>, Address&gt;&#123;&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="不要使用-length-来判断一个集合是否为空"><a href="#不要使用-length-来判断一个集合是否为空" class="headerlink" title="不要使用 .length 来判断一个集合是否为空"></a>不要使用 <code>.length</code> 来判断一个集合是否为空</h3><p>Dart 提供了更加高效率和易用的 getter 函数：<code>.isEmpty</code> 和<code>.isNotEmpty</code></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (lunchBox.isEmpty) <span class="keyword">return</span> <span class="string">&#x27;so hungry...&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (words.isNotEmpty) <span class="keyword">return</span> words.join(<span class="string">&#x27; &#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="考虑使用高阶（higher-order）函数来转换集合数据"><a href="#考虑使用高阶（higher-order）函数来转换集合数据" class="headerlink" title="考虑使用高阶（higher-order）函数来转换集合数据"></a>考虑使用高阶（higher-order）函数来转换集合数据</h3><p>如果你有一个集合并且想要修改里面的内容转换为另外一个集合， 使用 <code>.map()</code>、 <code>.where()</code> 以及 <code>Iterable</code> 提供的其他函数会让代码更加简洁</p>
<p>使用这些函数替代 <code>for</code> 循环会让代码更加可以表述你的意图， 生成一个新的集合系列并不具有副作用</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aquaticNames = animals</span><br><span class="line">    .where((animal) =&gt; animal.isAquatic)</span><br><span class="line">    .map((animal) =&gt; animal.name);</span><br></pre></td></tr></table></figure>

<h3 id="避免在-Iterable-forEach-中使用字面量函数"><a href="#避免在-Iterable-forEach-中使用字面量函数" class="headerlink" title="避免在 Iterable.forEach() 中使用字面量函数"></a>避免在 <code>Iterable.forEach()</code> 中使用字面量函数</h3><p><code>forEach()</code> 函数在 JavaScript 中被广泛使用， 这因为内置的 <code>for-in</code> 循环通常不能达到你想要的效果。 在Dart中，如果要对序列进行迭代，惯用的方式是使用循环。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> person <span class="keyword">in</span> people) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="不要使用-List-from-除非想修改结果的类型"><a href="#不要使用-List-from-除非想修改结果的类型" class="headerlink" title="不要使用 List.from() 除非想修改结果的类型"></a>不要使用 <code>List.from()</code> 除非想修改结果的类型</h3><p>给定一个可迭代的对象，有两种常见方式来生成一个包含相同元素的 list</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> copy1 = iterable.toList(); <span class="comment">// 保留了原始对象的类型参数</span></span><br><span class="line"><span class="keyword">var</span> copy2 = <span class="built_in">List</span>.from(iterable);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Creates a List&lt;int&gt;:</span></span><br><span class="line"><span class="keyword">var</span> iterable = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="comment">// Prints &quot;List&lt;int&gt;&quot;:</span></span><br><span class="line"><span class="built_in">print</span>(iterable.toList().runtimeType);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Creates a List&lt;int&gt;:</span></span><br><span class="line"><span class="keyword">var</span> iterable = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="comment">// Prints &quot;List&lt;dynamic&gt;&quot;:</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">List</span>.from(iterable).runtimeType);</span><br></pre></td></tr></table></figure>

<p>如果你<em>想要</em>改变类型，那么可以调用 <code>List.from()</code></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>, <span class="number">2.3</span>, <span class="number">4</span>]; <span class="comment">// List&lt;num&gt;.</span></span><br><span class="line">numbers.removeAt(<span class="number">1</span>); <span class="comment">// Now it only contains integers.</span></span><br><span class="line"><span class="keyword">var</span> ints = <span class="built_in">List</span>&lt;<span class="built_in">int</span>&gt;.from(numbers);</span><br></pre></td></tr></table></figure>

<h3 id="要使用-whereType-按类型过滤集合"><a href="#要使用-whereType-按类型过滤集合" class="headerlink" title="要使用 whereType() 按类型过滤集合"></a>要使用 <code>whereType()</code> 按类型过滤集合</h3><p>假设你有一个 list 里面包含了多种类型的对象， 但是你指向从它里面获取整型类型的数据。 那么你可以像下面这样使用 <code>where()</code> </p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> objects = [<span class="number">1</span>, <span class="string">&quot;a&quot;</span>, <span class="number">2</span>, <span class="string">&quot;b&quot;</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> ints = objects.where((e) =&gt; e <span class="keyword">is</span> <span class="built_in">int</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">上面的例子中，虽然你想得到一个 Iterable&lt;int&gt;，然而它返回了一个 Iterable&lt;Object&gt;， 这是因为，这是你过滤后得到的类型。</span></span><br><span class="line"><span class="comment">有时候你会看到通过添加 cast() 来“修正”上面的错误：</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> objects = [<span class="number">1</span>, <span class="string">&quot;a&quot;</span>, <span class="number">2</span>, <span class="string">&quot;b&quot;</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> ints = objects.where((e) =&gt; e <span class="keyword">is</span> <span class="built_in">int</span>).cast&lt;<span class="built_in">int</span>&gt;();</span><br></pre></td></tr></table></figure>

<p>代码冗长，并导致创建了两个包装器，获取元素对象要间接通过两层，并进行两次多余的运行时检查。 幸运的是，对于这个用例，核心库提供了 <code>whereType()</code>]<a target="_blank" rel="noopener" href="https://api.dartlang.org/stable/dart-core/Iterable/whereType.html">where-type</a>方法：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> objects = [<span class="number">1</span>, <span class="string">&quot;a&quot;</span>, <span class="number">2</span>, <span class="string">&quot;b&quot;</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> ints = objects.whereType&lt;<span class="built_in">int</span>&gt;();</span><br></pre></td></tr></table></figure>

<h3 id="避免使用-cast"><a href="#避免使用-cast" class="headerlink" title="避免使用 cast()"></a>避免使用 <code>cast()</code></h3><p>避免使用 <code>cast()</code> 来“改变”集合中元素的类型</p>
<p>推荐使用下面的方式来替代：</p>
<ul>
<li><p><strong>用恰当的类型创建集合。</strong> 修改集合被首次创建时的代码， 为集合提供有一个恰当的类型。</p>
</li>
<li><p><strong>在访问元素时进行 cast 操作。</strong> 如果要立即对集合进行迭代， 在迭代内部 cast 每个元素。</p>
</li>
<li><p><strong>逼不得已进行 cast，请使用 List.from() 。</strong> 如果最终你会使用到集合中的大部分元素， 并且不需要对象还原到原始的对象类型，使用 <code>List.from()</code> 来转换它。</p>
<p><code>cast()</code> 方法返回一个惰性集合（lazy collection），<em>每个操作</em>都会对元素进行检查。 如果只对少数元素执行少量操作，那么这种惰性方式就非常合适。 但在许多情况下，惰性验证和包裹（wrapping）所产生的开销已经超过了它们所带来的好处。</p>
</li>
</ul>
<h3 id="要-使用函数声明的方式为函数绑定名称"><a href="#要-使用函数声明的方式为函数绑定名称" class="headerlink" title="要 使用函数声明的方式为函数绑定名称"></a><strong>要</strong> 使用函数声明的方式为函数绑定名称</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  localFunction() &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="不要-为字段创建不必要的-getter-和-setter-方法"><a href="#不要-为字段创建不必要的-getter-和-setter-方法" class="headerlink" title="不要 为字段创建不必要的 getter 和 setter 方法"></a><strong>不要</strong> 为字段创建不必要的 getter 和 setter 方法</h3><p>在 Java 和 C# 中，通常情况下会将所有的字段隐藏到 getter 和 setter 方法中（在 C# 中被称为属性）， 即使实现中仅仅是指向这些字段。在这种方式下，即使你在这些成员上做多少的事情，你也不需要直接访问它们。 这是因为，在 Java 中，调用 getter 方法和直接访问字段是不同的。 在 C# 中，访问属性与访问字段不是二进制兼容的。</p>
<p>Dart 不存在这个限制。字段和 getter/setter 是完全无法区分的。 你可以在类中公开一个字段，然后将其包装在 getter 和 setter 中， 而不会影响任何使用该字段的代码。</p>
<h3 id="推荐-使用-final-关键字来创建只读属性。"><a href="#推荐-使用-final-关键字来创建只读属性。" class="headerlink" title="推荐 使用 final 关键字来创建只读属性。"></a><strong>推荐</strong> 使用 <code>final</code> 关键字来创建只读属性。</h3><h3 id="考虑-对简单成员使用-gt"><a href="#考虑-对简单成员使用-gt" class="headerlink" title="考虑 对简单成员使用 =&gt;"></a><strong>考虑</strong> 对简单成员使用 <code>=&gt;</code></h3><p>除了使用 <code>=&gt;</code> 可以用作函数表达式以外， Dart 还允许使用它来定义成员。 这种风格非常适合，仅进行计算并返回结果的简单成员。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">double</span> <span class="keyword">get</span> area =&gt; (right - left) * (bottom - top);</span><br><span class="line"></span><br><span class="line"><span class="built_in">bool</span> isReady(<span class="built_in">num</span> time) =&gt; minTime == <span class="keyword">null</span> || minTime &lt;= time;</span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span> capitalize(<span class="built_in">String</span> name) =&gt;</span><br><span class="line">    <span class="string">&#x27;<span class="subst">$&#123;name[<span class="number">0</span>].toUpperCase()&#125;</span><span class="subst">$&#123;name.substring(<span class="number">1</span>)&#125;</span>&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h2><h3 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h3><h4 id="要-使用一致的术语"><a href="#要-使用一致的术语" class="headerlink" title="要 使用一致的术语"></a><strong>要</strong> 使用一致的术语</h4><p>在你的代码中，同样的东西要使用同样的名字。 如果之前已经存在的 API 之外命名，并且用户已经熟知， 那么请继续使用这个命名。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pageCount         <span class="comment">// A field.</span></span><br><span class="line">updatePageCount() <span class="comment">// Consistent with pageCount.</span></span><br><span class="line">toSomething()     <span class="comment">// Consistent with Iterable&#x27;s toList().</span></span><br><span class="line">asSomething()     <span class="comment">// Consistent with List&#x27;s asMap().</span></span><br><span class="line">Point             <span class="comment">// A familiar concept.</span></span><br></pre></td></tr></table></figure>

<h4 id="推荐-把最具描述性的名词放到最后"><a href="#推荐-把最具描述性的名词放到最后" class="headerlink" title="推荐 把最具描述性的名词放到最后"></a><strong>推荐</strong> 把最具描述性的名词放到最后</h4><p>最后一个词应该是最具描述性的东西。 你可以在其前面添加其他单词，例如形容词，以进一步描述该事物。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pageCount             <span class="comment">// A count (of pages).</span></span><br><span class="line">ConversionSink        <span class="comment">// A sink for doing conversions.</span></span><br><span class="line">ChunkedConversionSink <span class="comment">// A ConversionSink that&#x27;s chunked.</span></span><br><span class="line">CssFontFaceRule       <span class="comment">// A rule for font faces in CSS.</span></span><br></pre></td></tr></table></figure>

<h4 id="考虑-尽量让代码看起来像普通的句子"><a href="#考虑-尽量让代码看起来像普通的句子" class="headerlink" title="考虑 尽量让代码看起来像普通的句子"></a><strong>考虑</strong> 尽量让代码看起来像普通的句子</h4><p>当你不知道如何命名 API 的时候， 使用你的 API 编写些代码，试着让代码看起来像普通的句子</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &quot;If errors is empty...&quot;</span></span><br><span class="line"><span class="keyword">if</span> (errors.isEmpty) ...</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;Hey, subscription, cancel!&quot;</span></span><br><span class="line">subscription.cancel();</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;Get the monsters where the monster has claws.&quot;</span></span><br><span class="line">monsters.where((monster) =&gt; monster.hasClaws);</span><br></pre></td></tr></table></figure>

<h4 id="推荐-使用名词短语来命名不是布尔类型的变量和属性"><a href="#推荐-使用名词短语来命名不是布尔类型的变量和属性" class="headerlink" title="推荐 使用名词短语来命名不是布尔类型的变量和属性"></a><strong>推荐</strong> 使用名词短语来命名不是布尔类型的变量和属性</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list.length</span><br><span class="line">context.lineWidth</span><br><span class="line">quest.rampagingSwampBeast</span><br></pre></td></tr></table></figure>

<h4 id="推荐-使用非命令式动词短语命名布尔类型的变量和属性"><a href="#推荐-使用非命令式动词短语命名布尔类型的变量和属性" class="headerlink" title="推荐 使用非命令式动词短语命名布尔类型的变量和属性"></a><strong>推荐</strong> 使用非命令式动词短语命名布尔类型的变量和属性</h4><p>布尔名称通常用在控制语句中当做条件， 因此你要应该让这个名字在控制语句中读起来语感很好</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.closeable) ...  <span class="comment">// Adjective.</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.canClose) ...   <span class="comment">// Verb.</span></span><br><span class="line">  </span><br><span class="line">isEmpty</span><br><span class="line">hasElements</span><br><span class="line">canClose</span><br><span class="line">closesWindow</span><br><span class="line">canShowPopup</span><br><span class="line">hasShownPopup</span><br></pre></td></tr></table></figure>

<h4 id="考虑-省略命名布尔参数的动词"><a href="#考虑-省略命名布尔参数的动词" class="headerlink" title="考虑 省略命名布尔参数的动词"></a><strong>考虑</strong> 省略命名布尔<em>参数</em>的动词</h4><p>对于命名布尔参数， 没有动词的名称通常看起来更加舒服。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Isolate.spawn(entryPoint, message, paused: <span class="keyword">false</span>);</span><br><span class="line"><span class="keyword">var</span> copy = <span class="built_in">List</span>.from(elements, growable: <span class="keyword">true</span>);</span><br><span class="line"><span class="keyword">var</span> regExp = <span class="built_in">RegExp</span>(pattern, caseSensitive: <span class="keyword">false</span>);</span><br></pre></td></tr></table></figure>

<h4 id="考虑-为布尔属性或变量取“肯定”含义的名字"><a href="#考虑-为布尔属性或变量取“肯定”含义的名字" class="headerlink" title="考虑 为布尔属性或变量取“肯定”含义的名字"></a><strong>考虑</strong> 为布尔属性或变量取“肯定”含义的名字</h4><p>大多数布尔值名称具有概念形式上的“肯定”和“否定”， 前者感觉更现实基本描述，后者是对基本描述的否定，例如： “open” 和 “closed”， “enabled” 和 “disabled”，等等。 通常后者的名称字面上有个前缀，用来否定前者： “visible” 和 “<em>in</em>-visible”， “connected” 和 “<em>dis</em>-connected”， “zero” 和 “<em>non</em>-zero”。</p>
<p>当选择 <code>true</code> 代表两种情况中的其中一种情况 在布尔的两种情况中，当选择 <code>true</code> 代表其中一种情况， 或使用这种情况作为属性名称时，更倾向使用“肯定”或基本描述的方式。 布尔成员通常嵌套在逻辑表达式中，包括否定运算符。 如果属性本身读起来想是个“否定”的， 这将让读者耗费更多精力去阅读双重否定及理解代码的含义。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (socket.isConnected &amp;&amp; database.hasData) &#123;</span><br><span class="line">  socket.write(database.read());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="推荐-使用命令式动词短语来命名带有副作用的函数或者方法"><a href="#推荐-使用命令式动词短语来命名带有副作用的函数或者方法" class="headerlink" title="推荐 使用命令式动词短语来命名带有副作用的函数或者方法"></a><strong>推荐</strong> 使用命令式动词短语来命名带有副作用的函数或者方法</h4><p>函数通常返回一个结果给调用者，并且执行一些任务或者带有副作用。 在像 Dart 这种命令式语言中，调用函数通常为了实现其副作用： 可能改变了对象的内部状态、 产生一些输出内容、或者和外部世界沟通等。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list.add(<span class="string">&quot;element&quot;</span>);</span><br><span class="line">queue.removeFirst();</span><br><span class="line"><span class="built_in">window</span>.refresh();</span><br></pre></td></tr></table></figure>

<h4 id="考虑-使用名词短语或者非命令式动词短语命名返回数据为主要功能的方法或者函数"><a href="#考虑-使用名词短语或者非命令式动词短语命名返回数据为主要功能的方法或者函数" class="headerlink" title="考虑 使用名词短语或者非命令式动词短语命名返回数据为主要功能的方法或者函数"></a><strong>考虑</strong> 使用名词短语或者非命令式动词短语命名返回数据为主要功能的方法或者函数</h4><p>虽然这些函数可能也有副作用，但是其主要目的是返回一个数据给调用者。 如果该函数无需参数通常应该是一个 getter 。 有时候获取一个属性则需要一些参数，比如，<code>elementAt()</code> 从集合中返回一个数据，但是需要一个指定返回那个数据的参数。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> element = list.elementAt(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">var</span> first = list.firstWhere(test);</span><br><span class="line"><span class="keyword">var</span> char = string.codeUnitAt(<span class="number">4</span>);</span><br></pre></td></tr></table></figure>

<h4 id="考虑-使用命令式动词短语命名一个函数或方法，若果你希望它的执行能被重视"><a href="#考虑-使用命令式动词短语命名一个函数或方法，若果你希望它的执行能被重视" class="headerlink" title="考虑 使用命令式动词短语命名一个函数或方法，若果你希望它的执行能被重视"></a><strong>考虑</strong> 使用命令式动词短语命名一个函数或方法，若果你希望它的执行能被重视</h4><p>当一个成员产生的结果没有额外的影响，它通常应该使用一个 getter 或者一个名词短语描述来命名，用于描述它返回的结果。 但是，有时候执行产生的结果很重要。 它可能容易导致运行时故障，或者使用重量级的资源（例如，网络或文件 I/O）。 在这种情况下，你希望调用者考虑成员在进行的工作， 这时，为成员提供描述该工作的动词短语。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> table = database.downloadData();</span><br><span class="line"><span class="keyword">var</span> packageVersions = packageGraph.solveConstraints();</span><br></pre></td></tr></table></figure>

<h4 id="避免-在方法命名中使用-get-开头"><a href="#避免-在方法命名中使用-get-开头" class="headerlink" title="避免 在方法命名中使用 get 开头"></a><strong>避免</strong> 在方法命名中使用 <code>get</code> 开头</h4><p>在大多数情况下，getter 方法名称中应该移除 <code>get</code> 。 例如，定义一个名为 <code>breakfastOrder</code> 的 getter 方法， 来替代名为 <code>getBreakfastOrder()</code> 的方法。</p>
<p>即使成员因为需要传入参数或者 getter 不适用， 而需要通过方法来实现，也应该避免使用 <code>get</code> 开头。 与之前的准则一样：</p>
<ul>
<li>如果调用者主要关心的是方法的返回值，只需删除 <code>get</code> 并使用<a target="_blank" rel="noopener" href="http://www.dartdoc.cn/guides/language/effective-dart/design#prefer-a-noun-phrase-or-non-imperative-verb-phrase-for-a-function-or-method-if-returning-a-value-is-its-primary-purpose">名词短语</a>命名， 如 <code>breakfastOrder()</code> 。</li>
<li>如果调用者关心的是正在完成的工作，请使用<a target="_blank" rel="noopener" href="http://www.dartdoc.cn/guides/language/effective-dart/design#consider-an-imperative-verb-phrase-for-a-function-or-method-if-you-want-to-draw-attention-to-the-work-it-performs">动名词短语</a>命名， 这种情况下应该选择一个更能准确描述工作的动名词，而不是使用 <code>get</code> 命名， 如 <code>create</code>， <code>download</code>， <code>fetch</code>， <code>calculate</code>， <code>request</code>， <code>aggregate</code>，等等。</li>
</ul>
<h4 id="推荐-使用-to-来命名把对象的状态转换到一个新的对象的函数"><a href="#推荐-使用-to-来命名把对象的状态转换到一个新的对象的函数" class="headerlink" title="推荐 使用 to___() 来命名把对象的状态转换到一个新的对象的函数"></a><strong>推荐</strong> 使用 <code>to___()</code> 来命名把对象的状态转换到一个新的对象的函数</h4><h4 id="推荐-使用-as-来命名把原来对象转换为另外一种表现形式的函数"><a href="#推荐-使用-as-来命名把原来对象转换为另外一种表现形式的函数" class="headerlink" title="推荐 使用 as___() 来命名把原来对象转换为另外一种表现形式的函数"></a><strong>推荐</strong> 使用 <code>as___()</code> 来命名把原来对象转换为另外一种表现形式的函数</h4><h4 id="避免-在方法或者函数名称中描述参数"><a href="#避免-在方法或者函数名称中描述参数" class="headerlink" title="避免 在方法或者函数名称中描述参数"></a><strong>避免</strong> 在方法或者函数名称中描述参数</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list.add(element);</span><br><span class="line">map.remove(key);</span><br><span class="line"><span class="comment">/// <span class="markdown">调用代码的时候可以看到参数，所以无需再次显示参数了</span></span></span><br></pre></td></tr></table></figure>

<h4 id="要-在命名参数时，遵循现有的助记符约定"><a href="#要-在命名参数时，遵循现有的助记符约定" class="headerlink" title="要 在命名参数时，遵循现有的助记符约定"></a><strong>要</strong> 在命名参数时，遵循现有的助记符约定</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// E 用于集合中的 元素 类型</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IterableBase</span>&lt;<span class="title">E</span>&gt; </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt; </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HashSet</span>&lt;<span class="title">E</span>&gt; </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RedBlackTree</span>&lt;<span class="title">E</span>&gt; </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//K 和 V 分别用于关联集合中的 key 和 value 类型</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Map</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Multimap</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MapEntry</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;&#125;</span><br><span class="line"><span class="comment">// R 用于函数或类方法的 返回值 类型</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">ExpressionVisitor</span>&lt;<span class="title">R</span>&gt; </span>&#123;</span><br><span class="line">  R visitBinary(BinaryExpression node);</span><br><span class="line">  R visitLiteral(LiteralExpression node);</span><br><span class="line">  R visitUnary(UnaryExpression node);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/// <span class="markdown">除此以外，对于具有单个类型参数的泛型，如果助记符能在周围类型中明显表达泛型含义， 请使用T，S 和 U 。 /// 这里允许多个字母嵌套且不会与周围命名产生歧义。例如：</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Future</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  Future&lt;S&gt; then&lt;S&gt;(FutureOr&lt;S&gt; onValue(T value)) =&gt; ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
      
      

  <div class="post-copyright">
    <p class="copyright-item">
      <span>作者: </span>
      <span>Fynn</span>
    </p>
    <p class="copyright-item">
      <span>来源: </span>
      <a href="https://fynn90.github.io">https://fynn90.github.io</a>
    </p>
    <p class="copyright-item">
      <span>链接: </span>
      <a href="https://fynn90.github.io/2019/06/03/Dart%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">https://fynn90.github.io/2019/06/03/Dart%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</a>
    </p>

    <p class="copyright-item lincese">
      
      本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
    </p>
  </div>



      
      
  <div class="post-reward">
    <input type="checkbox" name="reward" id="reward" hidden />
    <label class="reward-button" for="reward">赞赏支持</label>
    <div class="qr-code">
      
      
        <label class="qr-code-image" for="reward">
          <img class="image" src="/image/reward/wechat.png" title="wechat">
          <div>wechat</div>
        </label>
      
      
        <label class="qr-code-image" for="reward">
          <img class="image" src="/image/reward/alipay.png" title="alipay">
          <div>alipay</div>
        </label>
      
    </div>
  </div>

    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Dart/">Dart</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2019/07/13/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84Even%20Loop%E5%92%8CNode.JS%E7%9A%84Even%20Loop/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">浏览器和Node.js中的Event Loop</span>
        <span class="prev-text nav-mobile">上一篇</span>
      </a>
    
    
      <a class="next" href="/2019/06/02/Dart%E8%AF%AD%E8%A8%80/">
        <span class="next-text nav-default">Dart语言</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>  
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:fynn.90@outlook.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
        
          <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/%E5%B8%86-%E9%82%93-17163589/" class="iconfont icon-linkedin" title="linkedin"></a>
        
      
    
      
        
          <a target="_blank" rel="noopener" href="https://plus.google.com/u/0/117459332873536225443" class="iconfont icon-google" title="google"></a>
        
      
    
      
        
          <a target="_blank" rel="noopener" href="https://github.com/fatefan" class="iconfont icon-github" title="github"></a>
        
      
    
      
        
          <a target="_blank" rel="noopener" href="http://www.weibo.com/306019091" class="iconfont icon-weibo" title="weibo"></a>
        
      
    
      
        
          <a target="_blank" rel="noopener" href="https://www.zhihu.com/people/FynnDeng/activities" class="iconfont icon-zhihu" title="zhihu"></a>
        
      
    
      
    
    
    
  </div>


<div class="copyright">
  
  <span class="copyright-year">
    
    &copy; 
     
      2017 - 
    
    2022

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Fynn</span>
  </span>
  
</div>
      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  

  
  




    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=1.1.2"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1.2"></script>

    
  </body>
</html>
